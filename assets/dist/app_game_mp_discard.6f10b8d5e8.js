(()=>{"use strict";var e,t,s,a,i={138:function(e,t,s){s(1);var a,i,r,n,d=s(2),l=s(120),o=s(121),c=s(122),g=s(123),p=s(124),h=s(125),m=s(126),u=s(127),_=s(130);function v(e){return e.reduce((e,t)=>e+t,0)}var f=s(131),b=s(133);class y extends _.wG{}class I{#e=d.state(-1);get owner(){return d.get(this.#e)}set owner(e){d.set(this.#e,e,!0)}}class x{isMe;ownerName=""}class k extends _.Nd{#t=d.state(d.proxy([]));get playerInfo(){return d.get(this.#t)}set playerInfo(e){d.set(this.#t,e,!0)}#s=d.state(0);get turnIndex(){return d.get(this.#s)}set turnIndex(e){d.set(this.#s,e,!0)}#a=d.state(d.proxy([]));get playerDiscInfo(){return d.get(this.#a)}set playerDiscInfo(e){d.set(this.#a,e,!0)}discIndex=0;#i=d.derived(()=>this.playing&&this.playerIsMe(this.playerInfo[this.turnIndex]));get canMove(){return d.get(this.#i)}set canMove(e){d.set(this.#i,e)}formatPlayerName(e,t){return e?(0,f.M0)(this.clients[e.owner],e.owner):`<unknown${void 0===t?"":" pn#"+t}>`}playerIsMe(e){return e?.owner===this.localClient.cn}processWelcomeGame(e){super.processWelcomeGame(e),this.processPlayerInfos(e),this.processDiscInfos(e),this.processRoundInfo(e)}processPlayerInfos(e){let t=[];for(let s=0;s<=this.clients.length;s++){let s=e.getCN();if(s<0)break;let a=new this.PlayerInfoType;a.owner=s,this.processPlayerInfo(e,a),t.push(a)}if((this.playerInfo=t).length){if(this.turnIndex=e.getInt(),this.turnIndex<0||this.turnIndex>=t.length)throw Error("bad turnIndex")}else this.turnIndex=0}processDiscInfos(e){let t=[];for(let s=0;s<=this.clients.length;s++){let s=e.getString(20);if(!s)break;let a=e.getCN(),i=new this.PlayerDiscType;i.ownerName=`${s} (${a})`,this.processDiscInfo(e,i),t.push(i)}if(this.playerDiscInfo=t,this.discIndex=e.getInt(),this.discIndex<0||this.discIndex>this.playerDiscInfo.length)throw Error("bad discIndex")}processRoundStart(e){super.processRoundStart(e);let t=[];for(let s=0;s<=this.clients.length;s++){let s=e.getCN();if(s<0)break;let a=new this.PlayerInfoType;a.owner=s,t.push(a)}this.playerInfo=t,this.playerDiscInfo=[],this.turnIndex=0,this.discIndex=0,this.processRoundStartInfo(e)}processEliminateBase(e,t){let s=e.getInt(),a=this.playerInfo[s];if(!a)throw Error("invalid eliminate pn "+s);let i=new this.PlayerDiscType,r=this.clients[a.owner];if(!r)throw Error(`invalid owner ${a.owner} of pn ${s}`);i.ownerName=(0,f.M0)(r,a.owner),i.isMe=r===this.localClient;let n=this.eliminatePlayer(e,i,s,a,r,t);this.playerInfo.splice(s,1),this.playerDiscInfo.splice(this.discIndex,0,i),n&&this.discIndex++}processEliminate(e){this.processEliminateBase(e,!1)}processEliminateEarly(e){this.processEliminateBase(e,!0)}nextTurn(){++this.turnIndex==this.playerInfo.length&&(this.turnIndex=0)}}let M=[["optTurnTime","i",2e4,"Turn Time / ms","duration of each turn, in milliseconds",5e3,6e4],["optDecks","i",1,"Decks","number of decks to use",1,3]];function E({optDecks:e,optTurnTime:t}){return`${e} deck${1===e?"":"s"}, ${t} ms`}function w(e){return e?"primary":"secondary"}(a=r||(r={}))[a.WELCOME=0]="WELCOME",a[a.JOIN=1]="JOIN",a[a.LEAVE=2]="LEAVE",a[a.RESET=3]="RESET",a[a.RENAME=4]="RENAME",a[a.PING=5]="PING",a[a.PING_TIME=6]="PING_TIME",a[a.CHAT=7]="CHAT",a[a.ACTIVE=8]="ACTIVE",a[a.ROUND_WAIT=9]="ROUND_WAIT",a[a.ROUND_INTERM=10]="ROUND_INTERM",a[a.ROUND_START=11]="ROUND_START",a[a.READY=12]="READY",a[a.END_ROUND=13]="END_ROUND",a[a.MOVE_CONFIRM=14]="MOVE_CONFIRM",a[a.END_TURN=15]="END_TURN",a[a.PLAYER_ELIMINATE=16]="PLAYER_ELIMINATE",a[a.PLAYER_ELIMINATE_EARLY=17]="PLAYER_ELIMINATE_EARLY",a[a.PLAYER_PRIVATE_INFO_MY_HAND=18]="PLAYER_PRIVATE_INFO_MY_HAND",a[a.PLAYER_PRIVATE_INFO_ALT_MOVE=19]="PLAYER_PRIVATE_INFO_ALT_MOVE",a[a.PLAYER_PRIVATE_INFO_MOVE=20]="PLAYER_PRIVATE_INFO_MOVE",(i=n||(n={}))[i.RESET=0]="RESET",i[i.RENAME=1]="RENAME",i[i.PONG=2]="PONG",i[i.CHAT=3]="CHAT",i[i.ACTIVE=4]="ACTIVE",i[i.READY=5]="READY",i[i.MOVE=6]="MOVE",i[i.MOVE_END=7]="MOVE_END";class T extends y{#r=d.state(0);get score(){return d.get(this.#r)}set score(e){d.set(this.#r,e,!0)}#n=d.state(0);get streak(){return d.get(this.#n)}set streak(e){d.set(this.#n,e,!0)}#d=d.state(0);get wins(){return d.get(this.#d)}set wins(e){d.set(this.#d,e,!0)}#l=d.state(0);get losses(){return d.get(this.#l)}set losses(e){d.set(this.#l,e,!0)}#o=d.state(0);get rankLast(){return d.get(this.#o)}set rankLast(e){d.set(this.#o,e,!0)}#c=d.state(0);get rankBest(){return d.get(this.#c)}set rankBest(e){d.set(this.#c,e,!0)}#g=d.state(0);get rankWorst(){return d.get(this.#g)}set rankWorst(e){d.set(this.#g,e,!0)}updateScore(e,t){this.rankLast=e,this.rankLast=e,this.rankBest=Math.min(this.rankBest||e,e),this.rankWorst=Math.max(this.rankWorst,e),this.score+=t-e+1,1===e?(this.streak<0&&(this.streak=0),this.streak++,this.wins++):(this.streak>0&&(this.streak=0),this.streak--,this.losses++)}resetScore(){this.score=0,this.streak=0,this.wins=0,this.losses=0,this.rankLast=0,this.rankBest=0,this.rankWorst=0}readWelcome(e){super.readWelcome(e),this.score=e.getInt(),this.streak=e.getInt(),this.wins=e.getInt(),this.losses=e.getInt(),this.rankLast=e.getInt(),this.rankBest=e.getInt(),this.rankWorst=e.getInt()}}class S extends I{#p=d.state(d.proxy([]));get discarded(){return d.get(this.#p)}set discarded(e){d.set(this.#p,e,!0)}#h=d.state(0);get discardSum(){return d.get(this.#h)}set discardSum(e){d.set(this.#h,e,!0)}#m=d.state(!1);get immune(){return d.get(this.#m)}set immune(e){d.set(this.#m,e,!0)}#u=d.state();get hand(){return d.get(this.#u)}set hand(e){d.set(this.#u,e,!0)}}class R extends x{discarded=[];discardSum=0}class A extends k{PlayerInfoType=S;PlayerDiscType=R;#_=d.state(d.proxy((0,m.q)(M)));get mode(){return d.get(this.#_)}set mode(e){d.set(this.#_,e,!0)}#v=d.state(0);get myHand(){return d.get(this.#v)}set myHand(e){d.set(this.#v,e,!0)}#f=d.state(0);get myAltMove(){return d.get(this.#f)}set myAltMove(e){d.set(this.#f,e,!0)}#b=d.state(0);get deckSize(){return d.get(this.#b)}set deckSize(e){d.set(this.#b,e,!0)}#y=d.state(d.proxy(D()));get cardCountDiscard(){return d.get(this.#y)}set cardCountDiscard(e){d.set(this.#y,e,!0)}#I=d.state(d.proxy(D()));get cardCountRemain(){return d.get(this.#I)}set cardCountRemain(e){d.set(this.#I,e,!0)}#x=d.state(d.proxy(D()));get cardCountTotal(){return d.get(this.#x)}set cardCountTotal(e){d.set(this.#x,e,!0)}#k=d.state(d.proxy([]));get moveHistory(){return d.get(this.#k)}set moveHistory(e){d.set(this.#k,e,!0)}#M=d.state(!1);get pendingMoveUseHand(){return d.get(this.#M)}set pendingMoveUseHand(e){d.set(this.#M,e,!0)}#E=d.state(0);get pendingMoveTarget(){return d.get(this.#E)}set pendingMoveTarget(e){d.set(this.#E,e,!0)}#w=d.state(0);get pendingMoveGuess(){return d.get(this.#w)}set pendingMoveGuess(e){d.set(this.#w,e,!0)}get ROUND_TIME(){return this.mode.optTurnTime}INTERMISSION_TIME=3e4;newClient(){return new T}enterGame(e,t){this.setupGame(e),this.sendf("is",this.PROTOCOL_VERSION,t)}sendReset(){this.sendf("i",n.RESET)}sendRename(e){this.sendf("is",n.RENAME,e)}sendPong(e){this.sendf("i2",n.PONG,e)}sendChat(e,t,s=-1){this.sendf("i3s",n.CHAT,t,s,(0,b.JK)(e))}sendActive(){this.sendf("i",n.ACTIVE)}sendReady(){this.sendf("i",n.READY)}sendMove(e,t,s){this.sendf("ibi2",n.MOVE,e,t,s)}sendMoveUseHand(e){this.sendMove(e,this.pendingMoveTarget,this.pendingMoveGuess)}sendMoveTarget(e){this.sendMove(this.pendingMoveUseHand,e,this.pendingMoveGuess)}sendMoveGuess(e){this.sendMove(this.pendingMoveUseHand,this.pendingMoveTarget,e)}sendMoveEnd(){this.sendf("i",n.MOVE_END)}MESSAGE_HANDLERS={[r.WELCOME]:this.processWelcome,[r.JOIN]:this.processJoin,[r.LEAVE]:this.processLeave,[r.RESET]:this.processReset,[r.RENAME]:this.processRename,[r.PING]:this.processPing,[r.PING_TIME]:this.processPingTime,[r.CHAT]:this.processChat,[r.ACTIVE]:this.processActive,[r.ROUND_WAIT]:this.processRoundWait,[r.ROUND_INTERM]:this.processRoundInterm,[r.ROUND_START]:this.processRoundStart,[r.READY]:this.processReady,[r.END_ROUND]:this.processEndRound,[r.MOVE_CONFIRM]:this.processMoveConfirm,[r.END_TURN]:this.processEndTurn,[r.PLAYER_ELIMINATE]:this.processEliminate,[r.PLAYER_ELIMINATE_EARLY]:this.processEliminateEarly,[r.PLAYER_PRIVATE_INFO_MY_HAND]:this.processPrivateInfoMyHand,[r.PLAYER_PRIVATE_INFO_ALT_MOVE]:this.processPrivateInfoAltMove,[r.PLAYER_PRIVATE_INFO_MOVE]:this.processPrivateInfoMove};processWelcomeMode(e){var t;this.mode.optTurnTime=e.getInt(),this.mode.optDecks=(t=e.getInt(),1>t?1:t<3?t:3)}processPlayerInfo(e,t){t.discarded=Array.from({length:Math.min(e.getInt(),45)},()=>e.getInt()),t.immune=e.getBool(),t.discardSum=v(t.discarded)}processDiscInfo(e,t){t.discarded=Array.from({length:Math.min(e.getInt(),45)},()=>e.getInt()),t.discardSum=v(t.discarded)}processRoundStartInfo(e){this.deckSize=15*this.mode.optDecks-this.playerInfo.length-1,this.cardCountDiscard=D(),this.cardCountRemain=P(this.mode.optDecks),this.cardCountTotal=P(this.mode.optDecks),this.moveHistory=[]}processRoundInfo(e){this.deckSize=e.getInt();let t=[e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),e.getInt(),0];t[8]=v(t.slice(0,8));let s=P(this.mode.optDecks);this.cardCountDiscard=t,this.cardCountRemain=s.map((e,s)=>e-t[s]),this.cardCountTotal=s,this.moveHistory=[]}processMoveConfirm(e){this.pendingMoveUseHand=e.getBool(),this.pendingMoveTarget=e.getInt(),this.pendingMoveGuess=e.getInt()}processEndTurn(e){let t=this.playerInfo[this.turnIndex],s=e.getInt(),a=e.getInt(),i=this.clients[t.owner],r=this.playerInfo[a],n=i===this.localClient,d={type:"move",playerName:(0,f.M0)(i,t.owner),playerIsMe:n,move:s,targetName:r?(0,f.M0)(this.clients[r.owner],r.owner):"nobody",targetIsMe:this.playerIsMe(r),targetIsPlayer:r===t,targetValid:!!r,info:0};switch(n&&s===this.myHand&&(this.myHand=this.myAltMove),t.hand===s&&(t.hand=void 0),8!==s&&(t.discarded.push(s),t.discardSum+=s,this.updateDiscardCount(s)),s){case 1:d.info=e.getInt();break;case 2:break;case 3:if(a>=0){let s=e.getInt();d.info=s,s?-7===s&&r?r.hand=8:7===s&&(t.hand=8):r&&r.hand!==t.hand&&(void 0===r.hand?r.hand=t.hand:void 0===t.hand&&(t.hand=r.hand))}break;case 4:t.immune=!0;break;case 5:{let s=e.getInt();d.info=s,8!==s&&(t.hand=void 0,t.discarded.push(s),t.discardSum+=s,this.updateDiscardCount(s),this.deckSize--);break}case 6:if(r&&!this.playerIsMe(t)&&!this.playerIsMe(r)){let e=r.hand;r.hand=t.hand,t.hand=e}}this.deckSize--,this.moveHistory.push(d),this.setTimer(this.mode.optTurnTime),this.nextTurn(),this.playerInfo[this.turnIndex].immune=!1}processEndRound(e){this.deckSize++;let t=this.playerInfo;for(let s of t)s.hand=e.getInt();let s={survived:[],eliminated:this.playerDiscInfo.map(e=>({...e,name:e.ownerName}))},a=t.length+this.playerDiscInfo.length,i=[...t].sort(N),r=1;for(let e=0;e<i.length;e++){let t=i[e];e&&N(t,i[e-1])&&(r=e+1);let n=this.clients[t.owner];s.survived.push({name:(0,f.M0)(n,t.owner),isMe:n===this.localClient,hand:t.hand??0,rank:r,discarded:t.discarded,discardSum:t.discardSum}),n.updateScore(r,a)}this.updatePlayers(),this.addHistory(s)}eliminatePlayer(e,t,s,a,i,r){let n;r&&this.playerInfo[this.turnIndex]==a&&(n=e.getInt(),a.discarded.push(n),a.discardSum+=n,this.updateDiscardCount(n));let d=e.getInt();t.discarded=[...a.discarded,d],t.discardSum=a.discardSum+d,this.updateDiscardCount(d);let l=this.playerInfo.length,o=l+this.playerDiscInfo.length;return i.updateScore(l,o),this.updatePlayers(),r&&(this.moveHistory.push({type:"leave",playerName:i.formatName(),playerIsMe:i===this.localClient,hand:d,alt:n}),this.setTimer(this.mode.optTurnTime)),this.turnIndex>s?this.turnIndex--:this.turnIndex===this.playerInfo.length-1&&(this.turnIndex=0),!1}processPrivateInfoMyHand(e){this.myHand=e.getInt()}processPrivateInfoAltMove(e){this.myAltMove=e.getInt()}processPrivateInfoMove(e){let t=e.getInt(),s=e.getInt(),a=e.getInt(),i=this.playerInfo[s],r=this.formatPlayerName(i,s);switch(t){case 2:i&&(i.hand=a),this.moveHistory.push({type:"reveal",playerName:r,hand:a});break;case 3:{let e=this.myHand;i&&(i.hand=a),this.moveHistory.push({type:"cmp",ours:e,theirs:a,playerName:r});break}case 6:{let e=this.myHand;this.moveHistory.push({type:"trade",oldHand:e,newHand:a,playerName:r}),i&&(i.hand=e),this.myHand=a}}}playersSortProps=[e=>e.score,e=>e.wins,e=>e.streak];updateDiscardCount(e){e--,this.cardCountDiscard[e]++,this.cardCountDiscard[8]++,this.cardCountRemain[e]--,this.cardCountRemain[8]--}}function N(e,t){let s=e.hand??0;return(t.hand??0)-s||t.discardSum-e.discardSum}let C=[5,2,2,2,2,1,1,1,15];function D(){return[0,0,0,0,0,0,0,0,0]}function P(e){return C.map(t=>t*e)}var O=d.from_html('<th scope="col"> </th>'),$=d.from_html("<td> </td>"),L=d.from_html('<tr><th scope="row"> </th><!></tr>'),H=d.from_html('<div class="table-responsive"><table class="table table-sm"><thead><tr><th></th><!></tr></thead><tbody></tbody></table></div>'),V=s(128),G=s(135),U=d.from_html("<span>self</span>"),Y=d.from_html("<span> </span>"),B=d.from_html("on <!>",1),W=d.from_html(" <span> </span> ",1),z=d.from_html(' <span class="badge text-bg-light"> </span>.',1),F=d.from_html("to become <span>IMMUNE</span>!",1),j=d.from_html("who destroys <span> </span> ",1),J=d.from_html('<span> </span> uses <span class="badge text-bg-light"> </span> <!> <!>',1),q=d.from_html('<span class="badge text-bg-outline-secondary"> </span> has <span class="badge text-bg-light"> </span>!',1),Q=d.from_html('You have <span class="badge text-bg-dark"> </span>; <span class="badge text-bg-outline-secondary"> </span> has <span class="badge text-bg-light"> </span>.',1),K=d.from_html('<span class="badge text-bg-outline-secondary"> </span> gives you <span class="badge text-bg-dark"> </span> for your <span class="badge text-bg-light"> </span>.',1),Z=d.from_html('and <span class="badge text-bg-light"> </span>',1),X=d.from_html('<span> </span> left, discarding <span class="badge text-bg-light"> </span> <!>.',1),ee=d.from_html("<li><!></li>"),et=d.from_html("<li>No moves yet!</li>"),es=d.from_html('<b>Move History</b> <ol class="list-unstyled overflow-auto" style="max-height: 20rem"></ol>',1);function ea(e,t){return t?["Guard (1)","Priest (2)","Baron (3)","Handmaid (4)","Prince (5)","King (6)","Countess (7)","Princess (8)"][e-1]:e<=8?e:["0b","0c","2b","3b","4b","5b","6b","7b","9b"][e-9]}var ei=d.from_html("<!> <!>",1),er=d.from_html("<li> </li>"),en=d.from_html('<span class="badge text-bg-dark"> </span>'),ed=(e,t)=>t.gameState.sendMoveUseHand(!0),el=(e,t)=>t.gameState.sendMoveUseHand(!1),eo=(e,t)=>t.gameState.sendMoveTarget(-1),ec=d.from_html("<button> </button>"),eg=(e,t)=>t.gameState.sendMoveGuess(0),ep=d.from_html("<button> </button>"),eh=(e,t)=>t.gameState.sendMoveEnd(),em=d.from_html('<div class="col-12"><div class="btn-group d-flex mb-3" role="group"><span class="input-group-text">Discard</span> <button> </button> <button> </button></div></div> <div class="col-12 col-sm-6 mb-2"><label>Target<br/> <button id="dropdownMenuButtonTarget" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> </button> <div class="dropdown-menu" aria-labelledby="dropdownMenuButtonTarget"><button>auto</button> <!></div></label> <small class="form-text text-muted">1, 2, 3, 6 targets others; 5 targets any</small></div> <div class="col-12 col-sm-6 mb-3"><label>Guess<br/> <button id="dropdownMenuButtonGuess" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> </button> <div class="dropdown-menu" aria-labelledby="dropdownMenuButtonGuess"><button>auto</button> <!></div></label> <small class="form-text text-muted">only for 1</small></div> <div class="col-12 mb-2"><button class="btn btn-primary d-block w-100 mb-2">End Move</button></div>',1),eu=d.from_html('<div class="col-12">Your hand: <span class="badge text-bg-dark"> </span> <!></div> <!>',1),e_=d.from_html("<span> </span>"),ev=d.from_html("<span>IMMUNE</span>"),ef=d.from_html('<span class="badge text-bg-light"> </span>'),eb=d.from_html("<li><span> </span> <span> </span> <!> <!> <!></li>"),ey=d.from_html("<li>No players!</li>"),eI=d.from_html('<span class="badge text-bg-light"> </span>'),ex=d.from_html("<li> <span> </span> <!></li>"),ek=d.from_html("<li>No eliminations yet!</li>"),eM=d.from_html('<!> <div class="row"><div class="col-12 mt-2 mb-3"><div class="card my-2"><div class="card-header"><h4 class="card-title"><a data-bs-toggle="collapse" href="#collapseCardDesc"><small>Card Descriptions</small></a></h4></div> <div id="collapseCardDesc" class="card-collapse collapse show"><div class="card-body"><ul></ul></div></div></div></div> <!> <div class="col-12 col-sm-4"><b>Active Players</b> <ol class="list-unstyled"></ol> <b>Eliminated</b> <ol class="list-unstyled"></ol></div> <div class="col-12 col-sm-8"><!></div> <div class="col mt-2"> <!></div></div> <div> </div> <b>Lobby</b> <!>',1);d.delegate(["click"]);var eE=d.from_html('<span class="badge text-bg-light"> </span>'),ew=d.from_html("<li> <span> </span> <span> </span> <!></li>"),eT=d.from_html('<span class="badge text-bg-light"> </span>'),eS=d.from_html("<li> <span> </span> <!></li>"),eR=d.from_html('<li class="list-group-item"><b> </b> <ol class="list-unstyled"></ol> <b> </b> <ol class="list-unstyled"></ol></li>'),eA=d.from_html('<li class="list-group-item">No past games!</li>'),eN=d.from_html('<ul class="list-group list-group-flush overflow-auto" style="max-height: 15rem"></ul>'),eC=s(102),eD=d.from_html('<!> <div class="input-group mb-3"><span class="input-group-text flex-grow-1"><label class="form-check mx-auto"><input type="checkbox" class="form-check-input"/> Show Love Letter Names</label></span> <span class="input-group-text flex-grow-1"><label class="form-check mx-auto"><input type="checkbox" class="form-check-input"/> Show Card Count</label></span></div> <!> <!> <div class="row"><div class="col-12 col-xl-8"><!> <!></div> <div class="col-12 col-xl-4 mb-3"><!></div></div>',1);(0,s(96).A)(function(e,t){let s;d.push(t,!0);let a=new o.Ay,i=new A(a),r=d.derived(()=>i.pastGames),n=d.derived(()=>i.leaderboard),v=d.derived(()=>i.localClient),f=d.derived(()=>i.roundState),b=(0,eC.C)("game/mp/_shared/name",""),y=(0,eC.C)("game/mp/discard/LL",!0),I=(0,eC.C)("game/mp/discard/cardCount",!0);var x=eD(),k=d.first_child(x);(0,p.A)(k,{get value(){return b.value},set value($$value){b.value=$$value}});var T=d.sibling(k,2),S=d.child(T),R=d.child(S),N=d.child(R);d.remove_input_defaults(N),d.next(),d.reset(R),d.reset(S);var C=d.sibling(S,2),D=d.child(C),P=d.child(D);d.remove_input_defaults(P),d.next(),d.reset(D),d.reset(C),d.reset(T);var eP=d.sibling(T,2);{let e=d.derived(()=>({name:b.value}));d.bind_this((0,u.A)(eP,{gameId:"discard-l3z5n5wptuoeqtkytj64a",roomType:"DiscardRoom",get joinData(){return d.get(e)},get gameRoom(){return i.room},onJoinedRoom:e=>i.enterGame(e,b.value),formatGameMode:e=>E((0,m.e)(M,e)),get roomCreateOptions(){return M}}),e=>s=e,()=>s)}var eO=d.sibling(eP,2);{let e=d.derived(()=>d.get(f)===_.mk.INTERMISSION);(0,h.A)(eO,{get inGame(){return i.room},get isActive(){return i.localClient.active},get canReady(){return d.get(e)},get isReady(){return i.localClient.ready},onActive:()=>i.sendActive(),onReady:()=>i.sendReady(),onReset:()=>i.sendReset(),onDisconnect:()=>(i.leaveGame(),s.refreshRooms()),children:(e,t)=>{!function(e,t){d.push(t,!0);let s=d.derived(()=>t.gameState.roundState),a=d.derived(()=>t.gameState.playerInfo),i=d.derived(()=>t.gameState.turnIndex),r=d.derived(()=>t.gameState.playing),n=d.derived(()=>t.gameState.canMove),l=d.derived(()=>t.gameState.playerDiscInfo),o=d.derived(()=>t.gameState.myHand),c=d.derived(()=>t.gameState.myAltMove),g=d.derived(()=>t.gameState.deckSize),p=d.derived(()=>t.gameState.cardCountDiscard),h=d.derived(()=>t.gameState.cardCountRemain),m=d.derived(()=>t.gameState.cardCountTotal),u=d.derived(()=>t.gameState.moveHistory),v=d.derived(()=>t.gameState.pendingMoveUseHand),f=d.derived(()=>t.gameState.pendingMoveTarget),b=d.derived(()=>t.gameState.pendingMoveGuess),y=d.derived(()=>d.get(v)?d.get(o):d.get(c)),I=["","1 (5/deck)","2 (2/deck)","3 (2/deck)","4 (2/deck)","5 (2/deck)","6 (1/deck)","7 (1/deck)","8 (1/deck)"];function x(e,t){return 8===e||7===t&&(5==e||6==e)?"danger":1===e?"info":4!==e&&e<7?"primary":"secondary"}var k,M,T,S,R=eM(),A=d.first_child(R),N=e=>{var t=d.text("Waiting for players…");d.append(e,t)},C=e=>{var a=ei(),i=d.first_child(a),r=e=>{var t=d.text("Intermission:");d.append(e,t)},l=e=>{var t=d.comment(),s=d.first_child(t),a=e=>{var t=d.text("Make a move:");d.append(e,t)},i=e=>{var t=d.text("Waiting for others to move…");d.append(e,t)};d.if(s,e=>{d.get(n)?e(a):e(i,!1)},!0),d.append(e,t)};d.if(i,e=>{d.get(s)===_.mk.INTERMISSION?e(r):e(l,!1)});var o=d.sibling(i,2);(0,V.A)(o,{get startTime(){return t.gameState.roundTimerStart},get endTime(){return t.gameState.roundTimerEnd},get active(){return t.gameState.room}}),d.append(e,a)};d.if(A,e=>{d.get(s)===_.mk.WAITING?e(N):e(C,!1)});var D=d.sibling(A,2),P=d.child(D),eE=d.child(P),ew=d.sibling(d.child(eE),2),eT=d.child(ew),eS=d.child(eT);d.each(eS,20,()=>[1,2,3,4,5,6,7,8],d.index,(e,a)=>{let i;var l=er(),g=d.child(l);d.reset(l),d.template_effect((e,t,s)=>{i=d.set_class(l,1,"",null,i,e),d.set_text(g,`${t??""}: ${s??""}`)},[()=>({"fw-bold":d.get(s)===_.mk.ACTIVE&&d.get(r)&&(a===d.get(o)||d.get(n)&&a===d.get(c))}),()=>ea(a,t.ll),()=>{var e;return e=t.ll,a<1||a>8?"unknown":["target another player and guess hand value (not 1); if correct, target discards without effect and loses (5/deck)","target another player; you look at his hand (2/deck)","target another player; compare; lower player loses (no action on tie) (2/deck)","prevent being targeted until your next turn (2/deck)","target one player (including self); target discards (with effect only for 8) and (if not 8) draws new card (2/deck)","target another player; trade cards (1/deck)",`no action, but must discard if other is ${ea(5,e)} or ${ea(6,e)} (1/deck)`,"lose (try not to discard this) (1/deck)"][a-1]}]),d.append(e,l)}),d.reset(eS),d.reset(eT),d.reset(ew),d.reset(eE),d.reset(P);var eR=d.sibling(P,2),eA=e=>{var s=eu(),r=d.first_child(s),l=d.sibling(d.child(r)),g=d.child(l,!0);d.reset(l);var p=d.sibling(l,2),h=e=>{var s=en(),a=d.child(s,!0);d.reset(s),d.template_effect(e=>d.set_text(a,e),[()=>ea(d.get(c),t.ll)]),d.append(e,s)};d.if(p,e=>{d.get(n)&&e(h)}),d.reset(r);var m=d.sibling(r,2),u=e=>{let s,r,n,l;var g=em(),p=d.first_child(g),h=d.child(p),m=d.sibling(d.child(h),2);m.__click=[ed,t];var u=d.child(m,!0);d.reset(m);var _=d.sibling(m,2);_.__click=[el,t];var k=d.child(_,!0);d.reset(_),d.reset(h),d.reset(p);var M=d.sibling(p,2),E=d.child(M),w=d.sibling(d.child(E),3),T=d.child(w,!0);d.reset(w);var S=d.sibling(w,2),R=d.child(S);R.__click=[eo,t];var A=d.sibling(R,2);d.each(A,17,()=>d.get(a),d.index,(e,s,a)=>{let r;var n=ec();n.__click=()=>t.gameState.sendMoveTarget(a);var l=d.child(n,!0);d.reset(n),d.template_effect((e,t)=>{r=d.set_class(n,1,"dropdown-item",null,r,e),d.set_text(l,t)},[()=>({"text-bg-danger":a===d.get(i)&&5!==d.get(y)||d.get(s).immune,active:d.get(f)===a}),()=>t.gameState.formatPlayerName(d.get(s))]),d.append(e,n)}),d.reset(S),d.reset(E),d.next(2),d.reset(M);var N=d.sibling(M,2),C=d.child(N),D=d.sibling(d.child(C),3),P=d.child(D,!0);d.reset(D);var O=d.sibling(D,2),$=d.child(O);$.__click=[eg,t];var L=d.sibling($,2);d.each(L,17,()=>I.slice(2),d.index,(e,s,a)=>{let i;var r=ep();r.__click=()=>t.gameState.sendMoveGuess(a+2);var n=d.child(r,!0);d.reset(r),d.template_effect(e=>{i=d.set_class(r,1,"dropdown-item",null,i,e),d.set_text(n,d.get(s))},[()=>({active:d.get(b)===a+2})]),d.append(e,r)}),d.reset(O),d.reset(C),d.next(2),d.reset(N);var H=d.sibling(N,2);d.child(H).__click=[eh,t],d.reset(H),d.template_effect((e,t,a,i,o,c,g,p,h)=>{s=d.set_class(m,1,`fw-bold w-100 btn btn-outline-${e??""}`,null,s,t),d.set_text(u,a),r=d.set_class(_,1,`fw-bold w-100 btn btn-outline-${i??""}`,null,r,o),d.set_text(k,c),d.set_class(w,1,`btn btn-outline-${4!==d.get(y)&&7>d.get(y)?"primary":"secondary"} dropdown-toggle`),d.set_text(T,g),n=d.set_class(R,1,"dropdown-item",null,n,p),d.set_class(D,1,`btn btn-outline-${1===d.get(y)?"info":"secondary"} dropdown-toggle`),d.set_text(P,d.get(b)>1?I[d.get(b)]:"auto"),l=d.set_class($,1,"dropdown-item",null,l,h)},[()=>x(d.get(o),d.get(c)),()=>({active:d.get(v)}),()=>ea(d.get(o),t.ll),()=>x(d.get(c),d.get(o)),()=>({active:!d.get(v)}),()=>ea(d.get(c),t.ll),()=>0>d.get(f)?"auto":t.gameState.formatPlayerName(t.gameState.playerInfo[d.get(f)],d.get(f)),()=>({active:0>d.get(f)}),()=>({active:2>d.get(b)})]),d.append(e,g)};d.if(m,e=>{d.get(n)&&e(u)}),d.template_effect(e=>d.set_text(g,e),[()=>ea(d.get(o),t.ll)]),d.append(e,s)};d.if(eR,e=>{d.get(s)===_.mk.ACTIVE&&d.get(r)&&e(eA)});var eN=d.sibling(eR,2),eC=d.sibling(d.child(eN),2);d.each(eC,21,()=>d.get(a),d.index,(e,a,r)=>{let n=d.derived(()=>t.gameState.playerIsMe(d.get(a))),l=d.derived(()=>d.get(n)?"":"-outline");var g=eb(),p=d.child(g),h=d.child(p,!0);d.reset(p);var m=d.sibling(p,2),u=d.child(m,!0);d.reset(m);var v=d.sibling(m,2),f=e=>{var s=e_(),a=d.child(s,!0);d.reset(s),d.template_effect(e=>{d.set_class(s,1,`badge text-bg${d.get(l)??""}-dark`),d.set_text(a,e)},[()=>d.get(n)?ea(d.get(c),t.ll):"?"]),d.append(e,s)};d.if(v,e=>{d.get(s)===_.mk.ACTIVE&&r===d.get(i)&&e(f)});var b=d.sibling(v,2),y=e=>{var t=ev();d.template_effect(()=>d.set_class(t,1,`badge text-bg${d.get(l)??""}-info`)),d.append(e,t)};d.if(b,e=>{d.get(a).immune&&e(y)});var I=d.sibling(b),x=d.sibling(I);d.each(x,17,()=>d.get(a).discarded,d.index,(e,t)=>{var s=ef(),a=d.child(s,!0);d.reset(s),d.template_effect(()=>d.set_text(a,d.get(t))),d.append(e,s)}),d.reset(g),d.template_effect((e,t,s)=>{d.set_class(p,1,`badge text-bg${d.get(l)??""}-${e??""}`),d.set_text(h,t),d.set_class(m,1,`badge text-bg${d.get(l)??""}-dark`),d.set_text(u,s),d.set_text(I,` ${d.get(a).discardSum??""} `)},[()=>w(d.get(n)),()=>t.gameState.formatPlayerName(d.get(a)),()=>d.get(n)?ea(d.get(o),t.ll):d.get(a).hand?ea(d.get(a).hand,t.ll):"?"]),d.append(e,g)},e=>{var t=ey();d.append(e,t)}),d.reset(eC);var eD=d.sibling(eC,4);d.each(eD,21,()=>d.get(l),d.index,(e,s,i)=>{let r=d.derived(()=>d.get(s).isMe?"":"-outline");var n=ex(),l=d.child(n),o=d.sibling(l),c=d.child(o,!0);d.reset(o);var g=d.sibling(o),p=d.sibling(g);d.each(p,17,()=>d.get(s).discarded,d.index,(e,t)=>{var s=eI(),a=d.child(s,!0);d.reset(s),d.template_effect(()=>d.set_text(a,d.get(t))),d.append(e,s)}),d.reset(n),d.template_effect(()=>{d.set_text(l,`#${i+(i>=t.gameState.discIndex?1+d.get(a).length:1)}: `),d.set_class(o,1,`badge text-bg${d.get(r)??""}-danger`),d.set_text(c,d.get(s).ownerName),d.set_text(g,` ${d.get(s).discardSum??""} `)}),d.append(e,n)},e=>{var t=ek();d.append(e,t)}),d.reset(eD),d.reset(eN);var eP=d.sibling(eN,2);k=d.child(eP),M={get moves(){return d.get(u)},get ll(){return t.ll}},d.push(M,!0),T=es(),S=d.sibling(d.first_child(T),2),d.each(S,21,()=>M.moves,d.index,(e,t)=>{var s=ee(),a=d.child(s),i=e=>{let s=d.derived(()=>d.get(t).playerIsMe?"":"-outline"),a=d.derived(()=>d.get(t).targetIsMe?"":"-outline");var i=J(),r=d.first_child(i),n=d.child(r,!0);d.reset(r);var l=d.sibling(r,2),o=d.child(l,!0);d.reset(l);var c=d.sibling(l,2),g=e=>{var i=B(),r=d.sibling(d.first_child(i)),n=e=>{var t=U();d.template_effect(()=>d.set_class(t,1,`badge text-bg${d.get(s)??""}-dark`)),d.append(e,t)},l=e=>{var s=Y(),i=d.child(s,!0);d.reset(s),d.template_effect(e=>{d.set_class(s,1,`badge text-bg${d.get(a)??""}-${e??""}`),d.set_text(i,d.get(t).targetName)},[()=>w(d.get(t).targetIsMe)]),d.append(e,s)};d.if(r,e=>{d.get(t).targetIsPlayer?e(n):e(l,!1)}),d.append(e,i)};d.if(c,e=>{4!==d.get(t).move&&d.get(t).move<7&&e(g)});var p=d.sibling(c,2),h=e=>{var s=W(),a=d.first_child(s),i=d.sibling(a),r=d.child(i,!0);d.reset(i);var n=d.sibling(i,1,!0);d.template_effect(e=>{d.set_text(a,`who has ${d.get(t).info<0?"":"no"} `),d.set_class(i,1,`badge text-bg-${d.get(t).info<0?"danger":"warning"}`),d.set_text(r,e),d.set_text(n,d.get(t).info<0?"!":".")},[()=>ea(Math.abs(d.get(t).info),M.ll)]),d.append(e,s)},m=e=>{var a=d.comment(),i=d.first_child(a),r=e=>{var t=d.text("to see the hand.");d.append(e,t)},n=e=>{var a=d.comment(),i=d.first_child(a),r=e=>{var s=d.comment(),a=d.first_child(s),i=e=>{var s=z(),a=d.first_child(s),i=d.sibling(a),r=d.child(i,!0);d.reset(i),d.next(),d.template_effect(e=>{d.set_text(a,`and ${d.get(t).info<0?"loses with":"beats"} `),d.set_text(r,e)},[()=>ea(Math.abs(d.get(t).info),M.ll)]),d.append(e,s)},r=e=>{var t=d.text("and matches hands!");d.append(e,t)};d.if(a,e=>{d.get(t).info?e(i):e(r,!1)}),d.append(e,s)},n=e=>{var a=d.comment(),i=d.first_child(a),r=e=>{var t=F(),a=d.sibling(d.first_child(t));d.next(),d.template_effect(()=>d.set_class(a,1,`badge text-bg${d.get(s)??""}-info`)),d.append(e,t)},n=e=>{var s=d.comment(),a=d.first_child(s),i=e=>{var s=j(),a=d.sibling(d.first_child(s)),i=d.child(a,!0);d.reset(a);var r=d.sibling(a,1,!0);d.template_effect(e=>{d.set_class(a,1,`badge text-bg-${8===d.get(t).info?"danger":"light"}`),d.set_text(i,e),d.set_text(r,8===d.get(t).info?"!":" and draws.")},[()=>ea(d.get(t).info,M.ll)]),d.append(e,s)},r=e=>{var s=d.comment(),a=d.first_child(s),i=e=>{var t=d.text("to trade hands.");d.append(e,t)},r=e=>{var s=d.comment(),a=d.first_child(s),i=e=>{var t=d.text("for no effect.");d.append(e,t)},r=e=>{var s=d.comment(),a=d.first_child(s),i=e=>{var t=d.text("and lost‽");d.append(e,t)};d.if(a,e=>{8===d.get(t).move&&e(i)},!0),d.append(e,s)};d.if(a,e=>{7===d.get(t).move?e(i):e(r,!1)},!0),d.append(e,s)};d.if(a,e=>{6===d.get(t).move&&d.get(t).targetValid?e(i):e(r,!1)},!0),d.append(e,s)};d.if(a,e=>{5===d.get(t).move?e(i):e(r,!1)},!0),d.append(e,s)};d.if(i,e=>{4===d.get(t).move?e(r):e(n,!1)},!0),d.append(e,a)};d.if(i,e=>{3===d.get(t).move&&d.get(t).targetValid?e(r):e(n,!1)},!0),d.append(e,a)};d.if(i,e=>{2===d.get(t).move&&d.get(t).targetValid?e(r):e(n,!1)},!0),d.append(e,a)};d.if(p,e=>{1===d.get(t).move&&d.get(t).targetValid?e(h):e(m,!1)}),d.template_effect((e,a)=>{d.set_class(r,1,`badge text-bg${d.get(s)??""}-${e??""}`),d.set_text(n,d.get(t).playerName),d.set_text(o,a)},[()=>w(d.get(t).playerIsMe),()=>ea(d.get(t).move,M.ll)]),d.append(e,i)},r=e=>{var s=d.comment(),a=d.first_child(s),i=e=>{var s=q(),a=d.first_child(s),i=d.child(a,!0);d.reset(a);var r=d.sibling(a,2),n=d.child(r,!0);d.reset(r),d.next(),d.template_effect(e=>{d.set_text(i,d.get(t).playerName),d.set_text(n,e)},[()=>ea(d.get(t).hand,M.ll)]),d.append(e,s)},r=e=>{var s=d.comment(),a=d.first_child(s),i=e=>{var s=Q(),a=d.sibling(d.first_child(s)),i=d.child(a,!0);d.reset(a);var r=d.sibling(a,2),n=d.child(r,!0);d.reset(r);var l=d.sibling(r,2),o=d.child(l,!0);d.reset(l),d.next(),d.template_effect((e,s)=>{d.set_text(i,e),d.set_text(n,d.get(t).playerName),d.set_text(o,s)},[()=>ea(d.get(t).ours,M.ll),()=>ea(d.get(t).theirs,M.ll)]),d.append(e,s)},r=e=>{var s=d.comment(),a=d.first_child(s),i=e=>{var s=K(),a=d.first_child(s),i=d.child(a,!0);d.reset(a);var r=d.sibling(a,2),n=d.child(r,!0);d.reset(r);var l=d.sibling(r,2),o=d.child(l,!0);d.reset(l),d.next(),d.template_effect(()=>{d.set_text(i,d.get(t).playerName),d.set_text(n,d.get(t).newHand),d.set_text(o,d.get(t).oldHand)}),d.append(e,s)},r=e=>{var s=d.comment(),a=d.first_child(s),i=e=>{let s=d.derived(()=>d.get(t).playerIsMe?"":"-outline");var a=X(),i=d.first_child(a),r=d.child(i,!0);d.reset(i);var n=d.sibling(i,2),l=d.child(n,!0);d.reset(n);var o=d.sibling(n,2),c=e=>{var s=Z(),a=d.sibling(d.first_child(s)),i=d.child(a,!0);d.reset(a),d.template_effect(e=>d.set_text(i,e),[()=>ea(d.get(t).alt,M.ll)]),d.append(e,s)};d.if(o,e=>{void 0!=d.get(t).alt&&e(c)}),d.next(),d.template_effect((e,a)=>{d.set_class(i,1,`badge text-bg${d.get(s)??""}-${e??""}`),d.set_text(r,d.get(t).playerName),d.set_text(l,a)},[()=>w(d.get(t).playerIsMe),()=>ea(d.get(t).hand,M.ll)]),d.append(e,a)},r=e=>{var s=d.text();d.template_effect(()=>d.set_text(s,`[unknown move ${d.get(t)??""}]`)),d.append(e,s)};d.if(a,e=>{"leave"==d.get(t).type?e(i):e(r,!1)},!0),d.append(e,s)};d.if(a,e=>{"trade"===d.get(t).type?e(i):e(r,!1)},!0),d.append(e,s)};d.if(a,e=>{"cmp"===d.get(t).type?e(i):e(r,!1)},!0),d.append(e,s)};d.if(a,e=>{"reveal"===d.get(t).type?e(i):e(r,!1)},!0),d.append(e,s)};d.if(a,e=>{"move"===d.get(t).type?e(i):e(r,!1)}),d.reset(s),d.append(e,s)},e=>{var t=et();d.append(e,t)}),d.reset(S),d.append(k,T),d.pop(),d.reset(eP);var eO=d.sibling(eP,2),e$=d.child(eO),eL=d.sibling(e$),eH=e=>{{var t,s,a,i,r,n,l;let o=d.derived(()=>[["Unplayed",d.get(h)],["Discarded",d.get(p)],["Total",d.get(m)]]);t={ranks:["1","2","3","4","5","6","7","8","Total"],get counts(){return d.get(o)}},s=H(),a=d.child(s),i=d.child(a),r=d.child(i),n=d.sibling(d.child(r)),d.each(n,17,()=>t.ranks,d.index,(e,t)=>{var s=O(),a=d.child(s,!0);d.reset(s),d.template_effect(()=>d.set_text(a,d.get(t))),d.append(e,s)}),d.reset(r),d.reset(i),l=d.sibling(i),d.each(l,21,()=>t.counts,d.index,(e,t)=>{var s=L(),a=d.child(s),i=d.child(a,!0);d.reset(a);var r=d.sibling(a);d.each(r,17,()=>d.get(t)[1],d.index,(e,t)=>{var s=$(),a=d.child(s,!0);d.reset(s),d.template_effect(()=>d.set_text(a,d.get(t))),d.append(e,s)}),d.reset(s),d.template_effect(()=>d.set_text(i,d.get(t)[0])),d.append(e,s)}),d.reset(l),d.reset(a),d.reset(s),d.append(e,s)}};d.if(eL,e=>{t.showCardCount&&e(eH)}),d.reset(eO),d.reset(D);var eV=d.sibling(D,2),eG=d.child(eV);d.reset(eV);var eU=d.sibling(eV,4);(0,G.A)(eU,{get localClient(){return t.gameState.localClient},get inGame(){return t.gameState.roundPlayers},get inQueue(){return t.gameState.roundPlayerQueue}}),d.template_effect(e=>{d.set_text(e$,`Draw pile count: ${d.get(g)??""} (players have ${d.get(h)[8]-d.get(g)}) `),d.set_text(eG,`Game Mode: ${e??""}`)},[()=>E(t.gameState.mode)]),d.append(e,R),d.pop()}(e,{get gameState(){return i},get ll(){return y.value},get showCardCount(){return I.value}})},$$slots:{default:!0}})}var e$=d.sibling(eO,2),eL=d.child(e$),eH=d.child(eL);(0,c.A)(eH,{get canClear(){return d.get(r).length},onClear:()=>i.clearHistory(),children:(e,t)=>{var s,a;s={get results(){return d.get(r)},get ll(){return y.value}},d.push(s,!0),a=eN(),d.each(a,21,()=>s.results,d.index,(e,t)=>{var a=eR(),i=d.child(a),r=d.child(i);d.reset(i);var n=d.sibling(i,2);d.each(n,21,()=>d.get(t).survived,d.index,(e,t)=>{let a=d.derived(()=>d.get(t).isMe?"":"-outline");var i=ew(),r=d.child(i),n=d.sibling(r),l=d.child(n,!0);d.reset(n);var o=d.sibling(n,2),c=d.child(o,!0);d.reset(o);var g=d.sibling(o),p=d.sibling(g);d.each(p,17,()=>d.get(t).discarded,d.index,(e,t)=>{var a=eE(),i=d.child(a,!0);d.reset(a),d.template_effect(e=>d.set_text(i,e),[()=>ea(d.get(t),s.ll)]),d.append(e,a)}),d.reset(i),d.template_effect(e=>{d.set_text(r,`#${d.get(t).rank??""}: `),d.set_class(n,1,`badge text-bg${d.get(a)??""}-${d.get(t).rank>1?"warning":"success"}`),d.set_text(l,d.get(t).name),d.set_class(o,1,`badge text-bg${d.get(a)??""}-dark`),d.set_text(c,e),d.set_text(g,` ${d.get(t).discardSum??""} `)},[()=>ea(d.get(t).hand,s.ll)]),d.append(e,i)}),d.reset(n);var l=d.sibling(n,2),o=d.child(l);d.reset(l);var c=d.sibling(l,2);d.each(c,21,()=>d.get(t).eliminated,d.index,(e,a,i)=>{let r=d.derived(()=>d.get(a).isMe?"":"-outline");var n=eS(),l=d.child(n),o=d.sibling(l),c=d.child(o,!0);d.reset(o);var g=d.sibling(o),p=d.sibling(g);d.each(p,17,()=>d.get(a).discarded,d.index,(e,t)=>{var a=eT(),i=d.child(a,!0);d.reset(a),d.template_effect(e=>d.set_text(i,e),[()=>ea(d.get(t),s.ll)]),d.append(e,a)}),d.reset(n),d.template_effect(()=>{d.set_text(l,`#${d.get(t).survived.length+i+1}: `),d.set_class(o,1,`badge text-bg${d.get(r)??""}-danger`),d.set_text(c,d.get(a).name),d.set_text(g,` ${d.get(a).discardSum??""} `)}),d.append(e,n)}),d.reset(c),d.reset(a),d.template_effect(()=>{d.set_text(r,`Survived (${d.get(t).survived.length??""}):`),d.set_text(o,`Eliminated (${d.get(t).eliminated.length??""}):`)}),d.append(e,a)},e=>{var t=eA();d.append(e,t)}),d.reset(a),d.append(e,a),d.pop()},$$slots:{default:!0}});var eV=d.sibling(eH,2);(0,g.A)(eV,{get leaderboard(){return d.get(n)},get localClient(){return d.get(v)},columns:[["Score",e=>e.score],["Streak",e=>e.streak],["Win",e=>e.wins],["Loss",e=>e.losses],["Rank Last",e=>e.rankLast],["Best",e=>e.rankBest],["Worst",e=>e.rankWorst]]}),d.reset(eL);var eG=d.sibling(eL,2),eU=d.child(eG);(0,l.A)(eU,{get chatState(){return a},onInput:e=>(0,o.Oo)(i,e)}),d.reset(eG),d.reset(e$),d.bind_checked(N,()=>y.value,e=>y.value=e),d.bind_checked(P,()=>I.value,e=>I.value=e),d.append(e,x),d.pop()})},131:function(e,t,s){s.d(t,{M0:()=>l,iq:()=>i,iw:()=>r,yh:()=>d,yn:()=>n});var a=s(132);let i=64;function r(e){return(e=e.replace(/[^a-zA-Z_ ]/,"").replace(/ {2,}/," ").trim().slice(0,20))||"unnamed"}function n(){let e=new a.k(new Uint8Array([0,1,2,3,4,5,6,7]));console.log("%cMultiplayer Game Bug Report Guide","font-family:helvetica; font-size:20px"),console.log("You're probably trying to debug a network error or file a bug report for it."),console.log("If you see an error like this, your report must contain the packet values:"),console.log("example",e.debugBuf,e),console.log("In the example above, you would have to submit at least [0, 1, 2, 3, 4, 5, 6, 7] (expand stuff as needed)")}function d(e,t){let s=e.filter(e=>e).sort((e,s)=>{for(let a of t){let t=a(e),i=a(s);if(t<i)return 1;if(t>i)return -1}return e.cn-s.cn}),a=1;return s.forEach((e,i)=>{if(i){let r=s[i-1];t.some(t=>t(e)!==t(r))&&(a=i+1)}s[i].rank=a}),s.sort((e,t)=>t.active-e.active)}function l(e,t){return e?`${e.name} (${e.cn})`:`<unknown${void 0===t?"":` (${t})`}>`}},2:function(e,t,s){s.r(t),s.d(t,{CLASS:()=>A.tp,FILENAME:()=>i.Uh,HMR:()=>i.OM,NAMESPACE_SVG:()=>i.pQ,STYLE:()=>A.Y,aborted:()=>ee.QH,action:()=>S.X,active_effect:()=>ed.Fg,add_legacy_event_listener:()=>q.oe,add_locations:()=>l.D,add_svelte_meta:()=>r.G7,animation:()=>O.l,append:()=>Q.BC,append_styles:()=>T.k,apply:()=>C.Bb,assign:()=>n.kp,assign_and:()=>n._R,assign_nullish:()=>n.Sc,assign_or:()=>n.im,async:()=>m.b,async_body:()=>K.cZ,async_derived:()=>X.zx,attach:()=>R.K,attachment:()=>a.r,attr:()=>eh.CF,attribute_effect:()=>A.p_,autofocus:()=>D.wC,await:()=>_.x,bind_active_element:()=>$.m,bind_buffered:()=>H.w$,bind_checked:()=>L.mS,bind_content_editable:()=>W.b1,bind_current_time:()=>H.M$,bind_element_size:()=>Y.B,bind_ended:()=>H.$T,bind_files:()=>L.md,bind_focused:()=>W.oP,bind_group:()=>L.CJ,bind_muted:()=>H.iX,bind_online:()=>V.s,bind_paused:()=>H.lY,bind_playback_rate:()=>H.hc,bind_played:()=>H.YL,bind_prop:()=>G.E,bind_property:()=>W.IY,bind_ready_state:()=>H.mM,bind_resize_observer:()=>Y.y,bind_seekable:()=>H.xx,bind_seeking:()=>H.Je,bind_select_value:()=>U.$t,bind_this:()=>B.L,bind_value:()=>L.oJ,bind_volume:()=>H.Jo,bind_window_scroll:()=>z.f,bind_window_size:()=>z.r,boundary:()=>ei.pP,bubble_event:()=>q.Ib,check_target:()=>g.X,child:()=>ep.jf,cleanup_styles:()=>d.O,clsx:()=>eh.$z,comment:()=>Q.Im,component:()=>M.s,create_custom_element:()=>eg.Q,create_ownership_validator:()=>c.a,css_props:()=>b.d,deep_read:()=>ed.o1,deep_read_state:()=>ed.iT,delegate:()=>C.Mm,derived:()=>X.eO,derived_safe_equal:()=>X.Xd,document:()=>ep.gk,each:()=>y.__,effect:()=>ee.QZ,effect_root:()=>ee.Fc,effect_tracking:()=>ee.oJ,element:()=>E.N,equals:()=>ev.aI,event:()=>C.f0,exclude_from_object:()=>ed.SE,fallback:()=>eu.Np,first_child:()=>ep.es,flush:()=>Z.qX,for_await_track_reactivity_loss:()=>K.IP,from_html:()=>Q.vU,from_mathml:()=>Q.$N,from_svg:()=>Q._i,from_tree:()=>Q.el,get:()=>ed.Jt,head:()=>w.d,hmr:()=>o.c,html:()=>I.q,hydrate_template:()=>F.PK,if:()=>v.A,index:()=>y.Pe,init:()=>J.T,init_select:()=>U.wf,inspect:()=>h.N,invalid_default_snippet:()=>e_.y8,invalidate_inner_signals:()=>er.p,invalidate_store:()=>ea.qB,invoke_error_boundary:()=>eb.n,key:()=>f.E,legacy_api:()=>g.j,legacy_pre_effect:()=>ee.M3,legacy_pre_effect_reset:()=>ee.iq,legacy_rest_props:()=>es.gj,log_if_contains_state:()=>ef.f,mark_store_binding:()=>ea.io,mutable_source:()=>et.zg,mutate:()=>et.Tk,next:()=>F.K2,noop:()=>eu.lQ,once:()=>j.Oo,pending:()=>ei.Ub,pop:()=>r.uY,preventDefault:()=>j.wo,prevent_snippet_stringification:()=>e_.bk,prop:()=>es._w,props_id:()=>Q.zA,proxy:()=>ec.B,push:()=>r.VC,raf:()=>eo.e,reactive_import:()=>q.Iu,remove_input_defaults:()=>A.R0,remove_textarea_child:()=>D.VU,render_effect:()=>ee.VB,replay_events:()=>C.ES,reset:()=>F.cL,rest_props:()=>es.iR,safe_get:()=>ed.$i,sanitize_slots:()=>x.i,save:()=>K.UN,select_option:()=>U.fs,self:()=>j.bg,set:()=>et.hZ,set_attribute:()=>A.aI,set_checked:()=>A.BY,set_class:()=>N.y,set_custom_element_data:()=>A.p,set_default_checked:()=>A.V$,set_default_value:()=>A.xp,set_selected:()=>A.$Z,set_style:()=>P.h,set_text:()=>en.j,set_value:()=>A.to,set_xlink_attribute:()=>A.To,setup_stores:()=>ea.DZ,sibling:()=>ep.hg,slot:()=>x.N,snapshot:()=>em.P,snippet:()=>k.UA,spread_props:()=>es.Du,state:()=>et.wk,stopImmediatePropagation:()=>j.CA,stopPropagation:()=>j.dG,store_get:()=>ea.Hz,store_mutate:()=>ea.hY,store_set:()=>ea.fT,store_unsub:()=>ea.QK,strict_equals:()=>ev.IP,tag:()=>p.Tc,tag_proxy:()=>p._e,template_effect:()=>ee.vN,text:()=>Q.Qq,tick:()=>ed.io,to_array:()=>eu._N,trace:()=>p.uP,track_reactivity_loss:()=>K.t_,transition:()=>O.k,trusted:()=>j.IZ,untrack:()=>ed.vz,update:()=>et.yo,update_legacy_props:()=>q.hp,update_pre:()=>et.cE,update_pre_prop:()=>es.CB,update_pre_store:()=>ea.IL,update_prop:()=>es.k$,update_store:()=>ea.yb,user_effect:()=>ee.MW,user_pre_effect:()=>ee.Go,validate_binding:()=>el.R,validate_dynamic_element_tag:()=>e_.Bm,validate_each_keys:()=>el.e,validate_snippet_args:()=>u.j,validate_store:()=>e_.T3,validate_void_dynamic_element:()=>e_.zA,window:()=>ep.Lk,with_script:()=>Q.jB,wrap_snippet:()=>k.DK});var a=s(3),i=s(4),r=s(22),n=s(42),d=s(43),l=s(44),o=s(45),c=s(46),g=s(47),p=s(20),h=s(48),m=s(49),u=s(105),_=s(50),v=s(51),f=s(52),b=s(53),y=s(54),I=s(55),x=s(56),k=s(39),M=s(57),E=s(58),w=s(35),T=s(59),S=s(60),R=s(61),A=s(62),N=s(64),C=s(34),D=s(31),P=s(65),O=s(67),$=s(70),L=s(71),H=s(72),V=s(73),G=s(74),U=s(66),Y=s(75),B=s(76),W=s(77),z=s(78),F=s(13),j=s(79),J=s(80),q=s(81),Q=s(36),K=s(29),Z=s(23),X=s(26),ee=s(8),et=s(17),es=s(82),ea=s(83),ei=s(27),er=s(32),en=s(33),ed=s(6),el=s(86),eo=s(68),ec=s(16),eg=s(87),ep=s(12),eh=s(63),em=s(21),eu=s(7),e_=s(40),ev=s(15),ef=s(89),eb=s(25)}},r={};function n(e){var t=r[e];if(void 0!==t)return t.exports;var s=r[e]={exports:{}};return i[e](s,s.exports,n),s.exports}n.m=i,n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=[],n.O=(t,s,a,i)=>{if(s){i=i||0;for(var r=e.length;r>0&&e[r-1][2]>i;r--)e[r]=e[r-1];e[r]=[s,a,i];return}for(var d=1/0,r=0;r<e.length;r++){for(var[s,a,i]=e[r],l=!0,o=0;o<s.length;o++)(!1&i||d>=i)&&Object.keys(n.O).every(e=>n.O[e](s[o]))?s.splice(o--,1):(l=!1,i<d&&(d=i));if(l){e.splice(r--,1);var c=a();void 0!==c&&(t=c)}}return t},n.rv=()=>"1.5.8",t={82:0},n.O.j=e=>0===t[e],s=(e,s)=>{var a,i,[r,d,l]=s,o=0;if(r.some(e=>0!==t[e])){for(a in d)n.o(d,a)&&(n.m[a]=d[a]);if(l)var c=l(n)}for(e&&e(s);o<r.length;o++)i=r[o],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(c)},(a=self.webpackChunkvwww=self.webpackChunkvwww||[]).forEach(s.bind(null,0)),a.push=s.bind(null,a.push.bind(a)),n.ruid="bundler=rspack@1.5.8";var d=n.O(void 0,["11","17","34","18","35","33"],function(){return n(138)});d=n.O(d)})();