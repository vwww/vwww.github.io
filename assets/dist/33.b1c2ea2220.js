"use strict";(self.webpackChunkvwww=self.webpackChunkvwww||[]).push([["33"],{121:function(e,t,s){s.d(t,{Ay:()=>r,Oo:()=>l,xF:()=>i});var n,i,a=s(2);(n=i||(i={}))[n.None=0]="None",n[n.AfterNext=1]="AfterNext",n[n.All=2]="All";class r{maxChatMessages;messageBuf=[];queue=[];holdMode=i.None;#e=a.state(a.proxy(this.messageBuf));get messages(){return a.get(this.#e)}set messages(e){a.set(this.#e,e,!0)}#t=a.state(0);get queueLength(){return a.get(this.#t)}set queueLength(e){a.set(this.#t,e,!0)}constructor(e=100){this.maxChatMessages=e}clear(){this.messageBuf.length=0,this.queue.length=0,this.queueLength=0,this.invalidate()}addEntry(e){switch(this.holdMode){case i.None:this.messageBuf.length>=this.maxChatMessages&&this.messageBuf.shift(),this.messageBuf.push(e),this.invalidate();break;case i.AfterNext:this.messageBuf.push(e),this.invalidate(),this.holdMode=i.All;break;case i.All:this.queue.length>=this.maxChatMessages&&this.queue.shift(),this.queue.push(e),this.queueLength++}}setHoldMode(e){if(e===i.AfterNext&&this.queueLength>this.maxChatMessages&&(e=i.All),this.holdMode=e,this.queue.length)if(e===i.None){let e=Math.max(0,this.messageBuf.length+this.queue.length-this.maxChatMessages);e&&this.messageBuf.splice(0,e),this.messageBuf.push(...this.queue),this.queue.length=0,this.invalidate(),this.queueLength=0}else e===i.AfterNext&&(this.messageBuf.push(this.queue.shift()),this.invalidate(),this.queueLength--);else if(e===i.None){let e=this.messageBuf.length-this.maxChatMessages;e>0&&(this.messageBuf.splice(0,e),this.invalidate())}}playerJoined(e){this.addEntry({type:"join",name:e})}playerLeft(e){this.addEntry({type:"left",name:e})}playerReset(e){this.addEntry({type:"reset",name:e})}playerRename(e,t){this.addEntry({type:"rename",oldName:e,newName:t})}addChatMessage(e,t,s,n){this.addEntry({type:"chat",name:e,msg:t,flags:s,targetName:n})}addSysMessage(e){this.addEntry({type:"sys",msg:e})}invalidate(){this.messages=this.messageBuf}}function l(e,t){function s(t,s,n){e.room?e.sendChat(t,s,n):e.chat.addSysMessage("cannot send chat message: not connected to game room")}if(t.length>0&&"/"===t[0]){let n=t.indexOf(" ",1),[i,a]=n<0?[t.slice(1),""]:[t.slice(1,n),t.slice(n+1)],r=!1;switch(i){case"me":r=!0;case"say":a&&s(a,4*!!r|0);break;case"meteam":r=!0;case"sayteam":a&&s(a,4*!!r|2);break;case"mew":case"mewhisper":case"mepm":r=!1;case"w":case"whisper":case"pm":{if(!a)break;let e=-1,t=0,n=/^(\d+)\s+/.exec(a);if(n){let s=n[1];e=+s,t=s.length}a.length>t&&s(a.slice(t),4*!!r|1,e);break}case"leave":case"disconnect":e.leaveGame();break;case"":case"help":"say"===a?e.chat.addSysMessage("without / prefix, use shorthand prefixes: *?(@\\d+|%|) say (*me) @pm|%team|all"):e.chat.addSysMessage("supported commands: say, me, sayteam, meteam, w, whisper, pm, mew, mewhisper, mepm, leave, disconnect, help");break;default:e.chat.addSysMessage(`command not recognized: ${t}`)}}else{let e=0,n=-1,i=0;if(t.length>1&&"*"===t[0]&&(i++,e|=4),t.length>i)switch(t[i]){case"@":if(t.length>i+1){let s=/^(\d+)\s+/.exec(t.slice(i+1));if(s){let t=s[1];n=+t,i=i+1+t.length,e|=1}}break;case"%":e|=2,i++}t.length>i&&s(t.slice(i),e,n)}}},133:function(e,t,s){s.d(t,{JK:()=>c,qh:()=>o,vE:()=>l});var n=s(2),i=s(131),a=s(132),r=s(134);class l{#s=n.state(-1);get cn(){return n.get(this.#s)}set cn(e){n.set(this.#s,e,!0)}#n=n.state("unnamed");get name(){return n.get(this.#n)}set name(e){n.set(this.#n,e,!0)}#i=n.state(!1);get active(){return n.get(this.#i)}set active(e){n.set(this.#i,e,!0)}#a=n.state(0);get rank(){return n.get(this.#a)}set rank(e){n.set(this.#a,e,!0)}#r=n.state(-1);get ping(){return n.get(this.#r)}set ping(e){n.set(this.#r,e,!0)}formatName(){return`${this.name} (${this.cn})`}readWelcome(e){this.active=e.getBool(),this.name=(0,i.iw)(e.getString(20)),this.ping=e.getInt()}}class o{chat;PROTOCOL_VERSION=0;#l=n.state();get room(){return n.get(this.#l)}set room(e){n.set(this.#l,e,!0)}localClient;clients=[];#o=n.state(n.proxy([]));get leaderboard(){return n.get(this.#o)}set leaderboard(e){n.set(this.#o,e,!0)}constructor(e){this.chat=e,this.localClient=this.newClient(),setTimeout(i.yn,100)}setupGame(e){this.room?.disconnect(),this.room=e,e.registerRecv(t=>{if(this.room===e){let e=new a.k(t);try{for(;e.remaining>0;){let t=e.getInt(),s=this.MESSAGE_HANDLERS[t];if(!s)throw Error("tag type "+t);s.call(this,e)}}catch(t){console.error("neterr",t),console.log(e.debugBuf,e),this.room.disconnect()}}}),e.registerDisc(()=>{this.room===e?(this.chat.addSysMessage("You disconnected."),this.room=void 0):this.chat.addSysMessage("You disconnected from the old room.")}),this.chat.addSysMessage("You are joining the game.")}leaveGame(){this.room?.disconnect()}sendf(e,...t){this.room?.send(new r.U().putFmt(e,...t).toArray())}updatePlayers(){this.leaderboard=(0,i.yh)(this.clients,this.playersSortProps)}processWelcome(e){let t=e.getInt();t!==this.PROTOCOL_VERSION&&alert(`different protocol version (client: ${this.PROTOCOL_VERSION}, server: ${t})
refresh the page for updates?`),this.clients.length=0;let s=e.getCN();this.processWelcomeMode(e);for(let t=0;t<=i.iq;t++){let t=e.getCN();if(t<0)break;let n=t==s?this.localClient:this.newClient();n.cn=t,n.readWelcome(e),this.clients[t]=n}this.processWelcomeGame(e),this.updatePlayers()}processJoin(e){let t=e.getCN(),s=(0,i.iw)(e.getString(20));if(this.clients[t])throw Error("invalid join cn "+t);let n=this.newClient();n.cn=t,n.name=s,this.clients[t]=n,this.chat.playerJoined(n.formatName()),this.updatePlayers()}processLeave(e){let t=e.getCN(),s=this.clients[t];if(!s)throw Error("invalid leave cn "+t);s.active&&this.playerDeactivated(s),this.chat.playerLeft(s.formatName()),delete this.clients[t],this.updatePlayers()}processReset(e){let t=e.getCN(),s=this.clients[t];if(!s)throw Error("invalid reset cn "+t);s.resetScore(),this.updatePlayers(),this.chat.playerReset(s.formatName())}processRename(e){let t=e.getCN(),s=(0,i.iw)(e.getString(20)),n=this.clients[t];if(!n)throw Error("invalid rename cn "+t);this.chat.playerRename(n.formatName(),s),n.name=s}processPing(e){this.sendPong(e.getInt())}processPingTime(e){for(let t=0;t<=i.iq;t++){let t=e.getCN();if(t<0)break;let s=e.getInt(),n=this.clients[t];if(!n)throw Error("invalid ping cn "+t);n.ping=s}}processChat(e){let t=e.getCN(),s=e.getInt(),n=e.getInt(),a=e.getString(100),r=this.clients[t],l=(0,i.M0)(r,t),o=this.clients[n],c=o?r===this.localClient?"you":(0,i.M0)(o,n):void 0;this.chat.addChatMessage(l,a,s,c)}processActive(e){let t=e.getCN(),s=this.clients[t];if(!s)throw Error("invalid active cn "+t);(s.active=!s.active)?this.playerActivated(s):this.playerDeactivated(s),this.updatePlayers()}}function c(e){return e.slice(0,100)}},130:function(e,t,s){s.d(t,{Nd:()=>c,mk:()=>i,wG:()=>o});var n,i,a=s(2),r=s(131),l=s(133);(n=i||(i={}))[n.WAITING=0]="WAITING",n[n.INTERMISSION=1]="INTERMISSION",n[n.ACTIVE=2]="ACTIVE";class o extends l.vE{#c=a.state(!1);get ready(){return a.get(this.#c)}set ready(e){a.set(this.#c,e,!0)}#d=a.state(!1);get inRound(){return a.get(this.#d)}set inRound(e){a.set(this.#d,e,!0)}readWelcome(e){super.readWelcome(e),this.ready=!1,this.inRound=!1}}class c extends l.qh{#h=a.state(a.proxy(i.WAITING));get roundState(){return a.get(this.#h)}set roundState(e){a.set(this.#h,e,!0)}#u=a.state(0);get roundTimerStart(){return a.get(this.#u)}set roundTimerStart(e){a.set(this.#u,e,!0)}#g=a.state(0);get roundTimerEnd(){return a.get(this.#g)}set roundTimerEnd(e){a.set(this.#g,e,!0)}#p=a.derived(()=>this.localClient.active&&this.roundState==i.ACTIVE&&this.localClient.inRound);get playing(){return a.get(this.#p)}set playing(e){a.set(this.#p,e)}#m=a.state(a.proxy([]));get roundPlayers(){return a.get(this.#m)}set roundPlayers(e){a.set(this.#m,e,!0)}#f=a.state(a.proxy([]));get roundPlayerQueue(){return a.get(this.#f)}set roundPlayerQueue(e){a.set(this.#f,e,!0)}#v=a.state(a.proxy([]));get pastGames(){return a.get(this.#v)}set pastGames(e){a.set(this.#v,e,!0)}addHistory(e){this.pastGames.length>=100&&this.pastGames.pop(),this.pastGames.unshift(e)}clearHistory(){this.pastGames=[]}processWelcomeGame(e){let t=e.getInt();if(0===t)this.roundWait();else if(1===t){this.roundIntermission(e.getInt(),this.INTERMISSION_TIME);for(let t=0;t<=r.iq;t++){let t=e.getCN();if(t<0)break;let s=this.clients[t];if(!s)throw Error("invalid welcome round ready cn "+t);s.ready=!0}}else 2===t&&this.roundStart(e.getInt(),this.ROUND_TIME);let s=[];for(let t=0;t<=r.iq;t++){let t=e.getCN();if(t<0)break;let n=this.clients[t];if(!n)throw Error("invalid welcome round player cn "+t);n.inRound=!0,s.push(n)}this.roundPlayers=s;let n=[];for(let t=0;t<=r.iq;t++){let t=e.getCN();if(t<0)break;let s=this.clients[t];if(!s)throw Error("invalid welcome round queue cn "+t);n.push(s)}this.roundPlayerQueue=n}processRoundWait(e){this.roundWait()}processRoundInterm(e){this.roundIntermission(this.INTERMISSION_TIME)}processRoundStart(e){this.unsetInRound();let t=[];for(let s=0;s<=r.iq;s++){let s=e.getCN();if(s<0)break;let n=this.clients[s];if(!n)throw Error("invalid round start player cn "+s);n.inRound=!0,t.push(n)}this.roundPlayers=t,this.roundPlayerQueue=[],this.roundStart(this.ROUND_TIME)}processReady(e){let t=e.getCN(),s=this.clients[t];if(!s)throw Error("invalid ready cn "+t);s.ready=!s.ready}roundWait(){this.roundState=i.WAITING,this.unsetReady()}roundIntermission(e,t){this.roundState=i.INTERMISSION,this.setTimer(e,t),this.unsetReady()}roundStart(e,t){this.roundState=i.ACTIVE,this.setTimer(e,t),this.unsetReady()}setTimer(e,t=e){let s=Date.now()+e;this.roundTimerStart=s-Math.max(t,e),this.roundTimerEnd=s}unsetReady(){this.clients.forEach(e=>e.ready=!1)}unsetInRound(){this.clients.forEach(e=>e.inRound=!1)}playerActivated(e){this.roundPlayerQueue.push(e)}playerDeactivated(e){this.roundPlayers=this.roundPlayers.filter(t=>t!==e),this.roundPlayerQueue=this.roundPlayerQueue.filter(t=>t!==e),e.inRound=!1}}},102:function(e,t,s){s.d(t,{C:()=>i});var n=s(2);function i(e,t,s=!1){let a=n.state(n.proxy(t));function r(e){return"undefined"===e?void 0:JSON.parse(e)}if(window.localStorage){let i=localStorage.getItem(e);null!==i&&n.set(a,r(i),!0),n.user_effect(()=>localStorage.setItem(e,void 0===n.get(a)?"undefined":JSON.stringify(n.get(a)))),s&&window.addEventListener("storage",s=>s.storageArea===localStorage&&s.key===e&&n.set(a,null==s.newValue?t:r(s.newValue),!0))}return{get value(){return n.get(a)},set value(newVal){n.set(a,newVal,!0)}}}},120:function(e,t,s){s.d(t,{A:()=>w}),s(1);var n=s(2),i=s(5),a=s(121);function r(e,t){13===e.which&&t()}var l=(e,t,s)=>t.setHoldMode(n.set(s,0)),o=(e,t)=>t.clear(),c=n.from_html("<span><strong> </strong> joined the game.</span>"),d=n.from_html("<span><strong> </strong> left the game.</span>"),h=n.from_html("<span><strong> </strong> reset stats.</span>"),u=n.from_html("<span> <strong> </strong>.</span>"),g=n.from_html('<span class="badge text-bg-secondary"> </span>'),p=n.from_html('<small class="text-muted"><del> </del></small> <span class="text-danger">(do not spam!)</span>',1),m=n.from_html('(to <span class="badge text-bg-primary"> </span>)',1),f=n.from_html('(to <span class="badge text-bg-info">TEAM</span>)',1),v=n.from_html("<span><!> <!> <!></span>"),b=n.from_html("<span><em> </em></span>"),y=n.from_html("<span> </span>"),_=n.from_html('<li class="list-group-item"><!></li>'),x=n.from_html(`<div class="card"><div class="card-header"><h4 class="float-start"> </h4> <div class="float-end"><button> </button> <button>Clear</button></div></div> <ul class="list-group list-group-flush"><!> <li>Scroll down to resume autoscroll</li></ul> <div class="card-footer"><div class="input-group"><input type="text" class="form-control" placeholder="Enter a message here…"/> <button class="btn btn-outline-primary">Send</button></div></div></div>`);function w(e,t){let s,w,R;n.push(t,!0);let{title:C="Chat",height:I="20rem",chatState:k,onInput:N=console.log}=n.rest_props(t,["$$slots","$$events","$$legacy"]),S=n.derived(()=>k.queueLength),E=n.derived(()=>k.messages),T=n.state(void 0),A=n.state(void 0),M=n.state(n.proxy(a.xF.None)),P=n.state("");function $(){n.get(M)||n.get(T)?.scrollTo(0,n.get(T).scrollHeight)}function O(){N(n.get(P)),n.set(P,"")}n.user_pre_effect(()=>{n.get(E),(0,i.io)().then($)});var q=x(),B=n.child(q),D=n.child(B),U=n.child(D,!0);n.reset(D);var G=n.sibling(D,2),L=n.child(G);L.__click=[l,k,M];var F=n.child(L);n.reset(L);var W=n.sibling(L,2);W.__click=[o,k],n.reset(G),n.reset(B);var j=n.sibling(B,2),H=n.child(j);n.each(H,17,()=>n.get(E),n.index,(e,t)=>{var s=_(),i=n.child(s),a=e=>{var s=c(),i=n.child(s),a=n.child(i,!0);n.reset(i),n.next(),n.reset(s),n.template_effect(()=>n.set_text(a,n.get(t).name)),n.append(e,s)},r=e=>{var s=n.comment(),i=n.first_child(s),a=e=>{var s=d(),i=n.child(s),a=n.child(i,!0);n.reset(i),n.next(),n.reset(s),n.template_effect(()=>n.set_text(a,n.get(t).name)),n.append(e,s)},r=e=>{var s=n.comment(),i=n.first_child(s),a=e=>{var s=h(),i=n.child(s),a=n.child(i,!0);n.reset(i),n.next(),n.reset(s),n.template_effect(()=>n.set_text(a,n.get(t).name)),n.append(e,s)},r=e=>{var s=n.comment(),i=n.first_child(s),a=e=>{var s=u(),i=n.child(s),a=n.sibling(i),r=n.child(a,!0);n.reset(a),n.next(),n.reset(s),n.template_effect(()=>{n.set_text(i,`${n.get(t).oldName??""} is now known as `),n.set_text(r,n.get(t).newName)}),n.append(e,s)},r=e=>{var s=n.comment(),i=n.first_child(s),a=e=>{var s=v(),i=n.child(s),a=e=>{var s=n.text();n.template_effect(()=>n.set_text(s,`* ${n.get(t).name??""}`)),n.append(e,s)},r=e=>{var s=g(),i=n.child(s,!0);n.reset(s),n.template_effect(()=>n.set_text(i,n.get(t).name)),n.append(e,s)};n.if(i,e=>{4&n.get(t).flags?e(a):e(r,!1)});var l=n.sibling(i,2),o=e=>{var s=p(),i=n.first_child(s),a=n.child(i),r=n.child(a,!0);n.reset(a),n.reset(i),n.next(2),n.template_effect(()=>n.set_text(r,n.get(t).msg)),n.append(e,s)},c=e=>{var s=n.text();n.template_effect(()=>n.set_text(s,n.get(t).msg)),n.append(e,s)};n.if(l,e=>{8&n.get(t).flags?e(o):e(c,!1)});var d=n.sibling(l,2),h=e=>{var s=m(),i=n.sibling(n.first_child(s)),a=n.child(i,!0);n.reset(i),n.next(),n.template_effect(()=>n.set_text(a,n.get(t).targetName)),n.append(e,s)},u=e=>{var s=n.comment(),i=n.first_child(s),a=e=>{var t=f();n.next(2),n.append(e,t)};n.if(i,e=>{(3&n.get(t).flags)==2&&e(a)},!0),n.append(e,s)};n.if(d,e=>{n.get(t).targetName?e(h):e(u,!1)}),n.reset(s),n.append(e,s)},r=e=>{var s=n.comment(),i=n.first_child(s),a=e=>{var s=b(),i=n.child(s),a=n.child(i,!0);n.reset(i),n.reset(s),n.template_effect(()=>n.set_text(a,n.get(t).msg)),n.append(e,s)},r=e=>{var s=y(),i=n.child(s,!0);n.reset(s),n.template_effect(()=>n.set_text(i,n.get(t))),n.append(e,s)};n.if(i,e=>{"sys"===n.get(t).type?e(a):e(r,!1)},!0),n.append(e,s)};n.if(i,e=>{"chat"===n.get(t).type?e(a):e(r,!1)},!0),n.append(e,s)};n.if(i,e=>{"rename"===n.get(t).type?e(a):e(r,!1)},!0),n.append(e,s)};n.if(i,e=>{"reset"===n.get(t).type?e(a):e(r,!1)},!0),n.append(e,s)};n.if(i,e=>{"left"===n.get(t).type?e(a):e(r,!1)},!0),n.append(e,s)};n.if(i,e=>{"join"===n.get(t).type?e(a):e(r,!1)}),n.reset(s),n.append(e,s)});var J=n.sibling(H,2);n.bind_this(J,e=>n.set(A,e),()=>n.get(A)),n.reset(j),n.bind_this(j,e=>n.set(T,e),()=>n.get(T));var V=n.sibling(j,2),Q=n.child(V),Y=n.child(Q);n.remove_input_defaults(Y),Y.__keydown=[r,O],n.sibling(Y,2).__click=O,n.reset(Q),n.reset(V),n.reset(q),n.template_effect((e,t,i)=>{n.set_text(U,C),s=n.set_class(L,1,"btn btn-sm btn-info",null,s,e),n.set_text(F,`${n.get(S)??""} new`),w=n.set_class(W,1,"btn btn-sm btn-danger",null,w,t),n.set_style(j,`overflow-y: scroll; height: ${I??""}`),R=n.set_class(J,1,"list-group-item text-bg-warning text-center",null,R,i)},[()=>({"d-none":!n.get(S)&&!n.get(M)}),()=>({"d-none":!n.get(E).length}),()=>({"d-none":!n.get(M)})]),n.event("scroll",j,function(){let e=n.get(T)&&n.get(A)&&n.get(T).offsetHeight+n.get(T).scrollTop>n.get(T).scrollHeight-n.get(A).offsetHeight?n.get(T).offsetHeight+n.get(T).scrollTop>n.get(T).scrollHeight-1?a.xF.None:a.xF.AfterNext:a.xF.All;n.get(M)!==e&&(n.set(M,e,!0),k.setHoldMode(e))}),n.bind_value(Y,()=>n.get(P),e=>n.set(P,e)),n.append(e,q),n.pop()}n.delegate(["click","keydown"])},122:function(e,t,s){s.d(t,{A:()=>a}),s(1);var n=s(2),i=n.from_html('<div class="card mb-3"><div class="card-header"><h4 class="float-start">Past Games</h4> <button>Clear</button></div> <!></div>');function a(e,t){let s;var a=i(),r=n.child(a),l=n.sibling(n.child(r),2);l.__click=function(...e){t.onClear?.apply(this,e)},n.reset(r);var o=n.sibling(r,2);n.snippet(o,()=>t.children),n.reset(a),n.template_effect(e=>s=n.set_class(l,1,"btn btn-sm btn-danger float-end",null,s,e),[()=>({"d-none":!t.canClear})]),n.append(e,a)}n.delegate(["click"])},123:function(e,t,s){s.d(t,{A:()=>c}),s(1);var n=s(2),i=n.from_html('<th scope="col"> </th>'),a=n.from_html("<td> </td>"),r=n.from_html('<tr><th scope="row"> </th><td> </td><!><td> </td></tr>'),l=n.from_html('<tr class="table-secondary"><td class="text-center">nobody</td></tr>'),o=n.from_html('<div class="card mb-3"><div class="card-header"><h4 class="float-start">Leaderboard</h4> <label class="form-check float-end"><input type="checkbox" class="form-check-input"/> <span class="form-check-label">show spectators</span></label></div> <div class="table-responsive" style="max-height: 20rem"><table class="table table-sm"><tbody><tr><th scope="col">Name</th><th scope="col">Rank</th><!><th scope="col">Ping</th></tr><!></tbody></table></div></div>');function c(e,t){n.push(t,!0);let s=n.prop(t,"columns",19,()=>[]),c=n.state(!0);var d=o(),h=n.child(d),u=n.sibling(n.child(h),2),g=n.child(u);n.remove_input_defaults(g),n.next(2),n.reset(u),n.reset(h);var p=n.sibling(h,2),m=n.child(p),f=n.child(m),v=n.child(f),b=n.sibling(n.child(v),2);n.each(b,17,s,n.index,(e,t)=>{var s=i(),a=n.child(s,!0);n.reset(s),n.template_effect(()=>n.set_text(a,n.get(t)[0])),n.append(e,s)}),n.next(),n.reset(v);var y=n.sibling(v);n.each(y,17,()=>t.leaderboard,n.index,(e,i)=>{let l=n.derived(()=>n.get(i)===t.localClient),o=n.derived(()=>{let{active:e}=n.get(i);return{active:e}});var d=n.comment(),h=n.first_child(d),u=e=>{let t;var c=r(),d=n.child(c),h=n.child(d);n.reset(d);var u=n.sibling(d),g=n.child(u,!0);n.reset(u);var p=n.sibling(u);n.each(p,17,s,n.index,(e,t)=>{var s=a(),r=n.child(s,!0);n.reset(s),n.template_effect(e=>n.set_text(r,e),[()=>(function(e){if("object"==typeof e){if(!e[1])return e[0];let t="bigint"==typeof e[0]?Number(1000000n*e[0]/e[1])/1e4:100*e[0]/e[1];return`${e[0]} (${t.toPrecision(3)}%)`}return e})(n.get(t)[1](n.get(i)))]),n.append(e,s)});var m=n.sibling(p),f=n.child(m,!0);n.reset(m),n.reset(c),n.template_effect(e=>{t=n.set_class(c,1,"",null,t,e),n.set_text(h,`${n.get(i).name??""} (${n.get(i).cn??""})`),n.set_text(g,n.get(i).rank),n.set_text(f,n.get(i).ping<0?"?":n.get(i).ping)},[()=>({"table-info":n.get(l)&&n.get(o).active,"table-warning":n.get(l)&&!n.get(o).active,"table-secondary":!n.get(l)&&!n.get(o).active})]),n.append(e,c)};n.if(h,e=>{(n.get(c)||n.get(l)||n.get(o).active)&&e(u)}),n.append(e,d)},e=>{var t=l(),i=n.child(t);n.reset(t),n.template_effect(()=>n.set_attribute(i,"colspan",3+s().length)),n.append(e,t)}),n.reset(f),n.reset(m),n.reset(p),n.reset(d),n.bind_checked(g,()=>n.get(c),e=>n.set(c,e)),n.append(e,d),n.pop()}},124:function(e,t,s){s.d(t,{A:()=>a}),s(1);var n=s(2),i=n.from_html('<div class="input-group mb-3"><span class="input-group-text">Name</span> <input type="text" class="form-control"/></div>');function a(e,t){n.push(t,!0);let s=n.prop(t,"value",15),a=n.prop(t,"placeholder",3,"unnamed"),r=n.prop(t,"maxlength",3,20);var l=i(),o=n.sibling(n.child(l),2);n.remove_input_defaults(o),n.reset(l),n.template_effect(()=>{n.set_attribute(o,"placeholder",a()),n.set_attribute(o,"maxlength",r())}),n.bind_value(o,s),n.append(e,l),n.pop()}},127:function(e,t,s){s.d(t,{A:()=>T}),s(1);var n=s(2),i=n.from_html("<small>*</small>"),a=n.from_html('<div><label><span> <!></span> <span class="form-check form-switch"><input type="checkbox"/> <small class="form-check-label text-muted"> </small></span></label></div>'),r=n.from_html("<small>*</small>"),l=n.from_html('<label class="form-check form-check-inline"><input type="radio"/> <span class="form-check-label"> </span></label>'),o=n.from_html('<div><span> <!></span> <div><small class="text-muted"> </small></div> <!></div>'),c=n.from_html("<small>*</small>"),d=n.from_html('<div><label class="w-100"><span> <small class="text-muted"> <!>]</small><!></span> <small class="text-muted d-block"> </small> <input/> <input/></label></div>'),h=s(128),u=s(5),g=(e,t,s)=>(t(),s.onRefresh()),p=(e,t)=>n.set(t,!n.get(t)),m=n.from_html('<div class="modal-footer"><button class="btn btn-danger me-auto">Reset</button> <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button> <button class="btn btn-primary" data-bs-dismiss="modal">Create</button></div>'),f=n.from_html('<div class="card mb-3"><div class="card-header"><h4 class="float-start"> </h4> <div class="float-end"><button class="btn btn-sm btn-secondary"><div></div> Refresh</button> <button> </button> <button class="btn btn-sm btn-primary" data-bs-toggle="modal" data-bs-target="#newRoomModal">New</button></div></div> <div style="overflow-y: scroll; height: 50vh"><!> <!></div></div> <div class="modal" id="newRoomModal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">New room</h5> <div class="ms-auto"><button class="btn btn-sm btn-danger">Reset</button> <button class="btn btn-sm btn-primary" data-bs-dismiss="modal">Create</button> <button class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div></div> <div class="modal-body"><!></div> <!></div></div></div>',1);n.delegate(["click"]);class v{c;id;constructor(e,t){this.c=e,this.id=t}get connected(){return this.c.connected}disconnect(){this.c.disconnect()}}class b{room;msgCallbacks=[];discCallbacks=[];constructor(e){this.room=e;const t=t=>{let s;if(!t.length){console.log("neterr: empty message",t),e.disconnect();return}try{s=t.getByteArray(0)}catch{console.log("neterr: first item is not byte array",t),e.disconnect();return}let n=Uint8Array.from(s);this.msgCallbacks.forEach(e=>e(n))},s=()=>{this.discCallbacks.forEach(e=>e()),e.c.removeMessageCallback(t),setTimeout(()=>e.c.removeDisconnectCallback(s),1)};e.c.addMessageCallback("",t),e.c.addDisconnectCallback(s)}get id(){return this.room.id}get connected(){return this.room.connected}disconnect(){this.room.disconnect()}send(e){this.room.c.send("",e)}registerRecv(e){this.msgCallbacks.push(e)}registerDisc(e){this.discCallbacks.push(e)}}s(129);class y{curConn;curConnId;static thenDisconnect(e){e.then(e=>e.disconnect())}async connect(e,t){if(t)for(;this.curConn&&t===this.curConnId;)try{return await this.curConn}catch{}this.curConnId=t;try{let t=this.curConn,s=await (this.curConn=e());return t&&y.thenDisconnect(t),s}catch(e){throw this.curConn=this.curConnId=void 0,e}}cancel(){this.curConn&&(y.thenDisconnect(this.curConn),this.curConn=this.curConnId=void 0)}}class _{client;cm=new y;constructor(e,t){this.client=e,this.client.multiplayer.useSecureConnections=!0,t&&(this.client.multiplayer.developmentServer=t)}createRoom(e,t,s=!0,n=null){return new Promise((i,a)=>this.client.multiplayer.createRoom(e,t,s,n,i,a))}createJoinRoom(e,t,s=!0,n=null,i=null){return this.cm.connect(()=>new Promise((a,r)=>this.client.multiplayer.createJoinRoom(e,t,s,n,i,t=>a(new v(t,e)),r)))}joinRoom(e,t=null){return this.cm.connect(()=>new Promise((s,n)=>this.client.multiplayer.joinRoom(e,t,t=>s(new v(t,e)),n)))}listRooms(e,t={},s=0,n=0){return new Promise((i,a)=>this.client.multiplayer.listRooms(e,t,s,n,i,a))}async disconnect(){}}class x{gameId;defaultConnectionID;cm=new y;constructor(e,t="public"){this.gameId=e,this.defaultConnectionID=t,PlayerIO.useSecureApiRequests=!0}async connect(e=this.defaultConnectionID,t={userId:"guest"},s={}){let n=()=>new Promise((n,i)=>PlayerIO.authenticate(this.gameId,e,t,s,e=>n(new _(e)),i));return await this.cm.connect(n,void 0)}cancel(){this.cm.cancel()}}var w=s(102),R=n.from_html("<div></div>"),C=n.from_html('<th scope="col"> </th>'),I=(e,t,s,i)=>t(async e=>e.joinRoom(n.get(s).id,i())),k=n.from_html("<td> </td>"),N=n.from_html('<tr><td><button class="btn btn-outline-primary btn-small">Join</button></td><!></tr>'),S=n.from_html('<tr><td class="text-center">No rooms</td></tr>'),E=n.from_html('<table class="table table-sm"><tbody><tr><th scope="col">Action</th><!></tr><!></tbody></table>');function T(e,t){n.push(t,!0);let s=n.prop(t,"joinData",3,null),v=n.prop(t,"columns",19,()=>[["Players",e=>{var t;let s,n,i;return s=(t=e).onlineUsers,(i=s-(n=+t.roomData.activeCount||0))?`${n}+${i}`:s+""}],["ID",e=>e.id.slice(0,8)+"…",e=>e.id],["Game Mode",e=>t.formatGameMode(e.roomData)]]),y=new x(t.gameId),_=t.roomCreateOptions.map(e=>[e,(0,w.C)(`game/mp/_roomCreate/${t.roomType}/${e[0]}`,e[2])]),T=n.state(n.proxy([])),A=n.state(!1),M=n.state(!1);async function P(){n.set(A,!0);try{let e=await O();n.set(T,await e.listRooms(t.roomType),!0)}catch(e){console.log(e),alert(e)}finally{n.set(A,!1)}}async function $(e){try{let s=await O(),n=await e(s);return P(),t.onJoinedRoom(new b(n)),n}catch(e){console.log(e),alert(e);return}}function O(){let e=y.connect();return n.set(M,!0),e}P();{let b=n.derived(()=>!n.get(M)),y=n.derived(()=>_.length>8);!function(e,t){let s,i,a;n.push(t,!0);let r=n.prop(t,"disableNew",3,!1),l=n.prop(t,"showNewRoomFooter",3,!1),o=n.prop(t,"refreshTimeoutBase",3,15e3),c=n.prop(t,"refreshTimeoutJitter",3,15e3),d=n.state(!1),v=n.state(0),b=n.state(1);function y(){clearTimeout(s);let e=o()+Math.random()*c();n.set(v,Date.now(),!0),n.set(b,Date.now()+e),s=setTimeout(()=>{t.onRefresh(),y()},e)}y(),(0,u.sA)(()=>clearTimeout(s));var _=f(),x=n.first_child(_),w=n.child(x),R=n.child(w),C=n.child(R);n.reset(R);var I=n.sibling(R,2),k=n.child(I);k.__click=[g,y,t];var N=n.child(k);n.next(),n.reset(k);var S=n.sibling(k,2);S.__click=[p,d];var E=n.child(S,!0);n.reset(S);var T=n.sibling(S,2);n.reset(I),n.reset(w);var A=n.sibling(w,2),M=n.child(A);(0,h.A)(M,{get startTime(){return n.get(v)},get endTime(){return n.get(b)},active:!0});var P=n.sibling(M,2);n.snippet(P,()=>t.children),n.reset(A),n.reset(x);var $=n.sibling(x,2),O=n.child($),q=n.child(O),B=n.child(q),D=n.sibling(n.child(B),2),U=n.child(D);U.__click=function(...e){t.onResetRoomOptions?.apply(this,e)},n.sibling(U,2).__click=function(...e){t.onNewRoom?.apply(this,e)},n.next(2),n.reset(D),n.reset(B);var G=n.sibling(B,2),L=n.child(G);n.snippet(L,()=>t.newRoom),n.reset(G);var F=n.sibling(G,2),W=e=>{var s=m(),i=n.child(s);i.__click=function(...e){t.onResetRoomOptions?.apply(this,e)},n.sibling(i,4).__click=function(...e){t.onNewRoom?.apply(this,e)},n.reset(s),n.append(e,s)};n.if(F,e=>{l()&&e(W)}),n.reset(q),n.reset(O),n.reset($),n.template_effect((e,s)=>{n.set_text(C,`Rooms (showing ${t.rooms.length??""}/${t.rooms.length??""})`),i=n.set_class(N,1,"spinner-border spinner-border-sm",null,i,e),n.set_class(S,1,`btn btn-sm btn-${n.get(d)?"secondary":"warning"}`),n.set_text(E,n.get(d)?"Show":"Hide"),T.disabled=r(),a=n.set_class(A,1,"card-body",null,a,s)},[()=>({"d-none":!t.isRefreshing}),()=>({"d-none":n.get(d)})]),n.append(e,_),n.pop()}(e,{get isRefreshing(){return n.get(A)},get rooms(){return n.get(T)},get disableNew(){return n.get(b)},get showNewRoomFooter(){return n.get(y)},onRefresh:P,onResetRoomOptions:function(){_.forEach(e=>e[1].value=e[0][2])},onNewRoom:()=>$(async e=>e.createJoinRoom(function(e){let t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s="";for(;e--;)s+=t[Math.random()*t.length|0];return s}(50),t.roomType,!0,_.length?Object.fromEntries(_.map(([e,t])=>[e[0],t.value])):null,s())),newRoom:e=>{var t=R();n.each(t,21,()=>_,n.index,(e,t)=>{var s,h,u,g,p;let m,f,v;s={get optionStore(){return n.get(t)}},m=n.derived(()=>n.to_array(s.optionStore,2)),f=n.derived(()=>n.get(m)[0]),v=n.derived(()=>n.get(m)[1]),h=n.comment(),u=n.first_child(h),g=e=>{var t,s,r,l,o,c,d,h,u,g,p;let m,b,y,_,x,w,R;t={get option(){return n.get(f)},get store(){return n.get(v)}},n.push(t,!0),b=n.prop(t,"store",7),y=n.derived(()=>n.to_array(t.option,5)),n.derived(()=>n.get(y)[0]),n.derived(()=>n.get(y)[1]),_=n.derived(()=>n.get(y)[2]),x=n.derived(()=>n.get(y)[3]),w=n.derived(()=>n.get(y)[4]),R=n.derived(()=>b().value!==n.get(_)),s=a(),r=n.child(s),l=n.child(r),o=n.child(l,!0),c=n.sibling(o),d=e=>{var t=i();n.append(e,t)},n.if(c,e=>{n.get(R)&&e(d)}),n.reset(l),h=n.sibling(l,2),u=n.child(h),n.remove_input_defaults(u),g=n.sibling(u,2),p=n.child(g,!0),n.reset(g),n.reset(h),n.reset(r),n.reset(s),n.template_effect(e=>{n.set_text(o,n.get(x)),m=n.set_class(u,1,"form-check-input",null,m,e),n.set_text(p,n.get(w))},[()=>({"bg-info":n.get(R)})]),n.bind_checked(u,()=>b().value,e=>b().value=e),n.append(e,s),n.pop()},p=e=>{var t=n.comment(),s=n.first_child(t),i=e=>{var t,s,i,a,r,l,o,h,u,g,p,m,b,y,_;let x,w,R,C,I,k,N,S,E;t={get option(){return n.get(f)},get store(){return n.get(v)}},n.push(t,!0),x=n.prop(t,"store",7),w=n.derived(()=>n.to_array(t.option,8)),n.derived(()=>n.get(w)[0]),n.derived(()=>n.get(w)[1]),R=n.derived(()=>n.get(w)[2]),C=n.derived(()=>n.get(w)[3]),I=n.derived(()=>n.get(w)[4]),k=n.derived(()=>n.get(w)[5]),N=n.derived(()=>n.get(w)[6]),S=n.derived(()=>n.get(w)[7]),E=n.derived(()=>x().value!==n.get(R)),s=d(),i=n.child(s),a=n.child(i),r=n.child(a),l=n.sibling(r),o=n.child(l),h=n.sibling(o),u=e=>{var t=n.text();n.template_effect(()=>n.set_text(t,`, default ${n.get(R)??""}`)),n.append(e,t)},n.if(h,e=>{n.get(E)&&e(u)}),n.next(),n.reset(l),g=n.sibling(l),p=e=>{var t=c();n.append(e,t)},n.if(g,e=>{n.get(E)&&e(p)}),n.reset(a),m=n.sibling(a,2),b=n.child(m,!0),n.reset(m),y=n.sibling(m,2),n.attribute_effect(y,()=>({type:"number",class:"form-control",min:n.get(k),max:n.get(N),...n.get(S)}),void 0,void 0,void 0,!0),_=n.sibling(y,2),n.attribute_effect(_,()=>({type:"range",class:"form-range",min:n.get(k),max:n.get(N),...n.get(S)}),void 0,void 0,void 0,!0),n.reset(i),n.reset(s),n.template_effect(()=>{n.set_text(r,`${n.get(C)??""} `),n.set_text(o,`[${n.get(k)??""} to ${n.get(N)??""}`),n.set_text(b,n.get(I))}),n.bind_value(y,()=>x().value,e=>x().value=e),n.bind_value(_,()=>x().value,e=>x().value=e),n.append(e,s),n.pop()},a=e=>{var t=n.comment(),s=n.first_child(t),i=e=>{var t,s,i,a,c,d,h,u,g,p;let m,b,y,_,x,w,R,C;t={get option(){return n.get(f)},get store(){return n.get(v)}},n.push(t,!0),m=[],b=n.prop(t,"store",7),y=n.derived(()=>n.to_array(t.option,6)),n.derived(()=>n.get(y)[0]),n.derived(()=>n.get(y)[1]),_=n.derived(()=>n.get(y)[2]),x=n.derived(()=>n.get(y)[3]),w=n.derived(()=>n.get(y)[4]),R=n.derived(()=>n.get(y)[5]),C=n.derived(()=>b().value!==n.get(_)),s=o(),i=n.child(s),a=n.child(i,!0),c=n.sibling(a),d=e=>{var t=r();n.append(e,t)},n.if(c,e=>{n.get(C)&&e(d)}),n.reset(i),h=n.sibling(i,2),u=n.child(h),g=n.child(u,!0),n.reset(u),n.reset(h),p=n.sibling(h,2),n.each(p,17,()=>n.get(R),n.index,(e,t,s)=>{let i;var a=l(),r=n.child(a);n.remove_input_defaults(r),r.value=r.__value=s;var o=n.sibling(r,2),c=n.child(o,!0);n.reset(o),n.reset(a),n.template_effect(e=>{i=n.set_class(r,1,"form-check-input",null,i,e),n.set_text(c,n.get(t))},[()=>({"bg-info":n.get(C)&&s===n.get(_)})]),n.bind_group(m,[],r,()=>b().value,e=>b().value=e),n.append(e,a)}),n.reset(s),n.template_effect(()=>{n.set_text(a,n.get(x)),n.set_text(g,n.get(w))}),n.append(e,s),n.pop()},a=e=>{var t=n.text();n.template_effect(()=>n.set_text(t,`unknown option type ${n.get(f)[1]??""} (${n.get(f)??""})`)),n.append(e,t)};n.if(s,e=>{"e"===n.get(f)[1]?e(i):e(a,!1)},!0),n.append(e,t)};n.if(s,e=>{"i"===n.get(f)[1]||"I"===n.get(f)[1]?e(i):e(a,!1)},!0),n.append(e,t)},n.if(u,e=>{"b"===n.get(f)[1]?e(g):e(p,!1)}),n.append(e,h)}),n.reset(t),n.append(e,t)},children:(e,i)=>{var a=E(),r=n.child(a),l=n.child(r),o=n.sibling(n.child(l));n.each(o,17,v,n.index,(e,t)=>{var s=C(),i=n.child(s,!0);n.reset(s),n.template_effect(()=>n.set_text(i,n.get(t)[0])),n.append(e,s)}),n.reset(l);var c=n.sibling(l);n.each(c,17,()=>n.get(T),n.index,(e,i)=>{let a;var r=N(),l=n.child(r);n.child(l).__click=[I,$,i,s],n.reset(l);var o=n.sibling(l);n.each(o,17,v,n.index,(e,t)=>{var s=k(),a=n.child(s,!0);n.reset(s),n.template_effect((e,t)=>{n.set_attribute(s,"title",e),n.set_text(a,t)},[()=>n.get(t)[2]?n.get(t)[2](n.get(i)):"",()=>n.get(t)[1](n.get(i))]),n.append(e,s)}),n.reset(r),n.template_effect(e=>a=n.set_class(r,1,"",null,a,e),[()=>({"table-info":n.get(i).id==t.gameRoom?.id})]),n.append(e,r)},e=>{var t=S(),s=n.child(t);n.reset(t),n.template_effect(()=>n.set_attribute(s,"colspan",1+v().length)),n.append(e,t)}),n.reset(r),n.reset(a),n.append(e,a)},$$slots:{newRoom:!0,default:!0}})}return n.pop({refreshRooms:P})}n.delegate(["click"])},125:function(e,t,s){s.d(t,{A:()=>p}),s(1);var n=s(2),i=(e,t)=>t.onReady(),a=n.from_html('<button class="btn btn-sm btn-success">Unready</button>'),r=(e,t)=>t.onReady(),l=n.from_html('<button class="btn btn-sm btn-info">Ready</button>'),o=(e,t)=>t.onActive(),c=n.from_html('<!> <button class="btn btn-sm btn-secondary">Spectate</button>',1),d=(e,t)=>t.onActive(),h=n.from_html('<button class="btn btn-sm btn-primary">Unspectate</button>'),u=n.from_html('<div class="float-end"><!> <div class="btn-group"><button class="btn btn-sm btn-warning">Reset Score</button> <button class="btn btn-sm btn-danger">Disconnect</button></div></div>'),g=n.from_html('<div role="alert"><h4 class="alert-heading">Disconnected</h4> Join or create a room above!</div> <div role="alert"><h4 class="alert-heading">Spectating</h4> <span class="badge text-bg-primary">Unspectate</span> if you want to play!</div> <div role="alert"><h4 class="alert-heading">Unready</h4> If all players are <span class="badge text-bg-info">Ready</span>, the intermission ends early.</div> <div class="card mb-3"><div class="card-header"><h4 class="float-start">Play</h4> <!></div> <div class="card-body"><!></div></div>',1);function p(e,t){let s,p,m;n.push(t,!0);let f=n.prop(t,"inGame",3,!1),v=n.prop(t,"isActive",3,!1),b=n.prop(t,"canReady",3,!1),y=n.prop(t,"isReady",3,!1);var _=g(),x=n.first_child(_),w=n.sibling(x,2),R=n.sibling(w,2),C=n.sibling(R,2),I=n.child(C),k=n.sibling(n.child(I),2),N=e=>{var s=u(),g=n.child(s),p=e=>{var s=c(),d=n.first_child(s),h=e=>{var s=n.comment(),o=n.first_child(s),c=e=>{var s=a();s.__click=[i,t],n.append(e,s)},d=e=>{var s=l();s.__click=[r,t],n.append(e,s)};n.if(o,e=>{y()?e(c):e(d,!1)}),n.append(e,s)};n.if(d,e=>{b()&&e(h)}),n.sibling(d,2).__click=[o,t],n.append(e,s)},m=e=>{var s=h();s.__click=[d,t],n.append(e,s)};n.if(g,e=>{v()?e(p):e(m,!1)});var f=n.sibling(g,2),_=n.child(f);_.__click=function(...e){t.onReset?.apply(this,e)},n.sibling(_,2).__click=function(...e){t.onDisconnect?.apply(this,e)},n.reset(f),n.reset(s),n.append(e,s)};n.if(k,e=>{f()&&e(N)}),n.reset(I);var S=n.sibling(I,2),E=n.child(S);n.snippet(E,()=>t.children),n.reset(S),n.reset(C),n.template_effect((e,t,i)=>{s=n.set_class(x,1,"alert alert-danger",null,s,e),p=n.set_class(w,1,"alert alert-warning",null,p,t),m=n.set_class(R,1,"alert alert-info",null,m,i)},[()=>({"d-none":f()}),()=>({"d-none":!f()||v()}),()=>({"d-none":!f()||!v()||!b()||y()})]),n.append(e,_),n.pop()}n.delegate(["click"])},128:function(e,t,s){s.d(t,{A:()=>r}),s(1);var n=s(2),i=s(5),a=n.from_html('<div class="progress mb-2"><div> </div></div>');function r(e,t){n.push(t,!0);let s=n.prop(t,"start",3,0),r=n.prop(t,"end",3,1),l=n.state(0),o=n.state("0.0 s");(0,i.Rc)(()=>{let e;return!function i(){if(e=requestAnimationFrame(i),t.active){let e=Date.now();n.set(l,s()+(r()-s())*Math.min(1,(e-t.startTime)/(t.endTime-t.startTime))),n.set(o,Math.max((t.endTime-e)/1e3,0).toFixed(1)+" s")}}(),()=>cancelAnimationFrame(e)});var c=a(),d=n.child(c),h=n.child(d,!0);n.reset(d),n.reset(c),n.template_effect(()=>{n.set_class(d,1,`progress-bar${t.active?" progress-bar-striped progress-bar-animated":""}`),n.set_style(d,`transition: none; width:${100*n.get(l)}%`),n.set_text(h,n.get(o))}),n.append(e,c),n.pop()}},135:function(e,t,s){s.d(t,{A:()=>r}),s(1);var n=s(2),i=n.from_html("<span> </span>"),a=n.from_html("<div>In game: <!></div> <div>Queue: <!></div>",1);function r(e,t){let s=(e,s=n.noop,a=n.noop)=>{var r=i(),l=n.child(r);n.reset(r),n.template_effect(()=>{n.set_class(r,1,`badge text-bg${s()==t.localClient?"":"-outline"}-${a()??""} me-1`),n.set_text(l,`${s().name??""} (${s().cn??""})`)}),n.append(e,r)};var r=a(),l=n.first_child(r),o=n.sibling(n.child(l));n.each(o,17,()=>t.inGame,n.index,(e,t)=>{s(e,()=>n.get(t),()=>n.get(t).ready?"info":"primary")},e=>{n.next();var t=n.text("nobody");n.append(e,t)}),n.reset(l);var c=n.sibling(l,2),d=n.sibling(n.child(c));n.each(d,17,()=>t.inQueue,n.index,(e,t)=>{s(e,()=>n.get(t),()=>n.get(t).ready?"info":"secondary")},e=>{n.next();var t=n.text("nobody");n.append(e,t)}),n.reset(c),n.append(e,r)}},126:function(e,t,s){function n(e){return Object.fromEntries(e.map(e=>{let[t,s,n]=e;return[t,"I"==s?BigInt(n):n]}))}function i(e,t){return Object.fromEntries(e.map(e=>{let[s,n]=e;switch(n){case"b":return[s,"true"===t[s]];case"I":return[s,BigInt(t[s])];case"e":case"i":return[s,+t[s]]}}))}s.d(t,{e:()=>i,q:()=>n})},132:function(e,t,s){s.d(t,{k:()=>n});class n{buf;v;pos=0;constructor(e){this.buf=e,this.v=new DataView(e.buffer,e.byteOffset,e.byteLength)}get debugBuf(){return this.v}get remaining(){return this.v.byteLength-this.pos}get(){return this.v.getUint8(this.pos++)}getCN(){let e=this.get();return 128&e?-1:63&e}getInt(){let e=this.v.getInt8(this.pos++);return -128===e?this.v.getInt16((this.pos+=2)-2,!0):-127===e?this.v.getInt32((this.pos+=4)-4,!0):e}getBool(){return!!this.get()}getFloat64(){return this.v.getFloat64((this.pos+=8)-8)}static UINT64_BIAS=[567382630219904n,4432676798592n,34630287488n,270549120n,2113664n,16512n,128n];getUint64(){let e=this.get();if(e<128)return BigInt(e);if(255==e)return this.v.getBigUint64((this.pos+=8)-8);let t=31-Math.clz32(255^e),s=7-t,i=new Uint8Array(8);return i[t]=e&255>>s,i.set(this.buf.subarray(this.pos,this.pos+=s),t+1),new DataView(i.buffer).getBigUint64(0)+n.UINT64_BIAS[t]}getInt64(){let e=this.getUint64();return e>>1n^-(1n&e)}getString(e){let t=[];for(;t.length<=e;){let s=this.get();if(!s)break;if(t.length===e)throw Error("too long");t.push(s>127?63:s)}return String.fromCharCode(...t)}}},134:function(e,t,s){s.d(t,{U:()=>n});class n{buf=[];put(...e){return this.buf.push(...e),this}putInt(e){return e>-127&&e<128?this.put(e):e>=-32768&&e<32768?this.put(128,e,e>>8):this.put(129,e,e>>8,e>>16,e>>24),this}putBool(e){return this.put(+!!e)}putFloat64(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e),this.put(...t)}putUint64(e){let t;if(e<0)throw Error("bad Uint64");if(e<128n)return this.put(Number(e));e<0x810204080?e<2113664?e<16512?(t=6,e-=128n):(t=5,e-=16512n):e<0x10204080?(t=4,e-=2113664n):(t=3,e-=270549120n):e<0x2040810204080?e<0x40810204080?(t=2,e-=34630287488n):(t=1,e-=4432676798592n):(t=0,e<0x102040810204080n?e=e-567382630219904n|0xfe00000000000000n:this.put(255));let s=new Uint8Array(8);return new DataView(s.buffer).setBigUint64(0,e),t&&(s[t]|=254<<t),this.put(...s.subarray(t))}putInt64(e){return this.putUint64(e<<1n^e>>63n)}putString(e){for(let t=0;t<e.length;t++){let s=e.charCodeAt(t),n=s>127?63:s;if(!n)break;this.put(n)}return this.put(0)}putFmt(e,...t){for(let s=0,n=0;s<e.length;s++){let i=e[s],a=e[s+1]>="0"&&e[s+1]<="9"?+e[++s]:1;switch(i){case"s":for(;a--;)this.putString(t[n++]);break;case"i":for(;a--;)this.putInt(t[n++]);break;case"b":for(;a--;)this.putBool(t[n++]);break;case"U":for(;a--;)this.putUint64(t[n++]);break;case"d":for(;a--;)this.putFloat64(t[n++])}}return this}toArray(){return Uint8Array.from(this.buf)}}},96:function(e,t,s){s.d(t,{A:()=>i});var n=s(5);function i(e){let t=document.getElementById("app");(0,n.Or)(e,{target:t}),document.getElementById("appLoading")?.remove()}}}]);