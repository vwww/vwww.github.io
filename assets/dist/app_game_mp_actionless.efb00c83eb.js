(()=>{"use strict";var e,t,s,r,a={119:function(e,t,s){s(1);var r,a,n,i,o=s(2),l=s(120),d=s(121),_=s(122),c=s(123),p=s(124),u=s(125),m=s(126),g=s(127),h=s(130);let f=[["optIndependent","b",!1,"Independent","players or teams win/lose independently of each other"],["optTeams","i",0,"Teams","number of teams players are randomly assigned to every game",0,45]];function v({optIndependent:e,optTeams:t}){return(e?"Independent ":"One-Winner ")+(t?t+" Teams":"FFA")}var b=s(133);class y extends h.wG{}class E extends h.Nd{}(r=n||(n={}))[r.WELCOME=0]="WELCOME",r[r.JOIN=1]="JOIN",r[r.LEAVE=2]="LEAVE",r[r.RESET=3]="RESET",r[r.RENAME=4]="RENAME",r[r.PING=5]="PING",r[r.PING_TIME=6]="PING_TIME",r[r.CHAT=7]="CHAT",r[r.ACTIVE=8]="ACTIVE",r[r.ROUND_WAIT=9]="ROUND_WAIT",r[r.ROUND_INTERM=10]="ROUND_INTERM",r[r.ROUND_START=11]="ROUND_START",r[r.READY=12]="READY",r[r.END_ROUND=13]="END_ROUND",(a=i||(i={}))[a.RESET=0]="RESET",a[a.RENAME=1]="RENAME",a[a.PONG=2]="PONG",a[a.CHAT=3]="CHAT",a[a.ACTIVE=4]="ACTIVE",a[a.READY=5]="READY";class R extends y{#e=o.state(0);get wins(){return o.get(this.#e)}set wins(e){o.set(this.#e,e,!0)}#t=o.state(0);get losses(){return o.get(this.#t)}set losses(e){o.set(this.#t,e,!0)}#s=o.state(0);get total(){return o.get(this.#s)}set total(e){o.set(this.#s,e,!0)}#r=o.state(0);get streak(){return o.get(this.#r)}set streak(e){o.set(this.#r,e,!0)}resetScore(){this.wins=0,this.losses=0,this.total=0,this.streak=0}readWelcome(e){super.readWelcome(e),this.wins=e.getInt(),this.losses=e.getInt(),this.total=this.wins+this.losses,this.streak=e.getInt()}}class I extends E{#a=o.state(o.proxy((0,m.q)(f)));get mode(){return o.get(this.#a)}set mode(e){o.set(this.#a,e,!0)}INTERMISSION_TIME=5e3;ROUND_TIME=3e3;newClient(){return new R}enterGame(e,t){this.setupGame(e),this.sendf("is",this.PROTOCOL_VERSION,t)}sendReset(){this.sendf("i",i.RESET)}sendRename(e){this.sendf("is",i.RENAME,e)}sendPong(e){this.sendf("i2",i.PONG,e)}sendChat(e,t,s=-1){this.sendf("i3s",i.CHAT,t,s,(0,b.JK)(e))}sendActive(){this.sendf("i",i.ACTIVE)}sendReady(){this.sendf("i",i.READY)}MESSAGE_HANDLERS={[n.WELCOME]:this.processWelcome,[n.JOIN]:this.processJoin,[n.LEAVE]:this.processLeave,[n.RESET]:this.processReset,[n.RENAME]:this.processRename,[n.PING]:this.processPing,[n.PING_TIME]:this.processPingTime,[n.CHAT]:this.processChat,[n.ACTIVE]:this.processActive,[n.ROUND_WAIT]:this.processRoundWait,[n.ROUND_INTERM]:this.processRoundInterm,[n.ROUND_START]:this.processRoundStart,[n.READY]:this.processReady,[n.END_ROUND]:this.processEndRound};processWelcomeMode(e){this.mode.optIndependent=e.getBool(),this.mode.optTeams=e.getInt()}processEndRound(e){let t=e.getInt(),s=Array.from({length:t},()=>e.getBool()),r=Math.min(e.getInt(),this.roundPlayers.length),a={playerCount:r,wins:s.map((e,t)=>({id:t,win:e,players:[]}))};for(let n=0;n<r;n++){let r=e.getCN(),i=this.clients[r];if(!i)continue;let o=n%t;s[o]?(i.wins++,i.streak<0&&(i.streak=0),i.streak++):(i.losses++,i.streak>0&&(i.streak=0),i.streak--),i.total++;let l=a.wins[o];i==this.localClient&&(l.meIndex=l.players.length),l.players.push(i.formatName())}this.updatePlayers(),this.addHistory(a)}playersSortProps=[e=>e.streak,e=>e.wins-e.losses,e=>e.wins]}var A=o.from_html("<span> </span>"),T=o.from_html("<div>FFA: <!></div>"),w=o.from_html("<div> <!></div>"),N=o.from_html('<li class="list-group-item"><!></li>'),k=o.from_html('<li class="list-group-item">No past games!</li>'),S=o.from_html('<ul class="list-group list-group-flush overflow-auto" style="max-height: 15rem"></ul>'),O=s(128),C=s(135),x=o.from_html("<!> <!>",1),M=o.from_html("<!> <div> </div> <!>",1),P=s(102),D=o.from_html('<!> <!> <!> <div class="row"><div class="col-12 col-lg-8"><!> <!></div> <div class="col-12 col-lg-4 mb-3"><!></div></div>',1);(0,s(96).A)(function(e,t){let s;o.push(t,!0);let r=new d.Ay,a=new I(r),n=o.derived(()=>a.pastGames),i=o.derived(()=>a.leaderboard),b=o.derived(()=>a.localClient),y=o.derived(()=>a.roundState),E=(0,P.C)("game/mp/_shared/name","");var R=D(),G=o.first_child(R);(0,p.A)(G,{get value(){return E.value},set value($$value){E.value=$$value}});var $=o.sibling(G,2);o.bind_this((0,g.A)($,{gameId:"actionless-rv9luoetuchidspmvghiq",roomType:"ActionlessRoom",get gameRoom(){return a.room},onJoinedRoom:e=>a.enterGame(e,E.value),formatGameMode:e=>v((0,m.e)(f,e)),get roomCreateOptions(){return f}}),e=>s=e,()=>s);var U=o.sibling($,2);{let e=o.derived(()=>o.get(y)===h.mk.INTERMISSION);(0,u.A)(U,{get inGame(){return a.room},get isActive(){return a.localClient.active},get canReady(){return o.get(e)},get isReady(){return a.localClient.ready},onActive:()=>a.sendActive(),onReady:()=>a.sendReady(),onReset:()=>a.sendReset(),onDisconnect:()=>(a.leaveGame(),s.refreshRooms()),children:(e,t)=>{var s,r,n,i,l,d,_,c;s={get gameState(){return a}},o.push(s,!0),r=M(),n=o.first_child(r),i=e=>{var t=o.text("Waiting for playersâ€¦");o.append(e,t)},l=e=>{var t=x(),r=o.first_child(t),a=e=>{var t=o.text("Intermission:");o.append(e,t)},n=e=>{var t=o.text("Results are coming soon:");o.append(e,t)};o.if(r,e=>{s.gameState.roundState===h.mk.INTERMISSION?e(a):e(n,!1)});var i=o.sibling(r,2);(0,O.A)(i,{get startTime(){return s.gameState.roundTimerStart},get endTime(){return s.gameState.roundTimerEnd},get active(){return s.gameState.room}}),o.append(e,t)},o.if(n,e=>{s.gameState.roundState===h.mk.WAITING?e(i):e(l,!1)}),d=o.sibling(n,2),_=o.child(d),o.reset(d),c=o.sibling(d,2),(0,C.A)(c,{get localClient(){return s.gameState.localClient},get inGame(){return s.gameState.roundPlayers},get inQueue(){return s.gameState.roundPlayerQueue}}),o.template_effect(e=>o.set_text(_,`Game Mode: ${e??""}`),[()=>v(s.gameState.mode)]),o.append(e,r),o.pop()},$$slots:{default:!0}})}var L=o.sibling(U,2),W=o.child(L),V=o.child(W);(0,_.A)(V,{get canClear(){return o.get(n).length},onClear:()=>a.clearHistory(),children:(e,t)=>{var s,r;s={get results(){return o.get(n)}},r=S(),o.each(r,21,()=>s.results,o.index,(e,t)=>{var s=N();{let e=(e,t=o.noop)=>{var s=o.comment(),r=o.first_child(s);o.each(r,17,()=>t().players,o.index,(e,s,r)=>{var a=A(),n=o.child(a,!0);o.reset(a),o.template_effect(()=>{o.set_class(a,1,`badge me-1 text-bg${r==t().meIndex?"":"-outline"}-${t().win?"success":"danger"}`),o.set_text(n,o.get(s))}),o.append(e,a)}),o.append(e,s)};var r=o.child(s),a=s=>{var r=T(),a=o.sibling(o.child(r));o.each(a,17,()=>o.get(t).wins,o.index,(t,s)=>{e(t,()=>o.get(s))}),o.reset(r),o.append(s,r)},n=s=>{var r=o.comment(),a=o.first_child(r);o.each(a,17,()=>o.get(t).wins,o.index,(t,s)=>{var r=w(),a=o.child(r);e(o.sibling(a),()=>o.get(s)),o.reset(r),o.template_effect(()=>o.set_text(a,`Team ${o.get(s).id??""}: `)),o.append(t,r)}),o.append(s,r)};o.if(r,e=>{o.get(t).playerCount==o.get(t).wins.length?e(a):e(n,!1)}),o.reset(s)}o.append(e,s)},e=>{var t=k();o.append(e,t)}),o.reset(r),o.append(e,r)},$$slots:{default:!0}});var Y=o.sibling(V,2);(0,c.A)(Y,{get leaderboard(){return o.get(i)},get localClient(){return o.get(b)},columns:[["Streak",e=>e.streak],["Score",e=>e.wins-e.losses],["Win",e=>[e.wins,e.total]],["Loss",e=>[e.losses,e.total]]]}),o.reset(W);var B=o.sibling(W,2),j=o.child(B);(0,l.A)(j,{get chatState(){return r},onInput:e=>(0,d.Oo)(a,e)}),o.reset(B),o.reset(L),o.append(e,R),o.pop()})},131:function(e,t,s){s.d(t,{M0:()=>l,iq:()=>a,iw:()=>n,yh:()=>o,yn:()=>i});var r=s(132);let a=64;function n(e){return(e=e.replace(/[^a-zA-Z_ ]/,"").replace(/ {2,}/," ").trim().slice(0,20))||"unnamed"}function i(){let e=new r.k(new Uint8Array([0,1,2,3,4,5,6,7]));console.log("%cMultiplayer Game Bug Report Guide","font-family:helvetica; font-size:20px"),console.log("You're probably trying to debug a network error or file a bug report for it."),console.log("If you see an error like this, your report must contain the packet values:"),console.log("example",e.debugBuf,e),console.log("In the example above, you would have to submit at least [0, 1, 2, 3, 4, 5, 6, 7] (expand stuff as needed)")}function o(e,t){let s=e.filter(e=>e).sort((e,s)=>{for(let r of t){let t=r(e),a=r(s);if(t<a)return 1;if(t>a)return -1}return e.cn-s.cn}),r=1;return s.forEach((e,a)=>{if(a){let n=s[a-1];t.some(t=>t(e)!==t(n))&&(r=a+1)}s[a].rank=r}),s.sort((e,t)=>t.active-e.active)}function l(e,t){return e?`${e.name} (${e.cn})`:`<unknown${void 0===t?"":` (${t})`}>`}},2:function(e,t,s){s.r(t),s.d(t,{CLASS:()=>O.tp,FILENAME:()=>a.Uh,HMR:()=>a.OM,NAMESPACE_SVG:()=>a.pQ,STYLE:()=>O.Y,aborted:()=>ee.QH,action:()=>k.X,active_effect:()=>eo.Fg,add_legacy_event_listener:()=>Q.oe,add_locations:()=>l.D,add_svelte_meta:()=>n.G7,animation:()=>D.l,append:()=>F.BC,append_styles:()=>N.k,apply:()=>x.Bb,assign:()=>i.kp,assign_and:()=>i._R,assign_nullish:()=>i.Sc,assign_or:()=>i.im,async:()=>m.b,async_body:()=>Z.cZ,async_derived:()=>X.zx,attach:()=>S.K,attachment:()=>r.r,attr:()=>eu.CF,attribute_effect:()=>O.p_,autofocus:()=>M.wC,await:()=>h.x,bind_active_element:()=>G.m,bind_buffered:()=>U.w$,bind_checked:()=>$.mS,bind_content_editable:()=>j.b1,bind_current_time:()=>U.M$,bind_element_size:()=>Y.B,bind_ended:()=>U.$T,bind_files:()=>$.md,bind_focused:()=>j.oP,bind_group:()=>$.CJ,bind_muted:()=>U.iX,bind_online:()=>L.s,bind_paused:()=>U.lY,bind_playback_rate:()=>U.hc,bind_played:()=>U.YL,bind_prop:()=>W.E,bind_property:()=>j.IY,bind_ready_state:()=>U.mM,bind_resize_observer:()=>Y.y,bind_seekable:()=>U.xx,bind_seeking:()=>U.Je,bind_select_value:()=>V.$t,bind_this:()=>B.L,bind_value:()=>$.oJ,bind_volume:()=>U.Jo,bind_window_scroll:()=>z.f,bind_window_size:()=>z.r,boundary:()=>ea.pP,bubble_event:()=>Q.Ib,check_target:()=>c.X,child:()=>ep.jf,cleanup_styles:()=>o.O,clsx:()=>eu.$z,comment:()=>F.Im,component:()=>A.s,create_custom_element:()=>ec.Q,create_ownership_validator:()=>_.a,css_props:()=>b.d,deep_read:()=>eo.o1,deep_read_state:()=>eo.iT,delegate:()=>x.Mm,derived:()=>X.eO,derived_safe_equal:()=>X.Xd,document:()=>ep.gk,each:()=>y.__,effect:()=>ee.QZ,effect_root:()=>ee.Fc,effect_tracking:()=>ee.oJ,element:()=>T.N,equals:()=>ef.aI,event:()=>x.f0,exclude_from_object:()=>eo.SE,fallback:()=>eg.Np,first_child:()=>ep.es,flush:()=>K.qX,for_await_track_reactivity_loss:()=>Z.IP,from_html:()=>F.vU,from_mathml:()=>F.$N,from_svg:()=>F._i,from_tree:()=>F.el,get:()=>eo.Jt,head:()=>w.d,hmr:()=>d.c,html:()=>E.q,hydrate_template:()=>H.PK,if:()=>f.A,index:()=>y.Pe,init:()=>q.T,init_select:()=>V.wf,inspect:()=>u.N,invalid_default_snippet:()=>eh.y8,invalidate_inner_signals:()=>en.p,invalidate_store:()=>er.qB,invoke_error_boundary:()=>eb.n,key:()=>v.E,legacy_api:()=>c.j,legacy_pre_effect:()=>ee.M3,legacy_pre_effect_reset:()=>ee.iq,legacy_rest_props:()=>es.gj,log_if_contains_state:()=>ev.f,mark_store_binding:()=>er.io,mutable_source:()=>et.zg,mutate:()=>et.Tk,next:()=>H.K2,noop:()=>eg.lQ,once:()=>J.Oo,pending:()=>ea.Ub,pop:()=>n.uY,preventDefault:()=>J.wo,prevent_snippet_stringification:()=>eh.bk,prop:()=>es._w,props_id:()=>F.zA,proxy:()=>e_.B,push:()=>n.VC,raf:()=>ed.e,reactive_import:()=>Q.Iu,remove_input_defaults:()=>O.R0,remove_textarea_child:()=>M.VU,render_effect:()=>ee.VB,replay_events:()=>x.ES,reset:()=>H.cL,rest_props:()=>es.iR,safe_get:()=>eo.$i,sanitize_slots:()=>R.i,save:()=>Z.UN,select_option:()=>V.fs,self:()=>J.bg,set:()=>et.hZ,set_attribute:()=>O.aI,set_checked:()=>O.BY,set_class:()=>C.y,set_custom_element_data:()=>O.p,set_default_checked:()=>O.V$,set_default_value:()=>O.xp,set_selected:()=>O.$Z,set_style:()=>P.h,set_text:()=>ei.j,set_value:()=>O.to,set_xlink_attribute:()=>O.To,setup_stores:()=>er.DZ,sibling:()=>ep.hg,slot:()=>R.N,snapshot:()=>em.P,snippet:()=>I.UA,spread_props:()=>es.Du,state:()=>et.wk,stopImmediatePropagation:()=>J.CA,stopPropagation:()=>J.dG,store_get:()=>er.Hz,store_mutate:()=>er.hY,store_set:()=>er.fT,store_unsub:()=>er.QK,strict_equals:()=>ef.IP,tag:()=>p.Tc,tag_proxy:()=>p._e,template_effect:()=>ee.vN,text:()=>F.Qq,tick:()=>eo.io,to_array:()=>eg._N,trace:()=>p.uP,track_reactivity_loss:()=>Z.t_,transition:()=>D.k,trusted:()=>J.IZ,untrack:()=>eo.vz,update:()=>et.yo,update_legacy_props:()=>Q.hp,update_pre:()=>et.cE,update_pre_prop:()=>es.CB,update_pre_store:()=>er.IL,update_prop:()=>es.k$,update_store:()=>er.yb,user_effect:()=>ee.MW,user_pre_effect:()=>ee.Go,validate_binding:()=>el.R,validate_dynamic_element_tag:()=>eh.Bm,validate_each_keys:()=>el.e,validate_snippet_args:()=>g.j,validate_store:()=>eh.T3,validate_void_dynamic_element:()=>eh.zA,window:()=>ep.Lk,with_script:()=>F.jB,wrap_snippet:()=>I.DK});var r=s(3),a=s(4),n=s(22),i=s(42),o=s(43),l=s(44),d=s(45),_=s(46),c=s(47),p=s(20),u=s(48),m=s(49),g=s(105),h=s(50),f=s(51),v=s(52),b=s(53),y=s(54),E=s(55),R=s(56),I=s(39),A=s(57),T=s(58),w=s(35),N=s(59),k=s(60),S=s(61),O=s(62),C=s(64),x=s(34),M=s(31),P=s(65),D=s(67),G=s(70),$=s(71),U=s(72),L=s(73),W=s(74),V=s(66),Y=s(75),B=s(76),j=s(77),z=s(78),H=s(13),J=s(79),q=s(80),Q=s(81),F=s(36),Z=s(29),K=s(23),X=s(26),ee=s(8),et=s(17),es=s(82),er=s(83),ea=s(27),en=s(32),ei=s(33),eo=s(6),el=s(86),ed=s(68),e_=s(16),ec=s(87),ep=s(12),eu=s(63),em=s(21),eg=s(7),eh=s(40),ef=s(15),ev=s(89),eb=s(25)}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return a[e](s,s.exports,i),s.exports}i.m=a,i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=[],i.O=(t,s,r,a)=>{if(s){a=a||0;for(var n=e.length;n>0&&e[n-1][2]>a;n--)e[n]=e[n-1];e[n]=[s,r,a];return}for(var o=1/0,n=0;n<e.length;n++){for(var[s,r,a]=e[n],l=!0,d=0;d<s.length;d++)(!1&a||o>=a)&&Object.keys(i.O).every(e=>i.O[e](s[d]))?s.splice(d--,1):(l=!1,a<o&&(o=a));if(l){e.splice(n--,1);var _=r();void 0!==_&&(t=_)}}return t},i.rv=()=>"1.5.8",t={79:0},i.O.j=e=>0===t[e],s=(e,s)=>{var r,a,[n,o,l]=s,d=0;if(n.some(e=>0!==t[e])){for(r in o)i.o(o,r)&&(i.m[r]=o[r]);if(l)var _=l(i)}for(e&&e(s);d<n.length;d++)a=n[d],i.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return i.O(_)},(r=self.webpackChunkvwww=self.webpackChunkvwww||[]).forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r)),i.ruid="bundler=rspack@1.5.8";var o=i.O(void 0,["11","17","34","36","35","33"],function(){return i(119)});o=i.O(o)})();