(()=>{"use strict";var e,t,a,l,n={222(e,t,a){let l;a(1);var n=a(2);function i(e,t,a=!1){let l=n.state(n.proxy(t));function r(e){return"undefined"===e?void 0:JSON.parse(e)}if(window.localStorage){let i=localStorage.getItem(e);null!==i&&n.set(l,r(i),!0),n.user_effect(()=>localStorage.setItem(e,void 0===n.get(l)?"undefined":JSON.stringify(n.get(l)))),a&&window.addEventListener("storage",a=>a.storageArea===localStorage&&a.key===e&&n.set(l,null==a.newValue?t:r(a.newValue),!0))}return{get value(){return n.get(l)},set value(newVal){n.set(l,newVal,!0)}}}var r=n.from_html('<p>Overtime threshold</p> <input type="number" class="form-control" min="0"/> <input type="range" class="form-range" min="0" max="16"/> <p>Draw value <button class="btn btn-sm btn-outline-danger">0</button> <button class="btn btn-sm btn-outline-primary">0.5</button> <button class="btn btn-sm btn-outline-info">1</button></p> <input type="number" class="form-control" min="0" max="1" step="0.01"/> <input type="range" class="form-range" min="0" max="1" step="0.001"/>',1),o=n.from_html("<th></th>"),s=n.from_html('<th><div style="writing-mode: vertical-lr; transform: rotate(180deg)">Opponent score</div></th>'),u=n.from_html("<td></td>"),v=n.from_html("<td> </td>"),g=n.from_html('<tr><!><th style="position: sticky; left: 0"></th><!></tr>'),c=n.from_html('<div class="input-group d-flex mb-2" role="group"><span class="input-group-text">Presets</span> <button>Best-of-3</button> <button>Best-of-5</button> <button>Best-of-19</button> <button>Valorant Unrated</button> <button>Valorant Competitive</button></div> <p>Minimum score to win</p> <input type="number" class="form-control" min="1"/> <input type="range" class="form-range" min="1" max="32"/> <p>Lead required to win</p> <input type="number" class="form-control" min="1"/> <input type="range" class="form-range" min="1"/> <!> <p>Probability of winning a round <button class="btn btn-sm btn-outline-primary">0.5</button> <button class="btn btn-sm btn-outline-success">Invert</button></p> <input type="number" class="form-control" min="0" max="1" step="0.01"/> <input type="range" class="form-range" min="0" max="1" step="0.001"/> <table class="table table-bordered table-hover caption-top w-auto"><caption> <!></caption><thead><tr><th rowspan="2" colspan="2"></th><th>Player score</th></tr><tr style="position: sticky; top: 0; z-index: 1"></tr></thead><tbody></tbody></table>',1);n.delegate(["click"]);var d=a(5);l=document.getElementById("app"),(0,d.Or)(function(e,t){let a,l,d,b,p;n.push(t,!0);let m=i("tool/match_win/n",10),f=i("tool/match_win/p",.5),_=i("tool/match_win/l",1),h=i("tool/match_win/ot",1),y=i("tool/match_win/drawValue",.5),x=n.derived(()=>Math.max(0|m.value,1)),w=n.derived(()=>Math.min(Math.max(f.value,0),1)),k=n.derived(()=>Math.min(Math.max(y.value,0),1)),O=n.derived(()=>Math.min(Math.max(0|_.value,1),n.get(x))),M=n.derived(()=>n.get(O)>1?Math.max(0|h.value,0):0),$=n.derived(()=>n.get(x)+n.get(M)),P=n.derived(()=>n.get($)+1),S=n.derived(()=>(()=>{let e=Array.from({length:n.get(P)},()=>Array(n.get(P))),t=n.get($)-n.get(O);for(let a=0;a<=t;a++){let t=Math.max(n.get(x),a+n.get(O));e[a][t]=1,e[t][a]=0}for(let a=1;a<n.get(O);a++)e[t+a][t+1]=n.get(k),e[t+1][t+a]=n.get(k);for(let a=n.get($)-1;a>=0;a--){let l=a<n.get(x)?0:a-n.get(O)+1,i=a<=t?Math.max(n.get(x),a+n.get(O))-1:t;for(let t=i;t>=l;t--)e[a][t]=n.get(w)*e[a][t+1]+(1-n.get(w))*e[a+1][t]}return e})());var B=c(),C=n.first_child(B),E=n.sibling(n.child(C),2);E.__click=()=>(m.value=2,_.value=1);var I=n.sibling(E,2);I.__click=()=>(m.value=3,_.value=1);var V=n.sibling(I,2);V.__click=()=>(m.value=10,_.value=1);var j=n.sibling(V,2);j.__click=()=>(m.value=13,_.value=1);var A=n.sibling(j,2);A.__click=()=>(m.value=13,_.value=2,h.value=2),n.reset(C);var L=n.sibling(C,4);n.remove_input_defaults(L);var J=n.sibling(L,2);n.remove_input_defaults(J);var N=n.sibling(J,4);n.remove_input_defaults(N);var q=n.sibling(N,2);n.remove_input_defaults(q);var z=n.sibling(q,2),D=e=>{var t=r(),a=n.sibling(n.first_child(t),2);n.remove_input_defaults(a);var l=n.sibling(a,2);n.remove_input_defaults(l);var i=n.sibling(l,2),o=n.sibling(n.child(i));o.__click=()=>y.value=0;var s=n.sibling(o,2);s.__click=()=>y.value=.5,n.sibling(s,2).__click=()=>y.value=1,n.reset(i);var u=n.sibling(i,2);n.remove_input_defaults(u);var v=n.sibling(u,2);n.remove_input_defaults(v),n.bind_value(a,()=>h.value,e=>h.value=e),n.bind_value(l,()=>h.value,e=>h.value=e),n.bind_value(u,()=>y.value,e=>y.value=e),n.bind_value(v,()=>y.value,e=>y.value=e),n.append(e,t)};n.if(z,e=>{n.get(O)>1&&e(D)});var F=n.sibling(z,2),U=n.sibling(n.child(F));U.__click=()=>f.value=.5,n.sibling(U,2).__click=()=>f.value=1-n.get(w),n.reset(F);var G=n.sibling(F,2);n.remove_input_defaults(G);var H=n.sibling(G,2);n.remove_input_defaults(H);var K=n.sibling(H,2),Q=n.child(K),R=n.child(Q),T=n.sibling(R),W=e=>{var t=n.text();n.template_effect(()=>n.set_text(t,`, ${n.get(O)??""} point lead, max ${n.get(x)+h.value} score`)),n.append(e,t)};n.if(T,e=>{n.get(O)>1&&e(W)}),n.reset(Q);var X=n.sibling(Q),Y=n.child(X),Z=n.sibling(n.child(Y));n.reset(Y);var ee=n.sibling(Y);n.each(ee,21,()=>n.get(S),n.index,(e,t,a)=>{var l=o();l.textContent=a,n.append(e,l)}),n.reset(ee),n.reset(X);var et=n.sibling(X);n.each(et,21,()=>n.get(S),n.index,(e,t,a)=>{var l=g(),i=n.child(l),r=e=>{var t=s();n.template_effect(()=>n.set_attribute(t,"rowspan",n.get(P))),n.append(e,t)};n.if(i,e=>{a||e(r)});var o=n.sibling(i);o.textContent=a;var c=n.sibling(o);n.each(c,17,()=>n.get(t),n.index,(e,t)=>{var a=n.comment(),l=n.first_child(a),i=e=>{var t=u();n.append(e,t)},r=e=>{let a=n.derived(()=>n.get(t)*(1-n.get(t))*2);var l=v(),i=n.child(l,!0);n.reset(l),n.template_effect(e=>{n.set_attribute(l,"title",`${n.get(t)}
${n.get(t)/(1-n.get(t))}:1
1:${1/n.get(t)-1}`),n.set_style(l,`background-color: hsl(${n.get(t)*n.get(t)*180} ${40+60*n.get(a)} ${80+20*n.get(a)})`),n.set_text(i,e)},[()=>n.get(t).toFixed(5)]),n.append(e,l)};n.if(l,e=>{void 0==n.get(t)?e(i):e(r,!1)}),n.append(e,a)}),n.reset(l),n.append(e,l)}),n.reset(et),n.reset(K),n.template_effect(()=>{a=n.set_class(E,1,"flex-grow-1 btn btn-outline-secondary",null,a,{active:2==m.value&&1==_.value}),l=n.set_class(I,1,"flex-grow-1 btn btn-outline-secondary",null,l,{active:3==m.value&&1==_.value}),d=n.set_class(V,1,"flex-grow-1 btn btn-outline-secondary",null,d,{active:10==m.value&&1==_.value}),b=n.set_class(j,1,"flex-grow-1 btn btn-outline-secondary",null,b,{active:13==m.value&&1==_.value}),p=n.set_class(A,1,"flex-grow-1 btn btn-outline-secondary",null,p,{active:13==m.value&&2==_.value&&2==h.value}),n.set_attribute(N,"max",m.value),n.set_attribute(q,"max",m.value),n.set_text(R,`${1>=n.get(O)||0==n.get(k)?"Probability of winning":1==n.get(k)?"Probability of winning or drawing":"Expected value of"}
    first-to-${n.get(x)??""}/best-of-${2*n.get(x)-1}`),n.set_attribute(Z,"colspan",n.get(P))}),n.bind_value(L,()=>m.value,e=>m.value=e),n.bind_value(J,()=>m.value,e=>m.value=e),n.bind_value(N,()=>_.value,e=>_.value=e),n.bind_value(q,()=>_.value,e=>_.value=e),n.bind_value(G,()=>f.value,e=>f.value=e),n.bind_value(H,()=>f.value,e=>f.value=e),n.append(e,B),n.pop()},{target:l}),document.getElementById("appLoading")?.remove()}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=[],r.O=(t,a,l,n)=>{if(a){n=n||0;for(var i=e.length;i>0&&e[i-1][2]>n;i--)e[i]=e[i-1];e[i]=[a,l,n];return}for(var o=1/0,i=0;i<e.length;i++){for(var[a,l,n]=e[i],s=!0,u=0;u<a.length;u++)(!1&n||o>=n)&&Object.keys(r.O).every(e=>r.O[e](a[u]))?a.splice(u--,1):(s=!1,n<o&&(o=n));if(s){e.splice(i--,1);var v=l();void 0!==v&&(t=v)}}return t},r.rv=()=>"1.7.3",t={121:0},r.O.j=e=>0===t[e],a=(e,a)=>{var l,n,[i,o,s]=a,u=0;if(i.some(e=>0!==t[e])){for(l in o)r.o(o,l)&&(r.m[l]=o[l]);if(s)var v=s(r)}for(e&&e(a);u<i.length;u++)n=i[u],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(v)},(l=self.webpackChunkvwww=self.webpackChunkvwww||[]).forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l)),r.ruid="bundler=rspack@1.7.3";var o=r.O(void 0,["14","1","2","5","16","3","9","13","32","10","17","76"],()=>r(222));o=r.O(o)})();