(()=>{"use strict";var e,t,s,r,i={152(e,t,s){s(1);var r,i,n,a,o,l,d=s(2),c=s(127),h=s(128),p=d.from_html('<div class="card mb-3"><div class="card-header"><h4 class="float-start">Past Games</h4> <button>Clear</button></div> <!></div>');d.delegate(["click"]);var u=s(130),g=s(131),m=s(132),_=s(133),v=s(134),f=s(139);function y(e){return(e=e.replace(/[^\w ]/,"").replace(/ {2,}/," ").trim().slice(0,20))||"unnamed"}function b(){let e=new f.k(new Uint8Array([0,1,2,3,4,5,6,7]));console.log("%cMultiplayer Game Bug Report Guide","font-family:helvetica; font-size:20px"),console.log("You're probably trying to debug a network error or file a bug report for it."),console.log("If you see an error like this, your report must contain the packet values:"),console.log("example",e.debugBuf,e),console.log("In the example above, you would have to submit at least [0, 1, 2, 3, 4, 5, 6, 7] (expand stuff as needed)")}function R(e,t){return e?`${e.name} (${e.cn})`:`<unknown${void 0===t?"":` (${t})`}>`}var I=s(141);class E{#e=d.state(-1);get cn(){return d.get(this.#e)}set cn(e){d.set(this.#e,e,!0)}#t=d.state("unnamed");get name(){return d.get(this.#t)}set name(e){d.set(this.#t,e,!0)}#s=d.state(!1);get active(){return d.get(this.#s)}set active(e){d.set(this.#s,e,!0)}#r=d.state(0);get rank(){return d.get(this.#r)}set rank(e){d.set(this.#r,e,!0)}#i=d.state(-1);get ping(){return d.get(this.#i)}set ping(e){d.set(this.#i,e,!0)}formatName(){return`${this.name} (${this.cn})`}processJoin(e,t){this.cn=e,this.ping=t.getInt(),this.name=y(t.getString(20))}readWelcome(e){let t=e.getInt();this.active=!!(1&t),this.name=y(e.getString(20)),this.ping=t>>1}}class N{#n;get canReset(){return d.get(this.#n)}set canReset(e){d.set(this.#n,e)}chat;PROTOCOL_VERSION=0;#a=d.state();get room(){return d.get(this.#a)}set room(e){d.set(this.#a,e,!0)}localClient;clients=[];#o=d.state(d.proxy([]));get leaderboard(){return d.get(this.#o)}set leaderboard(e){d.set(this.#o,e,!0)}#l=d.state(d.proxy([]));get spectators(){return d.get(this.#l)}set spectators(e){d.set(this.#l,e,!0)}constructor(e){this.chat=e,this.localClient=this.newClient(),this.#n=d.derived(()=>this.room&&this.localClient.canResetScore()),setTimeout(b,100)}setupGame(e){this.room?.disconnect(),this.room=e,e.registerRecv(t=>{if(this.room===e){let e=new f.k(t);try{for(;e.remaining>0;){let t=e.getInt(),s=this.MESSAGE_HANDLERS[t];if(!s)throw Error("tag type "+t);s.call(this,e)}}catch(t){console.error("neterr",t),console.log(e.debugBuf,e),this.room.disconnect()}}}),e.registerDisc(()=>{this.room===e?(this.chat.addSysMessage("You disconnected."),this.room=void 0):this.chat.addSysMessage("You disconnected from the old room.")}),this.chat.addSysMessage("You are joining the game.")}leaveGame(){this.room?.disconnect()}sendf(e,...t){this.room?.send(new I.U().putFmt(e,...t).toArray())}updatePlayers(){var e,t;let s,r;this.leaderboard=(e=this.clients,t=this.playersSortProps,s=e.filter(e=>e).sort((e,s)=>{for(let r of t){let t=r(e),i=r(s);if(t<i)return 1;if(t>i)return -1}return e.cn-s.cn}),r=1,s.forEach((e,i)=>{if(i){let n=s[i-1];t.some(t=>t(e)!==t(n))&&(r=i+1)}s[i].rank=r}),s.sort((e,t)=>t.active-e.active))}processWelcome(e){let t=e.getInt();t!==this.PROTOCOL_VERSION&&alert(`different protocol version (client: ${this.PROTOCOL_VERSION}, server: ${t})
refresh the page for updates?`),this.clients.length=0;let s=e.getCN();this.processWelcomeMode(e);for(let t=0;t<=64;t++){let t=e.getCN();if(t<0)break;let r=t===s?this.localClient:this.newClient();r.cn=t,r.readWelcome(e),this.clients[t]=r}this.processWelcomeGame(e),this.spectators=this.clients.filter(e=>!e.active),this.updatePlayers()}processJoin(e){let t=e.getCN();if(this.clients[t])throw Error("invalid join cn "+t);let s=this.newClient();s.processJoin(t,e),this.clients[t]=s,this.chat.playerJoined(s.formatName()),this.updatePlayers()}processLeave(e){let t=e.getCN(),s=this.clients[t];if(!s)throw Error("invalid leave cn "+t);s.active&&this.playerDeactivated(s),this.chat.playerLeft(s.formatName()),delete this.clients[t],this.updatePlayers()}processReset(e){let t=e.getCN(),s=this.clients[t];if(!s)throw Error("invalid reset cn "+t);s.resetScore(),this.updatePlayers(),this.chat.playerReset(s.formatName())}processRename(e){let t=e.getCN(),s=y(e.getString(20)),r=this.clients[t];if(!r)throw Error("invalid rename cn "+t);this.chat.playerRename(r.formatName(),s),r.name=s}processPing(e){this.sendPong(e.getInt())}processPingTime(e){for(let t=0;t<=64;t++){let t=e.getCN();if(t<0)break;let s=e.getInt(),r=this.clients[t];if(!r)throw Error("invalid ping cn "+t);r.ping=s}}processChat(e){let t=e.getCN(),s=e.getInt(),r=1==(3&s)?e.getInt():-1,i=e.getString(100),n=R(this.clients[t],t),a=this.clients[r],o=a?a===this.localClient?"you":R(a,r):void 0;this.chat.addChatMessage(n,i,s,o)}processActive(e){let t=e.getCN(),s=this.clients[t];if(!s)throw Error("invalid active cn "+t);if(s.active=!s.active)this.playerActivated(s),this.spectators=this.spectators.filter(e=>e!==s);else{this.playerDeactivated(s);let e=0,t=this.spectators.length;for(;e<t;){let r=e+t>>>1;this.spectators[r].cn<s.cn?e=r+1:t=r}this.spectators.splice(e,0,s)}this.updatePlayers()}}(r=a||(a={}))[r.WAITING=0]="WAITING",r[r.INTERMISSION=1]="INTERMISSION",r[r.ACTIVE=2]="ACTIVE";class T extends E{#d=d.state(!1);get ready(){return d.get(this.#d)}set ready(e){d.set(this.#d,e,!0)}#c=d.state(!1);get inRound(){return d.get(this.#c)}set inRound(e){d.set(this.#c,e,!0)}readWelcome(e){super.readWelcome(e),this.ready=!1,this.inRound=!1}}class S extends N{#h=d.state(d.proxy(a.WAITING));get roundState(){return d.get(this.#h)}set roundState(e){d.set(this.#h,e,!0)}#p=d.state(0);get roundTimerStart(){return d.get(this.#p)}set roundTimerStart(e){d.set(this.#p,e,!0)}#u=d.state(0);get roundTimerEnd(){return d.get(this.#u)}set roundTimerEnd(e){d.set(this.#u,e,!0)}#g=d.derived(()=>this.room&&this.localClient.active&&this.roundState==a.ACTIVE&&this.localClient.inRound);get playing(){return d.get(this.#g)}set playing(e){d.set(this.#g,e)}#m=d.state(d.proxy([]));get roundPlayers(){return d.get(this.#m)}set roundPlayers(e){d.set(this.#m,e,!0)}#_=d.state(d.proxy([]));get roundPlayerQueue(){return d.get(this.#_)}set roundPlayerQueue(e){d.set(this.#_,e,!0)}#v=d.state(d.proxy([]));get pastGames(){return d.get(this.#v)}set pastGames(e){d.set(this.#v,e,!0)}addHistory(e){this.pastGames.length>=100&&this.pastGames.pop(),this.pastGames.unshift(e)}clearHistory(){this.pastGames=[]}processWelcomeGame(e){let t=e.getInt();if(0===t)this.roundWait();else if(1===t){this.roundIntermission(e.getInt(),this.INTERMISSION_TIME);for(let t=0;t<=64;t++){let t=e.getCN();if(t<0)break;let s=this.clients[t];if(!s)throw Error("invalid welcome round ready cn "+t);s.ready=!0}}else 2===t&&this.roundStart(e.getInt(),this.ROUND_TIME);let s=[];for(let t=0;t<=64;t++){let t=e.getCN();if(t<0)break;let r=this.clients[t];if(!r)throw Error("invalid welcome round player cn "+t);r.inRound=!0,s.push(r)}this.roundPlayers=s;let r=[];for(let t=0;t<=64;t++){let t=e.getCN();if(t<0)break;let s=this.clients[t];if(!s)throw Error("invalid welcome round queue cn "+t);r.push(s)}this.roundPlayerQueue=r}processRoundWait(e){this.roundWait()}processRoundInterm(e){this.roundIntermission(this.INTERMISSION_TIME)}processRoundStart(e){this.unsetInRound();let t=[];for(let s=0;s<=64;s++){let s=e.getCN();if(s<0)break;let r=this.clients[s];if(!r)throw Error("invalid round start player cn "+s);r.inRound=!0,t.push(r)}this.roundPlayers=t,this.roundPlayerQueue=[],this.roundStart(this.ROUND_TIME)}processReady(e){let t=e.getCN(),s=this.clients[t];if(!s)throw Error("invalid ready cn "+t);s.ready=!s.ready}roundWait(){this.roundState=a.WAITING,this.unsetReady()}roundIntermission(e,t){this.roundState=a.INTERMISSION,this.setTimer(e,t),this.unsetReady()}roundStart(e,t){this.roundState=a.ACTIVE,this.setTimer(e,t),this.unsetReady()}setTimer(e,t=e){let s=Date.now()+e;this.roundTimerStart=s-Math.max(t,e),this.roundTimerEnd=s}unsetReady(){this.clients.forEach(e=>e.ready=!1)}unsetInRound(){this.clients.forEach(e=>e.inRound=!1)}playerActivated(e){this.roundPlayerQueue.push(e)}playerDeactivated(e){this.roundPlayers=this.roundPlayers.filter(t=>t!==e),this.roundPlayerQueue=this.roundPlayerQueue.filter(t=>t!==e),e.inRound=!1}}let M=[["optInverted","b",!1,"Inverted","switch winning and losing"],["optAddRandom","b",!1,"Random","add a random number to the result"],["optTeams","i",0,"Teams","number of teams",0,45]];function C({optInverted:e,optAddRandom:t,optTeams:s}){return(e?"Inverted ":"")+(t?"Randomized ":"")+(s?s+"-team":"FFA")}let A=T;class k extends S{}(i=o||(o={}))[i.WELCOME=0]="WELCOME",i[i.JOIN=1]="JOIN",i[i.LEAVE=2]="LEAVE",i[i.RESET=3]="RESET",i[i.RENAME=4]="RENAME",i[i.PING=5]="PING",i[i.PING_TIME=6]="PING_TIME",i[i.CHAT=7]="CHAT",i[i.ACTIVE=8]="ACTIVE",i[i.ROUND_WAIT=9]="ROUND_WAIT",i[i.ROUND_INTERM=10]="ROUND_INTERM",i[i.ROUND_START=11]="ROUND_START",i[i.READY=12]="READY",i[i.END_ROUND=13]="END_ROUND",i[i.MOVE_CONFIRM=14]="MOVE_CONFIRM",(n=l||(l={}))[n.RESET=0]="RESET",n[n.RENAME=1]="RENAME",n[n.PONG=2]="PONG",n[n.CHAT=3]="CHAT",n[n.ACTIVE=4]="ACTIVE",n[n.READY=5]="READY",n[n.MOVE=6]="MOVE";class w extends A{#f=d.state(0);get wins(){return d.get(this.#f)}set wins(e){d.set(this.#f,e,!0)}#y=d.state(0);get loss(){return d.get(this.#y)}set loss(e){d.set(this.#y,e,!0)}#b=d.state(0);get streak(){return d.get(this.#b)}set streak(e){d.set(this.#b,e,!0)}#R=d.state(0);get score(){return d.get(this.#R)}set score(e){d.set(this.#R,e,!0)}#I=d.state(0);get total(){return d.get(this.#I)}set total(e){d.set(this.#I,e,!0)}resetScore(){this.wins=0,this.loss=0,this.streak=0,this.score=0,this.total=0}canResetScore(){return this.total}addWin(){this.streak<0&&(this.streak=0),this.streak++,this.score++,this.wins++,this.total++}addLoss(){this.streak>0&&(this.streak=0),this.streak--,this.score--,this.loss++,this.total++}readWelcome(e){super.readWelcome(e),this.wins=e.getInt(),this.loss=e.getInt(),this.streak=e.getInt(),this.score=this.wins-this.loss,this.total=this.wins+this.loss}}class O extends k{#E=d.state(d.proxy((0,_.q)(M)));get mode(){return d.get(this.#E)}set mode(e){d.set(this.#E,e,!0)}#N=d.state(0);get pendingMove(){return d.get(this.#N)}set pendingMove(e){d.set(this.#N,e,!0)}#T=d.state(0);get pendingMoveAck(){return d.get(this.#T)}set pendingMoveAck(e){d.set(this.#T,e,!0)}INTERMISSION_TIME=5e3;ROUND_TIME=3e3;newClient(){return new w}enterGame(e,t){this.setupGame(e),this.sendf("is",this.PROTOCOL_VERSION,t)}sendReset(){this.sendf("i",l.RESET)}sendRename(e){this.sendf("is",l.RENAME,e)}sendPong(e){this.sendf("i2",l.PONG,e)}sendChat(e,t,s=-1){this.sendf("i3s",l.CHAT,t,s,e.slice(0,100))}sendActive(){this.sendf("i",l.ACTIVE)}sendReady(){this.sendf("i",l.READY)}sendMove(){this.sendf("iU",l.MOVE,BigInt(this.pendingMove))}MESSAGE_HANDLERS={[o.WELCOME]:this.processWelcome,[o.JOIN]:this.processJoin,[o.LEAVE]:this.processLeave,[o.RESET]:this.processReset,[o.RENAME]:this.processRename,[o.PING]:this.processPing,[o.PING_TIME]:this.processPingTime,[o.CHAT]:this.processChat,[o.ACTIVE]:this.processActive,[o.ROUND_WAIT]:this.processRoundWait,[o.ROUND_INTERM]:this.processRoundInterm,[o.ROUND_START]:this.processRoundStart,[o.READY]:this.processReady,[o.END_ROUND]:this.processEndRound,[o.MOVE_CONFIRM]:this.processMoveConfirm};processWelcomeMode(e){let t=e.get();this.mode.optInverted=!!(1&t),this.mode.optAddRandom=!!(2&t),this.mode.optTeams=e.getInt()}processRoundStart(e){super.processRoundStart(e),this.localClient.inRound&&(this.pendingMove=Math.floor(Math.random()*(this.mode.optTeams||this.roundPlayers.length)),this.sendMove())}processMoveConfirm(e){this.pendingMoveAck=Number(e.getUint64())}processEndRound(e){let t=Math.min(e.getInt(),this.clients.length),s=e.getUint64(),r=e.getInt(),i=Math.min(e.getInt(),this.clients.length),n=this.mode.optInverted,a=Number(s%BigInt(t)),o={playerCount:i,moveSum:s,moveRnd:r,winner:a,inverted:n,teams:Array.from({length:t},(e,t)=>({id:t,winner:t===a!==n,moveSum:0n,players:[]}))};for(let s=0;s<i;s++){let r=e.getCN();if(r<0)break;let i=e.getUint64(),n=this.clients[r];if(!n)continue;let a=s%t,l=o.teams[a];n[l.winner?"addWin":"addLoss"](),n==this.localClient&&(l.meIndex=l.players.length),l.moveSum+=i,l.players.push({name:n.name,cn:n.cn,move:i})}this.updatePlayers(),this.addHistory(o)}playersSortProps=[e=>e.streak,e=>e.score,e=>e.wins]}var P=d.from_html("<span> </span>:",1),x=d.from_html('<div class="d-inline-block"><span> </span> <span> </span></div>'),G=d.from_html("<div><span></span> <!> <!></div>"),D=d.from_html('<div>Random: <span class="badge me-2 text-bg-outline-primary"> </span></div>'),W=d.from_html('<li class="list-group-item"><div> <span class="badge text-bg-success"> </span> </div> <!> <!></li>'),$=d.from_html('<li class="list-group-item">No past games!</li>'),V=d.from_html('<ul class="list-group list-group-flush overflow-auto" style="max-height: 15rem"></ul>'),U=s(135),L=s(142),Y=d.from_html("<!> <!>",1),Q=d.from_html('<input type="number" min="0" max="9007199254740992"/> <input type="range" class="form-range" min="0" max="9007199254740992"/>',1),B=d.from_html('<div class="mb-2"><!></div> <div> </div> <!> <!>',1);d.delegate(["change"]);var J=s(108),j=d.from_html('<!> <!> <!> <div class="row"><div class="col-12 col-lg-8"><!> <!></div> <div class="col-12 col-lg-4 mb-3"><!></div></div>',1);(0,s(102).A)(function(e,t){let s,r;d.push(t,!0);let i=new h.Ay,n=new O(i),o=d.derived(()=>n.room),l=d.derived(()=>n.canReset),f=d.derived(()=>n.pastGames),y=d.derived(()=>n.leaderboard),b=d.derived(()=>n.localClient),R=d.derived(()=>n.roundState),I=(0,J.C)("game/mp/_shared/name","");var E,N,T,S,A,k=j(),w=d.first_child(k);(0,g.A)(w,{onchange:()=>n.sendRename(I.value),get value(){return I.value},set value($$value){I.value=$$value}});var z=d.sibling(w,2);d.bind_this((0,v.A)(z,{gameId:"morra-prb9sv8g70oyhq9eznhkyq",roomType:"MorraRoom",get gameRoom(){return n.room},onJoinedRoom:e=>n.enterGame(e,I.value),formatGameMode:e=>C((0,_.e)(M,e)),get roomCreateOptions(){return M}}),e=>s=e,()=>s);var H=d.sibling(z,2);{let e=d.derived(()=>d.get(R)===a.INTERMISSION);(0,m.A)(H,{get inGame(){return d.get(o)},get isActive(){return n.localClient.active},get canReady(){return d.get(e)},get isReady(){return n.localClient.ready},onActive:()=>n.sendActive(),onReady:()=>n.sendReady(),onDisconnect:()=>(n.leaveGame(),s.refreshRooms()),children:(e,t)=>{var s,r,i,o,l,c,h,p,u,g,m;let _,v,f,y;s={get gameState(){return n}},d.push(s,!0),_=d.prop(s,"gameState",7),v=d.derived(()=>_().localClient),f=d.derived(()=>_().roundState),y=d.derived(()=>d.get(v).active&&d.get(f)==a.ACTIVE&&d.get(v).inRound),r=B(),i=d.first_child(r),o=d.child(i),l=e=>{var t=d.text("Waiting for players…");d.append(e,t)},c=e=>{var t=Y(),s=d.first_child(t),r=e=>{var t=d.text("Intermission:");d.append(e,t)},i=e=>{var t=d.comment(),s=d.first_child(t),r=e=>{var t=d.text("Make a move:");d.append(e,t)},i=e=>{var t=d.text("Results are coming soon:");d.append(e,t)};d.if(s,e=>{d.get(y)?e(r):e(i,!1)},!0),d.append(e,t)};d.if(s,e=>{d.get(f)===a.INTERMISSION?e(r):e(i,!1)});var n=d.sibling(s,2);(0,U.A)(n,{get startTime(){return _().roundTimerStart},get endTime(){return _().roundTimerEnd},get active(){return _().room}}),d.append(e,t)},d.if(o,e=>{d.get(f)===a.WAITING?e(l):e(c,!1)}),d.reset(i),h=d.sibling(i,2),p=d.child(h),d.reset(h),u=d.sibling(h,2),g=e=>{var t=Q(),s=d.first_child(t);d.remove_input_defaults(s),s.__change=()=>_().sendMove();var r=d.sibling(s,2);d.remove_input_defaults(r),r.__change=()=>_().sendMove(),d.template_effect(()=>d.set_class(s,1,`form-control is-${_().pendingMove===_().pendingMoveAck?"":"in"}valid`)),d.bind_value(s,()=>_().pendingMove,e=>_().pendingMove=e),d.bind_value(r,()=>_().pendingMove,e=>_().pendingMove=e),d.append(e,t)},d.if(u,e=>{d.get(y)&&e(g)}),m=d.sibling(u,2),(0,L.A)(m,{get localClient(){return d.get(v)},get inGame(){return _().roundPlayers},get inQueue(){return _().roundPlayerQueue},get spectators(){return _().spectators}}),d.template_effect(e=>d.set_text(p,`Game Mode: ${e??""}`),[()=>C(_().mode)]),d.append(e,r),d.pop()},$$slots:{default:!0}})}var q=d.sibling(H,2),F=d.child(q),K=d.child(F);E={get canClear(){return d.get(f).length},onClear:()=>n.clearHistory(),children:(e,t)=>{var s,r;s={get results(){return d.get(f)}},r=V(),d.each(r,21,()=>s.results,d.index,(e,t)=>{var s=W(),r=d.child(s),i=d.child(r),n=d.sibling(i),a=d.child(n,!0);d.reset(n);var o=d.sibling(n);d.reset(r);var l=d.sibling(r,2);d.each(l,17,()=>d.get(t).teams,d.index,(e,s,r)=>{let i=d.derived(()=>null!=d.get(s).meIndex?"":"-outline");var n=G(),a=d.child(n);a.textContent=`#${r}`;var o=d.sibling(a,2),l=e=>{var t=P(),r=d.first_child(t),n=d.child(r,!0);d.reset(r),d.next(),d.template_effect(()=>{d.set_class(r,1,`badge text-bg${d.get(i)??""}-primary`),d.set_text(n,d.get(s).moveSum)}),d.append(e,t)};d.if(o,e=>{d.get(t).teams.length<d.get(t).playerCount&&e(l)});var c=d.sibling(o,2);d.each(c,17,()=>d.get(s).players,d.index,(e,t,r,i)=>{let n=d.derived(()=>d.get(s).meIndex==r?"":"-outline");var a=x(),o=d.child(a),l=d.child(o);d.reset(o);var c=d.sibling(o,2),h=d.child(c,!0);d.reset(c),d.reset(a),d.template_effect(()=>{d.set_class(o,1,`badge me-1 text-bg${d.get(n)??""}-secondary`),d.set_text(l,`${d.get(t).name??""} (${d.get(t).cn??""})`),d.set_class(c,1,`badge me-2 text-bg${d.get(n)??""}-primary`),d.set_text(h,d.get(t).move)}),d.append(e,a)}),d.reset(n),d.template_effect(()=>d.set_class(a,1,`badge me-1 text-bg${d.get(i)??""}-${d.get(s).winner?"success":"danger"}`)),d.append(e,n)});var c=d.sibling(l,2),h=e=>{var s=D(),r=d.sibling(d.child(s)),i=d.child(r,!0);d.reset(r),d.reset(s),d.template_effect(()=>d.set_text(i,d.get(t).moveRnd)),d.append(e,s)};d.if(c,e=>{d.get(t).moveRnd>=0&&e(h)}),d.reset(s),d.template_effect(()=>{d.set_text(i,`Total:
        ${d.get(t).moveSum??""} ≡ `),d.set_text(a,d.get(t).winner),d.set_text(o,` (mod ${d.get(t).teams.length??""})`)}),d.append(e,s)},e=>{var t=$();d.append(e,t)}),d.reset(r),d.append(e,r)},$$slots:{default:!0}},N=p(),T=d.child(N),(S=d.sibling(d.child(T),2)).__click=function(...e){E.onClear?.apply(this,e)},d.reset(T),A=d.sibling(T,2),d.snippet(A,()=>E.children),d.reset(N),d.template_effect(()=>r=d.set_class(S,1,"btn btn-sm btn-danger float-end",null,r,{"d-none":!E.canClear})),d.append(K,N);var X=d.sibling(K,2);(0,u.A)(X,{get leaderboard(){return d.get(y)},get localClient(){return d.get(b)},get inGame(){return d.get(o)},get canReset(){return d.get(l)},onReset:()=>n.sendReset(),columns:[["Streak",e=>e.streak],["Score",e=>e.score],["Win",e=>[e.wins,e.total]],["Loss",e=>[e.loss,e.total]]]}),d.reset(F);var Z=d.sibling(F,2),ee=d.child(Z);(0,c.A)(ee,{get chatState(){return i},get canSend(){return n.room},onInput:e=>(0,h.Oo)(n,e)}),d.reset(Z),d.reset(q),d.append(e,k),d.pop()})},122(e,t,s){s.d(t,{JY:()=>r});function r(e){let t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",s="";for(;e--;)s+=t[Math.random()*t.length|0];return s}},2(e,t,s){s.r(t),s.d(t,{CLASS:()=>k.tp,FILENAME:()=>i.Uh,HMR:()=>i.OM,NAMESPACE_SVG:()=>i.pQ,STYLE:()=>k.Y,aborted:()=>et.QH,action:()=>C.X,active_effect:()=>el.Fg,add_legacy_event_listener:()=>F.oe,add_locations:()=>l.D,add_svelte_meta:()=>n.G7,animation:()=>D.lY,append:()=>K.BC,append_styles:()=>M.k,apply:()=>O.Bb,assign:()=>a.kp,assign_and:()=>a._R,assign_nullish:()=>a.Sc,assign_or:()=>a.im,async:()=>g.b,async_derived:()=>ee.zx,attach:()=>A.K,attachment:()=>r.r,attr:()=>eg.CF,attribute_effect:()=>k.p_,autofocus:()=>P.wC,await:()=>_.x,bind_active_element:()=>W.m,bind_buffered:()=>V.w$,bind_checked:()=>$.mS,bind_content_editable:()=>J.b1,bind_current_time:()=>V.M$,bind_element_size:()=>Q.B,bind_ended:()=>V.$T,bind_files:()=>$.md,bind_focused:()=>J.oP,bind_group:()=>$.CJ,bind_muted:()=>V.iX,bind_online:()=>U.s,bind_paused:()=>V.lY,bind_playback_rate:()=>V.hc,bind_played:()=>V.YL,bind_prop:()=>L.E,bind_property:()=>J.IY,bind_ready_state:()=>V.mM,bind_resize_observer:()=>Q.y,bind_seekable:()=>V.xx,bind_seeking:()=>V.Je,bind_select_value:()=>Y.$t,bind_this:()=>B.L,bind_value:()=>$.oJ,bind_volume:()=>V.Jo,bind_window_scroll:()=>j.f,bind_window_size:()=>j.r,boundary:()=>en.pP,bubble_event:()=>F.Ib,check_target:()=>h.X,child:()=>eu.jf,cleanup_styles:()=>o.O,clsx:()=>eg.$z,comment:()=>K.Im,component:()=>N.s,create_custom_element:()=>ep.Q,create_ownership_validator:()=>c.a,css_props:()=>y.d,customizable_select:()=>x.M,deep_read:()=>el.o1,deep_read_state:()=>el.iT,deferred_template_effect:()=>et.vc,delegate:()=>O.Mm,derived:()=>ee.eO,derived_safe_equal:()=>ee.Xd,document:()=>eu.gk,each:()=>b._,eager:()=>Z.no,effect:()=>et.QZ,effect_root:()=>et.Fc,effect_tracking:()=>et.oJ,element:()=>T.N,equals:()=>ef.aI,event:()=>O.f0,exclude_from_object:()=>el.SE,fallback:()=>e_.Np,first_child:()=>eu.es,flush:()=>Z.qX,for_await_track_reactivity_loss:()=>X.IP,from_html:()=>K.vU,from_mathml:()=>K.$N,from_svg:()=>K._i,from_tree:()=>K.el,get:()=>el.Jt,head:()=>S.d,hmr:()=>d.c,html:()=>R.q,hydrate_template:()=>z.PK,if:()=>v.A,index:()=>b.P,init:()=>q.T,init_select:()=>Y.wf,inspect:()=>u.N,invalid_default_snippet:()=>ev.y8,invalidate_inner_signals:()=>ea.p,invalidate_store:()=>ei.qB,invoke_error_boundary:()=>eb.n,key:()=>f.E,legacy_api:()=>h.j,legacy_pre_effect:()=>et.M3,legacy_pre_effect_reset:()=>et.iq,legacy_rest_props:()=>er.gj,log_if_contains_state:()=>ey.f,mark_store_binding:()=>ei.io,mutable_source:()=>es.zg,mutate:()=>es.Tk,next:()=>z.K2,noop:()=>e_.lQ,once:()=>H.Oo,pending:()=>en.Ub,pop:()=>n.uY,preventDefault:()=>H.wo,prevent_snippet_stringification:()=>ev.bk,prop:()=>er._w,props_id:()=>K.zA,proxy:()=>eh.B,push:()=>n.VC,raf:()=>ec.e,reactive_import:()=>F.Iu,remove_input_defaults:()=>k.R0,remove_textarea_child:()=>P.VU,render_effect:()=>et.VB,replay_events:()=>O.ES,reset:()=>z.cL,rest_props:()=>er.iR,run:()=>X.eF,run_after_blockers:()=>X.db,safe_get:()=>el.$i,sanitize_slots:()=>I.i,save:()=>X.UN,select_option:()=>Y.fs,selectedcontent:()=>x.B,self:()=>H.bg,set:()=>es.hZ,set_attribute:()=>k.aI,set_checked:()=>k.BY,set_class:()=>w.y,set_custom_element_data:()=>k.p,set_default_checked:()=>k.V$,set_default_value:()=>k.xp,set_selected:()=>k.$Z,set_style:()=>G.h,set_text:()=>eo.j,set_value:()=>k.to,set_xlink_attribute:()=>k.To,setup_stores:()=>ei.DZ,sibling:()=>eu.hg,slot:()=>I.N,snapshot:()=>em.P,snippet:()=>E.UA,spread_props:()=>er.Du,state:()=>es.wk,stopImmediatePropagation:()=>H.CA,stopPropagation:()=>H.dG,store_get:()=>ei.Hz,store_mutate:()=>ei.hY,store_set:()=>ei.fT,store_unsub:()=>ei.QK,strict_equals:()=>ef.IP,tag:()=>p.Tc,tag_proxy:()=>p._e,template_effect:()=>et.vN,text:()=>K.Qq,tick:()=>el.io,to_array:()=>e_._N,trace:()=>p.uP,track_reactivity_loss:()=>X.t_,transition:()=>D.kY,trusted:()=>H.IZ,untrack:()=>el.vz,update:()=>es.yo,update_legacy_props:()=>F.hp,update_pre:()=>es.cE,update_pre_prop:()=>er.CB,update_pre_store:()=>ei.IL,update_prop:()=>er.k$,update_store:()=>ei.yb,user_effect:()=>et.MW,user_pre_effect:()=>et.Go,validate_binding:()=>ed.R,validate_dynamic_element_tag:()=>ev.Bm,validate_each_keys:()=>ed.e,validate_snippet_args:()=>m.j,validate_store:()=>ev.T3,validate_void_dynamic_element:()=>ev.zA,wait:()=>X.uk,window:()=>eu.Lk,with_script:()=>K.jB,wrap_snippet:()=>E.DK});var r=s(3),i=s(4),n=s(23),a=s(46),o=s(47),l=s(48),d=s(49),c=s(50),h=s(51),p=s(20),u=s(52),g=s(53),m=s(111),_=s(54),v=s(55),f=s(56),y=s(57),b=s(58),R=s(59),I=s(60),E=s(43),N=s(61),T=s(62),S=s(66),M=s(67),C=s(68),A=s(69),k=s(70),w=s(72),O=s(39),P=s(34),x=s(75),G=s(73),D=s(63),W=s(76),$=s(77),V=s(78),U=s(79),L=s(80),Y=s(74),Q=s(81),B=s(82),J=s(83),j=s(84),z=s(13),H=s(85),q=s(86),F=s(87),K=s(40),X=s(32),Z=s(24),ee=s(29),et=s(9),es=s(17),er=s(88),ei=s(89),en=s(30),ea=s(35),eo=s(38),el=s(6),ed=s(92),ec=s(64),eh=s(16),ep=s(93),eu=s(12),eg=s(71),em=s(21),e_=s(8),ev=s(44),ef=s(15),ey=s(95),eb=s(26)}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return i[e](s,s.exports,a),s.exports}a.m=i,a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"u">typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=[],a.O=(t,s,r,i)=>{if(s){i=i||0;for(var n=e.length;n>0&&e[n-1][2]>i;n--)e[n]=e[n-1];e[n]=[s,r,i];return}for(var o=1/0,n=0;n<e.length;n++){for(var[s,r,i]=e[n],l=!0,d=0;d<s.length;d++)(!1&i||o>=i)&&Object.keys(a.O).every(e=>a.O[e](s[d]))?s.splice(d--,1):(l=!1,i<o&&(o=i));if(l){e.splice(n--,1);var c=r();void 0!==c&&(t=c)}}return t},a.rv=()=>"1.7.3",t={98:0},a.O.j=e=>0===t[e],s=(e,s)=>{var r,i,[n,o,l]=s,d=0;if(n.some(e=>0!==t[e])){for(r in o)a.o(o,r)&&(a.m[r]=o[r]);if(l)var c=l(a)}for(e&&e(s);d<n.length;d++)i=n[d],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},(r=self.webpackChunkvwww=self.webpackChunkvwww||[]).forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r)),a.ruid="bundler=rspack@1.7.3";var o=a.O(void 0,["14","21","37","38","36"],()=>a(152));o=a.O(o)})();