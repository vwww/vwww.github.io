(()=>{"use strict";var e,t,a,n,r={205:function(e,t,a){let n;a(1);var r=a(2);function i(e,t,a=!1){let n=r.state(r.proxy(t));function l(e){return"undefined"===e?void 0:JSON.parse(e)}if(window.localStorage){let i=localStorage.getItem(e);null!==i&&r.set(n,l(i),!0),r.user_effect(()=>localStorage.setItem(e,void 0===r.get(n)?"undefined":JSON.stringify(r.get(n)))),a&&window.addEventListener("storage",a=>a.storageArea===localStorage&&a.key===e&&r.set(n,null==a.newValue?t:l(a.newValue),!0))}return{get value(){return r.get(n)},set value(newVal){r.set(n,newVal,!0)}}}var l=r.from_html('<p>Overtime threshold</p> <input type="number" class="form-control" min="0"/> <input type="range" class="form-range" min="0" max="16"/> <p>Draw value <button class="btn btn-sm btn-outline-danger">0</button> <button class="btn btn-sm btn-outline-primary">0.5</button> <button class="btn btn-sm btn-outline-info">1</button></p> <input type="number" class="form-control" min="0" max="1" step="0.01"/> <input type="range" class="form-range" min="0" max="1" step="0.001"/>',1),o=r.from_html("<th></th>"),s=r.from_html('<th><div style="writing-mode: vertical-lr; transform: rotate(180deg)">Opponent score</div></th>'),u=r.from_html("<td></td>"),v=r.from_html("<td> </td>"),d=r.from_html('<tr><!><th style="position: sticky; left: 0"></th><!></tr>'),g=r.from_html('<p>Minimum score to win</p> <input type="number" class="form-control" min="1"/> <input type="range" class="form-range" min="1" max="32"/> <p>Lead required to win</p> <input type="number" class="form-control" min="1"/> <input type="range" class="form-range" min="1"/> <!> <p>Probability of winning a round <button class="btn btn-sm btn-outline-primary">0.5</button> <button class="btn btn-sm btn-outline-success">Invert</button></p> <input type="number" class="form-control" min="0" max="1" step="0.01"/> <input type="range" class="form-range" min="0" max="1" step="0.001"/> <table class="table table-bordered table-hover caption-top w-auto"><caption> <!></caption><thead><tr><th rowspan="2" colspan="2"></th><th>Player score</th></tr><tr style="position: sticky; top: 0; z-index: 1"></tr></thead><tbody></tbody></table>',1);r.delegate(["click"]);var p=a(5);n=document.getElementById("app"),(0,p.Or)(function(e,t){r.push(t,!0);let a=i("tool/match_win/n",10),n=i("tool/match_win/p",.5),p=i("tool/match_win/l",1),m=i("tool/match_win/ot",1),c=i("tool/match_win/drawValue",.5),b=r.derived(()=>Math.max(0|a.value,1)),f=r.derived(()=>Math.min(Math.max(n.value,0),1)),_=r.derived(()=>Math.min(Math.max(c.value,0),1)),h=r.derived(()=>Math.min(Math.max(0|p.value,1),r.get(b))),y=r.derived(()=>r.get(h)>1?Math.max(0|m.value,0):0),x=r.derived(()=>r.get(b)+r.get(y)),w=r.derived(()=>r.get(x)+1),k=r.derived(()=>(()=>{let e=Array.from({length:r.get(w)},()=>Array(r.get(w))),t=r.get(x)-r.get(h);for(let a=0;a<=t;a++){let t=Math.max(r.get(b),a+r.get(h));e[a][t]=1,e[t][a]=0}for(let a=1;a<r.get(h);a++)e[t+a][t+1]=r.get(_),e[t+1][t+a]=r.get(_);for(let a=r.get(x)-1;a>=0;a--){let n=a<r.get(b)?0:a-r.get(h)+1,i=a<=t?Math.max(r.get(b),a+r.get(h))-1:t;for(let t=i;t>=n;t--)e[a][t]=r.get(f)*e[a][t+1]+(1-r.get(f))*e[a+1][t]}return e})());var O=g(),M=r.sibling(r.first_child(O),2);r.remove_input_defaults(M);var $=r.sibling(M,2);r.remove_input_defaults($);var P=r.sibling($,4);r.remove_input_defaults(P);var S=r.sibling(P,2);r.remove_input_defaults(S);var E=r.sibling(S,2),I=e=>{var t=l(),a=r.sibling(r.first_child(t),2);r.remove_input_defaults(a);var n=r.sibling(a,2);r.remove_input_defaults(n);var i=r.sibling(n,2),o=r.sibling(r.child(i));o.__click=()=>c.value=0;var s=r.sibling(o,2);s.__click=()=>c.value=.5,r.sibling(s,2).__click=()=>c.value=1,r.reset(i);var u=r.sibling(i,2);r.remove_input_defaults(u);var v=r.sibling(u,2);r.remove_input_defaults(v),r.bind_value(a,()=>m.value,e=>m.value=e),r.bind_value(n,()=>m.value,e=>m.value=e),r.bind_value(u,()=>c.value,e=>c.value=e),r.bind_value(v,()=>c.value,e=>c.value=e),r.append(e,t)};r.if(E,e=>{r.get(h)>1&&e(I)});var j=r.sibling(E,2),C=r.sibling(r.child(j));C.__click=()=>n.value=.5,r.sibling(C,2).__click=()=>n.value=1-r.get(f),r.reset(j);var A=r.sibling(j,2);r.remove_input_defaults(A);var L=r.sibling(A,2);r.remove_input_defaults(L);var V=r.sibling(L,2),B=r.child(V),J=r.child(B),N=r.sibling(J),q=e=>{var t=r.text();r.template_effect(()=>r.set_text(t,`, ${r.get(h)??""} point lead, max ${r.get(b)+m.value} score`)),r.append(e,t)};r.if(N,e=>{r.get(h)>1&&e(q)}),r.reset(B);var z=r.sibling(B),D=r.child(z),F=r.sibling(r.child(D));r.reset(D);var G=r.sibling(D);r.each(G,21,()=>r.get(k),r.index,(e,t,a)=>{var n=o();n.textContent=a,r.append(e,n)}),r.reset(G),r.reset(z);var H=r.sibling(z);r.each(H,21,()=>r.get(k),r.index,(e,t,a)=>{var n=d(),i=r.child(n),l=e=>{var t=s();r.template_effect(()=>r.set_attribute(t,"rowspan",r.get(w))),r.append(e,t)};r.if(i,e=>{a||e(l)});var o=r.sibling(i);o.textContent=a;var g=r.sibling(o);r.each(g,17,()=>r.get(t),r.index,(e,t)=>{var a=r.comment(),n=r.first_child(a),i=e=>{var t=u();r.append(e,t)},l=e=>{let a=r.derived(()=>r.get(t)*(1-r.get(t))*2);var n=v(),i=r.child(n,!0);r.reset(n),r.template_effect(e=>{r.set_attribute(n,"title",`${r.get(t)}
${r.get(t)/(1-r.get(t))}:1
1:${1/r.get(t)-1}`),r.set_style(n,`background-color: hsl(${r.get(t)*r.get(t)*180} ${40+60*r.get(a)} ${80+20*r.get(a)})`),r.set_text(i,e)},[()=>r.get(t).toFixed(5)]),r.append(e,n)};r.if(n,e=>{void 0==r.get(t)?e(i):e(l,!1)}),r.append(e,a)}),r.reset(n),r.append(e,n)}),r.reset(H),r.reset(V),r.template_effect(()=>{r.set_attribute(P,"max",a.value),r.set_attribute(S,"max",a.value),r.set_text(J,`${1>=r.get(h)||0==r.get(_)?"Probability of winning":1==r.get(_)?"Probability of winning or drawing":"Expected value of"}
        first-to-${r.get(b)??""}/best-of-${2*r.get(b)-1}`),r.set_attribute(F,"colspan",r.get(w))}),r.bind_value(M,()=>a.value,e=>a.value=e),r.bind_value($,()=>a.value,e=>a.value=e),r.bind_value(P,()=>p.value,e=>p.value=e),r.bind_value(S,()=>p.value,e=>p.value=e),r.bind_value(A,()=>n.value,e=>n.value=e),r.bind_value(L,()=>n.value,e=>n.value=e),r.append(e,O),r.pop()},{target:n}),document.getElementById("appLoading")?.remove()}},i={};function l(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}};return r[e](a,a.exports,l),a.exports}l.m=r,l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=[],l.O=(t,a,n,r)=>{if(a){r=r||0;for(var i=e.length;i>0&&e[i-1][2]>r;i--)e[i]=e[i-1];e[i]=[a,n,r];return}for(var o=1/0,i=0;i<e.length;i++){for(var[a,n,r]=e[i],s=!0,u=0;u<a.length;u++)(!1&r||o>=r)&&Object.keys(l.O).every(e=>l.O[e](a[u]))?a.splice(u--,1):(s=!1,r<o&&(o=r));if(s){e.splice(i--,1);var v=n();void 0!==v&&(t=v)}}return t},l.rv=()=>"1.5.8",t={105:0},l.O.j=e=>0===t[e],a=(e,a)=>{var n,r,[i,o,s]=a,u=0;if(i.some(e=>0!==t[e])){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(s)var v=s(l)}for(e&&e(a);u<i.length;u++)r=i[u],l.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return l.O(v)},(n=self.webpackChunkvwww=self.webpackChunkvwww||[]).forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n)),l.ruid="bundler=rspack@1.5.8";var o=l.O(void 0,["11","1","4","9","2","28","14","63"],function(){return l(205)});o=l.O(o)})();