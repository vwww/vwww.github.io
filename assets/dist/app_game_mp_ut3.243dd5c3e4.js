(()=>{"use strict";var e,t,s,r,a={144:function(e,t,s){s(1);var r,a,i,n,o,d,l,c,p=s(2),g=s(120),u=s(121),h=s(122),m=s(123),_=s(124),f=s(125),b=p.from_html('<li class="list-group-item"><span> </span> vs <span> </span> </li>'),v=p.from_html('<li class="list-group-item">No past games!</li>'),y=p.from_html('<ul class="list-group list-group-flush overflow-auto" style="max-height: 15rem"></ul>'),w=s(126),R=s(127),E=s(130);function I(e,t){return T(e,t?x:O)}function k(e){for(let t=0;t<18;t+=2)if(!(e&3<<t))return!1;return!0}function T(e,t,s=t){return t.some((t,r)=>t===(e&s[r]))}(r=o||(o={}))[r.None=0]="None",r[r.P1=1]="P1",r[r.P2=2]="P2",(a=d||(d={}))[a.None=0]="None",a[a.P1=1]="P1",a[a.P2=2]="P2",a[a.Tie=3]="Tie";let O=[86016,1344,21,66576,16644,4161,65793,4368],x=[172032,2688,42,133152,33288,8322,131586,8736],S=[258048,258048,258048,4032,4032,4032,63,63,63,199728,199728,199728,49932,49932,49932,12483,12483,12483,197379,197379,197379,13104,13104,13104],N=[20480,69632,81920,320,1088,1280,5,17,20,1040,65552,66560,260,16388,16640,65,4097,4160,257,65537,65792,272,4112,4352],A=[40960,139264,163840,640,2176,2560,10,34,40,2080,131104,133120,520,32776,33280,130,8194,8320,514,131074,131584,544,8224,8704];var M=s(133),C=s(131);class D extends E.wG{#e=p.state(0);get score(){return p.get(this.#e)}set score(e){p.set(this.#e,e,!0)}#t=p.state(0);get streak(){return p.get(this.#t)}set streak(e){p.set(this.#t,e,!0)}#s=p.state(0);get wins(){return p.get(this.#s)}set wins(e){p.set(this.#s,e,!0)}#r=p.state(0);get loss(){return p.get(this.#r)}set loss(e){p.set(this.#r,e,!0)}#a=p.state(0);get ties(){return p.get(this.#a)}set ties(e){p.set(this.#a,e,!0)}#i=p.state(0);get total(){return p.get(this.#i)}set total(e){p.set(this.#i,e,!0)}setResult(e){e?1===e?(this.loss++,this.streak>0&&(this.streak=0),this.streak--,this.score++):(this.ties++,this.score+=2):(this.wins++,this.streak<0&&(this.streak=0),this.streak++,this.score+=4),this.total++}resetScore(){this.score=0,this.streak=0,this.wins=0,this.loss=0,this.ties=0,this.total=0}readWelcome(e){super.readWelcome(e),this.streak=e.getInt(),this.wins=e.getInt(),this.loss=e.getInt(),this.ties=e.getInt(),this.total=this.wins+this.loss+this.ties,this.score=(2*this.wins+this.ties)*2+this.loss}}class P extends E.Nd{p0=-1;p1=-1;#n=p.state(0);get ply(){return p.get(this.#n)}set ply(e){p.set(this.#n,e,!0)}#o=p.state(0);get winner(){return p.get(this.#o)}set winner(e){p.set(this.#o,e,!0)}#d=p.state(!1);get myTurn(){return p.get(this.#d)}set myTurn(e){p.set(this.#d,e,!0)}#l=p.state(0);get myPlayer(){return p.get(this.#l)}set myPlayer(e){p.set(this.#l,e,!0)}#c=p.state(0);get drawOffer(){return p.get(this.#c)}set drawOffer(e){p.set(this.#c,e,!0)}#p=p.derived(()=>this.playing&&this.myTurn);get canMove(){return p.get(this.#p)}set canMove(e){p.set(this.#p,e)}newClient(){return new D}resetRound(){this.ply=0,this.winner=0,this.drawOffer=0}processWelcomeGame(e){super.processWelcomeGame(e),this.resetRound(),this.processPlayerInfo(e),this.processRoundInfo(e)}processRoundStart(e){super.processRoundStart(e),this.resetRound(),this.processPlayerInfo(e),this.processRoundStartInfo(e)}processEndRound(e){let t=e.getInt(),s=e.getBool(),r=this.clients[this.p0],a=this.clients[this.p1];r?.setResult(t),a?.setResult(1-t),this.addHistory({p0Name:(0,C.M0)(r,this.p0),p1Name:(0,C.M0)(a,this.p1),meIndex:this.myPlayer-1,winner:t,earlyEnd:s,ply:this.ply}),this.winner=t+1,this.drawOffer=0}processPlayerInfo(e){this.p0=e.getInt(),this.p1=e.getInt();let{cn:t}=this.localClient;this.myPlayer=this.p0===t?1:2*(this.p1===t),this.myTurn=1===this.myPlayer}processOfferDraw(e){let t=e.getInt(),s=e.getCN();this.drawOffer=t&&(s===this.localClient.cn?1:2)}nextTurn(){this.ply++;let e=this.myPlayer;this.myTurn=!!e&&(1&this.ply)==e-1}playersSortProps=[e=>e.streak,e=>e.score,e=>e.wins]}let G=[["optTurnTime","i",15e3,"Turn Time / ms","duration of each turn, in milliseconds",5e3,6e4],["optInverted","b",!1,"Inverted","switch winning and losing"],["optChecked","b",!1,"Checked","disallow obviously bad moves"],["optQuick","b",!1,"Quick","capture one small board to win"],["optAnyBoard","b",!1,"Open","move in any board"]];function $(e){let t=[e.optInverted&&"inverted",e.optChecked&&"checked",e.optQuick&&"quick",e.optAnyBoard&&"open"].filter(e=>e);return`${t.length?t.join(" "):"standard"} ${e.optTurnTime}ms`}(i=l||(l={}))[i.WELCOME=0]="WELCOME",i[i.JOIN=1]="JOIN",i[i.LEAVE=2]="LEAVE",i[i.RESET=3]="RESET",i[i.RENAME=4]="RENAME",i[i.PING=5]="PING",i[i.PING_TIME=6]="PING_TIME",i[i.CHAT=7]="CHAT",i[i.ACTIVE=8]="ACTIVE",i[i.ROUND_WAIT=9]="ROUND_WAIT",i[i.ROUND_INTERM=10]="ROUND_INTERM",i[i.ROUND_START=11]="ROUND_START",i[i.READY=12]="READY",i[i.END_ROUND=13]="END_ROUND",i[i.MOVE_CONFIRM=14]="MOVE_CONFIRM",i[i.END_TURN=15]="END_TURN",i[i.OFFER_DRAW=16]="OFFER_DRAW",(n=c||(c={}))[n.RESET=0]="RESET",n[n.RENAME=1]="RENAME",n[n.PONG=2]="PONG",n[n.CHAT=3]="CHAT",n[n.ACTIVE=4]="ACTIVE",n[n.READY=5]="READY",n[n.MOVE=6]="MOVE",n[n.MOVE_END=7]="MOVE_END",n[n.FORFEIT=8]="FORFEIT",n[n.OFFER_DRAW=9]="OFFER_DRAW",n[n.REJECT_DRAW=10]="REJECT_DRAW";let W={board:0,boards:[0,0,0,0,0,0,0,0,0],boardRestrict:[0,0,0,0,0,0,0,0,0],boardFinal:0,boardMustMove:-1};class F extends P{#g=p.state(p.proxy((0,w.q)(G)));get mode(){return p.get(this.#g)}set mode(e){p.set(this.#g,e,!0)}#u=p.state(p.proxy([W]));get boardStates(){return p.get(this.#u)}set boardStates(e){p.set(this.#u,e,!0)}#h=p.state(0);get boardIndex(){return p.get(this.#h)}set boardIndex(e){p.set(this.#h,e,!0)}#m=p.state(p.proxy([]));get moveHistory(){return p.get(this.#m)}set moveHistory(e){p.set(this.#m,e,!0)}get ROUND_TIME(){return this.mode.optTurnTime}INTERMISSION_TIME=3e4;enterGame(e,t){this.setupGame(e),this.sendf("is",this.PROTOCOL_VERSION,t)}sendReset(){this.sendf("i",c.RESET)}sendRename(e){this.sendf("is",c.RENAME,e)}sendPong(e){this.sendf("i2",c.PONG,e)}sendChat(e,t,s=-1){this.sendf("i3s",c.CHAT,t,s,(0,M.JK)(e))}sendActive(){this.sendf("i",c.ACTIVE)}sendReady(){this.sendf("i",c.READY)}sendMove(e,t){this.sendf("i3",c.MOVE,e,t)}sendMoveEnd(){this.sendf("i",c.MOVE_END)}sendResign(){this.sendf("i",c.FORFEIT)}sendDrawOffer(){this.sendf("i",c.OFFER_DRAW)}sendDrawReject(){this.sendf("i",c.REJECT_DRAW)}historyGo(e){var t;this.boardIndex=(t=this.moveHistory.length,0>e?0:e<t?e:t)}MESSAGE_HANDLERS={[l.WELCOME]:this.processWelcome,[l.JOIN]:this.processJoin,[l.LEAVE]:this.processLeave,[l.RESET]:this.processReset,[l.RENAME]:this.processRename,[l.PING]:this.processPing,[l.PING_TIME]:this.processPingTime,[l.CHAT]:this.processChat,[l.ACTIVE]:this.processActive,[l.ROUND_WAIT]:this.processRoundWait,[l.ROUND_INTERM]:this.processRoundInterm,[l.ROUND_START]:this.processRoundStart,[l.READY]:this.processReady,[l.END_ROUND]:this.processEndRound,[l.MOVE_CONFIRM]:this.processMoveConfirm,[l.END_TURN]:this.processEndTurn,[l.OFFER_DRAW]:this.processOfferDraw};processWelcomeMode(e){this.mode.optTurnTime=e.getInt();let t=e.get();this.mode.optInverted=!!(1&t),this.mode.optChecked=!!(2&t),this.mode.optQuick=!!(4&t),this.mode.optAnyBoard=!!(8&t)}processMoveConfirm(e){e.getInt(),e.getInt()}processEndTurn(e){let t=e.getInt(),s=e.getInt();this.applyMove(t,s),this.nextTurn(),this.setTimer(this.mode.optTurnTime)}processRoundInfo(e){this.reset();for(let t=0;t<=81;t++){let s=e.getInt();if(s<0){this.ply=t;break}let r=e.getInt();this.applyMove(s,r)}}processRoundStartInfo(e){this.reset()}reset(){this.boardStates=[W],this.boardIndex=0,this.moveHistory=[]}applyMove(e,t){let s=this.boardStates,r=this.moveHistory,a=s[s.length-1],i=1&s.length,n=1^i,{board:o,boardFinal:d}=a,l=a.boards.slice(0),c=1<<(t<<1)+n,p=1<<t,g=1<<(e<<1)+n,u=1<<e;l[e]|=c,I(l[e],!!n)?(o|=g,d|=u):k(l[e])&&(d|=u);let h=this.mode.optAnyBoard||d&p?-1:t,m=(e,t)=>{if(this.mode.optChecked){let s=1<<(t<<1)+i;if(this.mode.optInverted){if(I(l[e]|s,!n)&&(this.mode.optQuick||I(o|1<<(e<<1)+i,!n)))return!0}else{let r=l[t]|(e===t?s:0);if(this.mode.optAnyBoard||!this.mode.optQuick&&(d&1<<t||k(r)||I(r,!n))){for(let t=0;t<9;t++)if(!(d&1<<t)&&T(l[t]|(t===e?s:0),i?N:A,S)&&(this.mode.optQuick||I(o|1<<(t<<1)+n,!i)))return!0}else if(T(r,i?N:A,S)&&(this.mode.optQuick||I(o|1<<(t<<1)+n,!i)))return!0}}return!1};s.push({board:o,boards:l,boardFinal:d,boardMustMove:h,boardRestrict:[0,1,2,3,4,5,6,7,8].map(e=>{if(!(e===h||h<0&&!(d&1<<e)))return 511;let t=0;for(let s=0;s<9;s++)m(e,s)&&(t|=1<<s);return t})}),r.push([e,t]),this.boardStates=s,this.moveHistory=r,this.boardIndex===s.length-2&&this.boardIndex++}}var H=s(128),U=s(135),V=p.from_html('<div class="btn-group d-flex my-2"><button class="btn w-100 btn-outline-danger">Resign</button> <button> </button> <button> </button></div>');p.delegate(["click"]);var j=(e,t,s,r)=>t.onMove(p.get(s),p.get(r)),L=p.from_html("<td></td>"),B=p.from_html("<tr></tr>"),Q=p.from_html("<td><table><tbody></tbody></table></td>"),q=p.from_html("<tr></tr>"),Y=p.from_html("<table><tbody></tbody></table>");let J={hash:"svelte-1ah898t",code:".outerGrid.svelte-1ah898t {margin:auto;}.innerGrid.svelte-1ah898t {margin:1vmin;border-collapse:separate;border-spacing:.6vmin;background-color:#a9a9a9;&.p1 {background-color:#008000}&.p2 {background-color:#ffa07a}&.p3 {background-color:#add8e6}}.innerCell.svelte-1ah898t {width:6vmin;height:6vmin;opacity:0.6;&.p0 {background-color:#696969}&.p1 {background-color:#9acd32;opacity:1;}&.p2 {background-color:#ff7f50;opacity:1;}&.p3 {background-color:#98afc7}.outerGrid.m1:where(.svelte-1ah898t) &, .outerGrid.m2:where(.svelte-1ah898t) & {cursor:not-allowed;&.p3 {cursor:pointer}}&.p3:hover {.m1:where(.svelte-1ah898t) & {background-color:#9acd32}.m2:where(.svelte-1ah898t) & {background-color:#ff7f50}}}"};p.delegate(["click"]);var z=p.from_html("<!> <!>",1),X=p.from_html('<span class="badge text-bg-secondary">spectating</span>.',1),Z=p.from_html('<span class="badge text-bg-success">player X</span>.',1),K=p.from_html('<span class="badge text-bg-danger">player O</span>.',1),ee=p.from_html('<span class="badge text-bg-success">X wins!</span>'),et=p.from_html('<span class="badge text-bg-danger">O wins!</span>'),es=p.from_html('It\'s a <span class="badge text-bg-warning">draw</span>!',1),er=(e,t)=>t.gameState.historyGo(0),ea=(e,t,s)=>t.gameState.historyGo(p.get(s)-1),ei=(e,t,s)=>t.gameState.historyGo(p.get(s)+1),en=(e,t,s)=>t.gameState.historyGo(p.get(s)),eo=p.from_html('<span role="button" tabindex="0"> </span>'),ed=(e,t)=>t.gameState.sendMoveEnd(),el=p.from_html('<button class="btn btn-outline-secondary d-block w-100 my-2">End Turn (Auto Random)</button>'),ec=p.from_html("<!> <!>",1),ep=p.from_html('<!> <p>You are <!> <!></p> <!> <div><div class="progress mb-2"><div> <!></div></div> <div class="btn-group d-flex mb-3" role="group"><span class="input-group-text">Navigate</span> <button>&laquo;</button> <button>&lsaquo;</button> <button>&rsaquo;</button> <button>&raquo;</button></div> Moves: <!></div> <!> <div> </div> <b>Lobby</b> <!>',1);p.delegate(["click"]);var eg=s(102),eu=p.from_html('<!> <!> <!> <div class="row"><div class="col-12 col-xl-8"><!> <!></div> <div class="col-12 col-xl-4 mb-3"><!></div></div>',1);(0,s(96).A)(function(e,t){let s;p.push(t,!0);let r=new u.Ay,a=new F(r),i=p.derived(()=>a.pastGames),n=p.derived(()=>a.leaderboard),o=p.derived(()=>a.localClient),l=p.derived(()=>a.roundState),c=(0,eg.C)("game/mp/_shared/name","");var I=eu(),k=p.first_child(I);(0,_.A)(k,{get value(){return c.value},set value($$value){c.value=$$value}});var T=p.sibling(k,2);{let e=p.derived(()=>({name:c.value}));p.bind_this((0,R.A)(T,{gameId:"ut3-zpfnljsogeu8x8fopwhylg",roomType:"UT3Room",get joinData(){return p.get(e)},get gameRoom(){return a.room},onJoinedRoom:e=>a.enterGame(e,c.value),formatGameMode:e=>$((0,w.e)(G,e)),get roomCreateOptions(){return G}}),e=>s=e,()=>s)}var O=p.sibling(T,2);{let e=p.derived(()=>p.get(l)===E.mk.INTERMISSION);(0,f.A)(O,{get inGame(){return a.room},get isActive(){return a.localClient.active},get canReady(){return p.get(e)},get isReady(){return a.localClient.ready},onActive:()=>a.sendActive(),onReady:()=>a.sendReady(),onReset:()=>a.sendReset(),onDisconnect:()=>(a.leaveGame(),s.refreshRooms()),children:(e,t)=>{var s,r,i,n,o,l,c,g,u,h,m,_,f,b,v,y,w,R,I,k,T,O,x,S,N,A,M,C,D,P;let G,W,F,eg,eu,eh,em,e_,ef,eb,ev,ey,ew,eR,eE,eI,ek,eT;s={get gameState(){return a}},p.push(s,!0),eu=p.derived(()=>s.gameState.localClient),eh=p.derived(()=>s.gameState.roundState),em=p.derived(()=>s.gameState.playing),e_=p.derived(()=>s.gameState.canMove),ef=p.derived(()=>s.gameState.myPlayer),eb=p.derived(()=>s.gameState.drawOffer),ev=p.derived(()=>s.gameState.boardStates),ey=p.derived(()=>s.gameState.boardIndex),ew=p.derived(()=>s.gameState.winner),eR=p.derived(()=>s.gameState.moveHistory),eE=p.derived(()=>p.get(ev)[p.get(ey)]),eI=p.derived(()=>p.get(eR).length),ek=p.derived(()=>p.get(ey)>=p.get(eI)),r=ep(),i=p.first_child(r),n=e=>{var t=p.text("Waiting for players…");p.append(e,t)},o=e=>{var t=z(),r=p.first_child(t),a=e=>{var t=p.text("Intermission:");p.append(e,t)},i=e=>{var t=p.comment(),s=p.first_child(t),r=e=>{var t=p.text("Make a move:");p.append(e,t)},a=e=>{var t=p.comment(),s=p.first_child(t),r=e=>{var t=p.text("Waiting for opponent to move…");p.append(e,t)},a=e=>{var t=p.text("Spectating:");p.append(e,t)};p.if(s,e=>{p.get(eu).inRound?e(r):e(a,!1)},!0),p.append(e,t)};p.if(s,e=>{p.get(e_)?e(r):e(a,!1)},!0),p.append(e,t)};p.if(r,e=>{p.get(eh)===E.mk.INTERMISSION?e(a):e(i,!1)});var n=p.sibling(r,2);(0,H.A)(n,{get startTime(){return s.gameState.roundTimerStart},get endTime(){return s.gameState.roundTimerEnd},get active(){return s.gameState.room}}),p.append(e,t)},p.if(i,e=>{p.get(eh)===E.mk.WAITING?e(n):e(o,!1)}),l=p.sibling(i,2),c=p.sibling(p.child(l)),g=e=>{var t=X();p.next(),p.append(e,t)},u=e=>{var t=p.comment(),s=p.first_child(t),r=e=>{var t=Z();p.next(),p.append(e,t)},a=e=>{var t=K();p.next(),p.append(e,t)};p.if(s,e=>{1===p.get(ef)?e(r):e(a,!1)},!0),p.append(e,t)},p.if(c,e=>{p.get(eh)===E.mk.WAITING?e(g):e(u,!1)}),h=p.sibling(c,2),m=e=>{var t=ee();p.append(e,t)},_=e=>{var t=p.comment(),s=p.first_child(t),r=e=>{var t=et();p.append(e,t)},a=e=>{var t=p.comment(),s=p.first_child(t),r=e=>{var t=es();p.next(2),p.append(e,t)};p.if(s,e=>{p.get(ew)===d.Tie&&e(r)},!0),p.append(e,t)};p.if(s,e=>{p.get(ew)===d.P2?e(r):e(a,!1)},!0),p.append(e,t)},p.if(h,e=>{p.get(ew)===d.P1?e(m):e(_,!1)}),p.reset(l),f=p.sibling(l,2),eT=p.derived(()=>p.get(e_)&&p.get(ek)?p.get(ef):0),function(e,t){p.push(t,!0),p.append_styles(e,J);let s=[[0,1,2],[3,4,5],[6,7,8]];function r(e,t,s){return e>>(t<<1)&3||3*!!s}var a=Y(),i=p.child(a);p.each(i,21,()=>s,p.index,(e,a)=>{var i=q();p.each(i,21,()=>p.get(a),p.index,(e,a)=>{var i=Q(),n=p.child(i),o=p.child(n);p.each(o,21,()=>s,p.index,(e,s,i,n)=>{var o=B();p.each(o,21,()=>p.get(s),p.index,(e,s)=>{var i=L();i.__click=[j,t,a,s],p.template_effect(e=>p.set_class(i,1,`innerCell p${e??""}`,"svelte-1ah898t"),[()=>r(t.boardState.boards[p.get(a)],p.get(s),!(t.boardState.boardRestrict[p.get(a)]>>p.get(s)&1))]),p.append(e,i)}),p.reset(o),p.append(e,o)}),p.reset(o),p.reset(n),p.reset(i),p.template_effect(e=>p.set_class(n,1,`innerGrid p${e??""}`,"svelte-1ah898t"),[()=>r(t.boardState.board,p.get(a),t.boardState.boardMustMove<0||t.boardState.boardMustMove===p.get(a))]),p.append(e,i)}),p.reset(i),p.append(e,i)}),p.reset(i),p.reset(a),p.template_effect(()=>p.set_class(a,1,`outerGrid m${t.markHover??""}`,"svelte-1ah898t")),p.append(e,a),p.pop()}(f,{get boardState(){return p.get(eE)},get markHover(){return p.get(eT)},onMove:(e,t)=>p.get(ek)&&s.gameState.sendMove(e,t)}),b=p.sibling(f,2),v=p.child(b),y=p.child(v),w=p.child(y),R=p.sibling(w),I=e=>{var t=p.text();p.template_effect(()=>p.set_text(t,`/${p.get(eI)??""}`)),p.append(e,t)},p.if(R,e=>{p.get(ek)||e(I)}),p.reset(y),p.reset(v),k=p.sibling(v,2),(T=p.sibling(p.child(k),2)).__click=[er,s],(O=p.sibling(T,2)).__click=[ea,s,ey],(x=p.sibling(O,2)).__click=[ei,s,ey],(S=p.sibling(x,2)).__click=[en,s,eI],p.reset(k),N=p.sibling(k,2),p.each(N,17,()=>p.get(eR),p.index,(e,t,r)=>{var a=eo();a.__click=()=>s.gameState.historyGo(r+1);var i=p.child(a,!0);p.reset(a),p.template_effect(e=>{p.set_class(a,1,`badge text-bg${p.get(ef)==(1&r)+1?"":"-outline"}-${p.get(ey)<=r?"warning":1&r?"danger":"success"} me-1`),p.set_text(i,e)},[()=>p.get(t).join("")]),p.append(e,a)},e=>{p.next();var t=p.text("(none)");p.append(e,t)}),p.reset(b),A=p.sibling(b,2),M=e=>{let t;var r,a,i,n,o,d,l,c,g=ec(),u=p.first_child(g),h=e=>{var t=el();t.__click=[ed,s],p.append(e,t)};p.if(u,e=>{p.get(e_)&&e(h)}),r=p.sibling(u,2),a={get drawOffer(){return p.get(eb)},onResign:()=>s.gameState.sendResign(),onDrawOffer:()=>s.gameState.sendDrawOffer(),onDrawReject:()=>s.gameState.sendDrawReject()},p.push(a,!0),i=V(),(n=p.child(i)).__click=function(...e){a.onResign?.apply(this,e)},(o=p.sibling(n,2)).__click=function(...e){a.onDrawOffer?.apply(this,e)},d=p.child(o,!0),p.reset(o),(l=p.sibling(o,2)).__click=function(...e){a.onDrawReject?.apply(this,e)},c=p.child(l,!0),p.reset(l),p.reset(i),p.template_effect(e=>{p.set_class(o,1,`btn w-50 btn-${["outline-primary","primary","info"][a.drawOffer]??""}`),p.set_text(d,["Offer Draw","Draw Requested","Accept Draw"][a.drawOffer]),t=p.set_class(l,1,`btn w-50 btn-${a.drawOffer?"":"outline-"}warning`,null,t,e),p.set_text(c,a.drawOffer>1?"Reject Draw":"Cancel Draw")},[()=>({disabled:!a.drawOffer})]),p.append(r,i),p.pop(),p.append(e,g)},p.if(A,e=>{p.get(em)&&e(M)}),C=p.sibling(A,2),D=p.child(C),p.reset(C),P=p.sibling(C,4),(0,U.A)(P,{get localClient(){return s.gameState.localClient},get inGame(){return s.gameState.roundPlayers},get inQueue(){return s.gameState.roundPlayerQueue}}),p.template_effect((e,t,s,r,a)=>{p.set_class(y,1,`progress-bar progress-bar-striped ${p.get(e_)?!p.get(ek)?"text-bg-warning":"text-bg-success":""}`),p.set_style(y,`width:${(p.get(ey)+1)/(p.get(eI)+1)*100}%`),p.set_text(w,`Ply ${p.get(ey)??""}`),G=p.set_class(T,1,"w-100 btn btn-secondary",null,G,e),W=p.set_class(O,1,"w-100 btn btn-secondary",null,W,t),F=p.set_class(x,1,"w-100 btn btn-secondary",null,F,s),eg=p.set_class(S,1,"w-100 btn btn-secondary",null,eg,r),p.set_text(D,`Game Mode: ${a??""}`)},[()=>({disabled:!p.get(ey)}),()=>({disabled:!p.get(ey)}),()=>({disabled:p.get(ek)}),()=>({disabled:p.get(ek)}),()=>$(s.gameState.mode)]),p.append(e,r),p.pop()},$$slots:{default:!0}})}var x=p.sibling(O,2),S=p.child(x),N=p.child(S);(0,h.A)(N,{get canClear(){return p.get(i).length},onClear:()=>a.clearHistory(),children:(e,t)=>{!function(e,t){let s=p.prop(t,"p0Win",3,"X wins"),r=p.prop(t,"p1Win",3,"O wins"),a=p.prop(t,"draw",3,"draw"),i=p.prop(t,"winEarly",3,"by forfeit"),n=p.prop(t,"drawEarly",3,"by agreement");function o(e){return e?1===e?"danger":"secondary":"success"}var d=y();p.each(d,21,()=>t.results,p.index,(e,t)=>{var d=b(),l=p.child(d),c=p.child(l,!0);p.reset(l);var g=p.sibling(l,2),u=p.child(g,!0);p.reset(g);var h=p.sibling(g);p.reset(d),p.template_effect((e,o)=>{p.set_class(l,1,`badge text-bg${0==p.get(t).meIndex?"":"-outline"}-${e??""}`),p.set_text(c,p.get(t).p0Name),p.set_class(g,1,`badge text-bg${1==p.get(t).meIndex?"":"-outline"}-${o??""}`),p.set_text(u,p.get(t).p1Name),p.set_text(h,`:
    ${(!p.get(t).winner?s():1===p.get(t).winner?r():a())??""} ${(p.get(t).earlyEnd?p.get(t).winner<2?i():n():"")??""}
    on ply ${p.get(t).ply??""}`)},[()=>o(p.get(t).winner),()=>o(1-p.get(t).winner)]),p.append(e,d)},e=>{var t=v();p.append(e,t)}),p.reset(d),p.append(e,d)}(e,{get results(){return p.get(i)}})},$$slots:{default:!0}});var A=p.sibling(N,2);(0,m.A)(A,{get leaderboard(){return p.get(n)},get localClient(){return p.get(o)},columns:[["Streak",e=>e.streak],["Score",e=>e.score],["Win",e=>[e.wins,e.total]],["Loss",e=>[e.loss,e.total]],["Ties",e=>[e.ties,e.total]]]}),p.reset(S);var M=p.sibling(S,2),C=p.child(M);(0,g.A)(C,{get chatState(){return r},onInput:e=>(0,u.Oo)(a,e)}),p.reset(M),p.reset(x),p.append(e,I),p.pop()})},131:function(e,t,s){s.d(t,{M0:()=>d,iq:()=>a,iw:()=>i,yh:()=>o,yn:()=>n});var r=s(132);let a=64;function i(e){return(e=e.replace(/[^a-zA-Z_ ]/,"").replace(/ {2,}/," ").trim().slice(0,20))||"unnamed"}function n(){let e=new r.k(new Uint8Array([0,1,2,3,4,5,6,7]));console.log("%cMultiplayer Game Bug Report Guide","font-family:helvetica; font-size:20px"),console.log("You're probably trying to debug a network error or file a bug report for it."),console.log("If you see an error like this, your report must contain the packet values:"),console.log("example",e.debugBuf,e),console.log("In the example above, you would have to submit at least [0, 1, 2, 3, 4, 5, 6, 7] (expand stuff as needed)")}function o(e,t){let s=e.filter(e=>e).sort((e,s)=>{for(let r of t){let t=r(e),a=r(s);if(t<a)return 1;if(t>a)return -1}return e.cn-s.cn}),r=1;return s.forEach((e,a)=>{if(a){let i=s[a-1];t.some(t=>t(e)!==t(i))&&(r=a+1)}s[a].rank=r}),s.sort((e,t)=>t.active-e.active)}function d(e,t){return e?`${e.name} (${e.cn})`:`<unknown${void 0===t?"":` (${t})`}>`}},2:function(e,t,s){s.r(t),s.d(t,{CLASS:()=>N.tp,FILENAME:()=>a.Uh,HMR:()=>a.OM,NAMESPACE_SVG:()=>a.pQ,STYLE:()=>N.Y,aborted:()=>ee.QH,action:()=>x.X,active_effect:()=>eo.Fg,add_legacy_event_listener:()=>J.oe,add_locations:()=>d.D,add_svelte_meta:()=>i.G7,animation:()=>P.l,append:()=>z.BC,append_styles:()=>O.k,apply:()=>M.Bb,assign:()=>n.kp,assign_and:()=>n._R,assign_nullish:()=>n.Sc,assign_or:()=>n.im,async:()=>h.b,async_body:()=>X.cZ,async_derived:()=>K.zx,attach:()=>S.K,attachment:()=>r.r,attr:()=>eu.CF,attribute_effect:()=>N.p_,autofocus:()=>C.wC,await:()=>_.x,bind_active_element:()=>G.m,bind_buffered:()=>W.w$,bind_checked:()=>$.mS,bind_content_editable:()=>L.b1,bind_current_time:()=>W.M$,bind_element_size:()=>V.B,bind_ended:()=>W.$T,bind_files:()=>$.md,bind_focused:()=>L.oP,bind_group:()=>$.CJ,bind_muted:()=>W.iX,bind_online:()=>F.s,bind_paused:()=>W.lY,bind_playback_rate:()=>W.hc,bind_played:()=>W.YL,bind_prop:()=>H.E,bind_property:()=>L.IY,bind_ready_state:()=>W.mM,bind_resize_observer:()=>V.y,bind_seekable:()=>W.xx,bind_seeking:()=>W.Je,bind_select_value:()=>U.$t,bind_this:()=>j.L,bind_value:()=>$.oJ,bind_volume:()=>W.Jo,bind_window_scroll:()=>B.f,bind_window_size:()=>B.r,boundary:()=>ea.pP,bubble_event:()=>J.Ib,check_target:()=>p.X,child:()=>eg.jf,cleanup_styles:()=>o.O,clsx:()=>eu.$z,comment:()=>z.Im,component:()=>I.s,create_custom_element:()=>ep.Q,create_ownership_validator:()=>c.a,css_props:()=>v.d,deep_read:()=>eo.o1,deep_read_state:()=>eo.iT,delegate:()=>M.Mm,derived:()=>K.eO,derived_safe_equal:()=>K.Xd,document:()=>eg.gk,each:()=>y.__,effect:()=>ee.QZ,effect_root:()=>ee.Fc,effect_tracking:()=>ee.oJ,element:()=>k.N,equals:()=>ef.aI,event:()=>M.f0,exclude_from_object:()=>eo.SE,fallback:()=>em.Np,first_child:()=>eg.es,flush:()=>Z.qX,for_await_track_reactivity_loss:()=>X.IP,from_html:()=>z.vU,from_mathml:()=>z.$N,from_svg:()=>z._i,from_tree:()=>z.el,get:()=>eo.Jt,head:()=>T.d,hmr:()=>l.c,html:()=>w.q,hydrate_template:()=>Q.PK,if:()=>f.A,index:()=>y.Pe,init:()=>Y.T,init_select:()=>U.wf,inspect:()=>u.N,invalid_default_snippet:()=>e_.y8,invalidate_inner_signals:()=>ei.p,invalidate_store:()=>er.qB,invoke_error_boundary:()=>ev.n,key:()=>b.E,legacy_api:()=>p.j,legacy_pre_effect:()=>ee.M3,legacy_pre_effect_reset:()=>ee.iq,legacy_rest_props:()=>es.gj,log_if_contains_state:()=>eb.f,mark_store_binding:()=>er.io,mutable_source:()=>et.zg,mutate:()=>et.Tk,next:()=>Q.K2,noop:()=>em.lQ,once:()=>q.Oo,pending:()=>ea.Ub,pop:()=>i.uY,preventDefault:()=>q.wo,prevent_snippet_stringification:()=>e_.bk,prop:()=>es._w,props_id:()=>z.zA,proxy:()=>ec.B,push:()=>i.VC,raf:()=>el.e,reactive_import:()=>J.Iu,remove_input_defaults:()=>N.R0,remove_textarea_child:()=>C.VU,render_effect:()=>ee.VB,replay_events:()=>M.ES,reset:()=>Q.cL,rest_props:()=>es.iR,safe_get:()=>eo.$i,sanitize_slots:()=>R.i,save:()=>X.UN,select_option:()=>U.fs,self:()=>q.bg,set:()=>et.hZ,set_attribute:()=>N.aI,set_checked:()=>N.BY,set_class:()=>A.y,set_custom_element_data:()=>N.p,set_default_checked:()=>N.V$,set_default_value:()=>N.xp,set_selected:()=>N.$Z,set_style:()=>D.h,set_text:()=>en.j,set_value:()=>N.to,set_xlink_attribute:()=>N.To,setup_stores:()=>er.DZ,sibling:()=>eg.hg,slot:()=>R.N,snapshot:()=>eh.P,snippet:()=>E.UA,spread_props:()=>es.Du,state:()=>et.wk,stopImmediatePropagation:()=>q.CA,stopPropagation:()=>q.dG,store_get:()=>er.Hz,store_mutate:()=>er.hY,store_set:()=>er.fT,store_unsub:()=>er.QK,strict_equals:()=>ef.IP,tag:()=>g.Tc,tag_proxy:()=>g._e,template_effect:()=>ee.vN,text:()=>z.Qq,tick:()=>eo.io,to_array:()=>em._N,trace:()=>g.uP,track_reactivity_loss:()=>X.t_,transition:()=>P.k,trusted:()=>q.IZ,untrack:()=>eo.vz,update:()=>et.yo,update_legacy_props:()=>J.hp,update_pre:()=>et.cE,update_pre_prop:()=>es.CB,update_pre_store:()=>er.IL,update_prop:()=>es.k$,update_store:()=>er.yb,user_effect:()=>ee.MW,user_pre_effect:()=>ee.Go,validate_binding:()=>ed.R,validate_dynamic_element_tag:()=>e_.Bm,validate_each_keys:()=>ed.e,validate_snippet_args:()=>m.j,validate_store:()=>e_.T3,validate_void_dynamic_element:()=>e_.zA,window:()=>eg.Lk,with_script:()=>z.jB,wrap_snippet:()=>E.DK});var r=s(3),a=s(4),i=s(22),n=s(42),o=s(43),d=s(44),l=s(45),c=s(46),p=s(47),g=s(20),u=s(48),h=s(49),m=s(105),_=s(50),f=s(51),b=s(52),v=s(53),y=s(54),w=s(55),R=s(56),E=s(39),I=s(57),k=s(58),T=s(35),O=s(59),x=s(60),S=s(61),N=s(62),A=s(64),M=s(34),C=s(31),D=s(65),P=s(67),G=s(70),$=s(71),W=s(72),F=s(73),H=s(74),U=s(66),V=s(75),j=s(76),L=s(77),B=s(78),Q=s(13),q=s(79),Y=s(80),J=s(81),z=s(36),X=s(29),Z=s(23),K=s(26),ee=s(8),et=s(17),es=s(82),er=s(83),ea=s(27),ei=s(32),en=s(33),eo=s(6),ed=s(86),el=s(68),ec=s(16),ep=s(87),eg=s(12),eu=s(63),eh=s(21),em=s(7),e_=s(40),ef=s(15),eb=s(89),ev=s(25)}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return a[e](s,s.exports,n),s.exports}n.m=a,n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e=[],n.O=(t,s,r,a)=>{if(s){a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[s,r,a];return}for(var o=1/0,i=0;i<e.length;i++){for(var[s,r,a]=e[i],d=!0,l=0;l<s.length;l++)(!1&a||o>=a)&&Object.keys(n.O).every(e=>n.O[e](s[l]))?s.splice(l--,1):(d=!1,a<o&&(o=a));if(d){e.splice(i--,1);var c=r();void 0!==c&&(t=c)}}return t},n.rv=()=>"1.5.8",t={88:0},n.O.j=e=>0===t[e],s=(e,s)=>{var r,a,[i,o,d]=s,l=0;if(i.some(e=>0!==t[e])){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(d)var c=d(n)}for(e&&e(s);l<i.length;l++)a=i[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(c)},(r=self.webpackChunkvwww=self.webpackChunkvwww||[]).forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r)),n.ruid="bundler=rspack@1.5.8";var o=n.O(void 0,["11","17","34","36","35","33"],function(){return n(144)});o=n.O(o)})();