(()=>{"use strict";var e,t,l,s,a={118:function(e,t,l){let s;l(1);var a=l(2);function i(e,t,l=!1){let s=a.state(a.proxy(t));function r(e){return"undefined"===e?void 0:JSON.parse(e)}if(window.localStorage){let i=localStorage.getItem(e);null!==i&&a.set(s,r(i),!0),a.user_effect(()=>localStorage.setItem(e,void 0===a.get(s)?"undefined":JSON.stringify(a.get(s)))),l&&window.addEventListener("storage",l=>l.storageArea===localStorage&&l.key===e&&a.set(s,null==l.newValue?t:r(l.newValue),!0))}return{get value(){return a.get(s)},set value(newVal){a.set(s,newVal,!0)}}}var r=a.from_html('<li><div class="input-group mb-3"><div class="input-group"><textarea class="form-control" rows="2"></textarea> <button class="btn btn-outline-danger">-</button></div></div></li>'),n=a.from_html('<th scope="col"> </th>'),o=a.from_html("<td> </td>"),c=a.from_html("<tr></tr>"),d=a.from_html('<div class="mb-2"><h2>Puzzle Solution</h2> <div class="row justify-content-center"><div class="col-auto"><table class="table table-striped table-bordered table-hover table-sm table-responsive"><thead><tr></tr></thead><tbody></tbody></table></div></div></div>'),u=a.from_html('<span class="badge text-bg-secondary me-1"> </span>'),v=(e,t,l)=>t({...a.get(l),solution:void 0}),p=(e,t,l)=>t(a.get(l)),b=a.from_html('<button class="btn btn-sm btn-outline-primary">Answer</button>'),h=a.from_html('<tr><td> </td><td> <span class="badge text-bg-secondary"> </span></td><td></td><td><button>Puzzle Only</button> <!></td></tr>'),g=a.from_html('<table class="table table-sm table-striped table-bordered table-hover"><thead><tr><th>#</th><th>Title</th><th>Choices</th><th>Load</th></tr></thead><tbody></tbody></table>'),m=a.from_html('<div class="row"><div class="col-lg-6 mb-3"><h2>Puzzle Info <button class="btn btn-outline-danger mb-2">Reset</button></h2> <input type="text" class="form-control mb-2" placeholder="Title"/> <textarea class="form-control" placeholder="Description" rows="10"></textarea></div> <div class="col-lg-6 mb-2"><h3>Clues <button class="btn btn-outline-success mb-2">+</button></h3> <ol></ol></div></div> <!> <div class="row mb-2"><div class="col-sm-8 col-md-6"><h2>Grids</h2> TODO</div> <div class="col-sm-4 col-md-6"><h2>Rules</h2> TODO</div></div> <div><h2>Preset Puzzles</h2> <!></div>',1);a.delegate(["click"]);var f=l(5);s=document.getElementById("app"),(0,f.Or)(function(e,t){a.push(t,!0);let l=a.state(a.proxy([])),s=i("game/sp/logic/title",""),f=i("game/sp/logic/desc",""),_=i("game/sp/logic/clues",["","",""]),y=i("game/sp/logic/puzzleTypes",[]),x=i("game/sp/logic/puzzleRules",[]),w=i("game/sp/logic/solution",void 0);function O(e){s.value=e.name,f.value=e.desc,_.value=e.clues.slice(0),y.value=e.types.map(e=>({...e})),x.value=e.rules.map(e=>({...e})),w.value=e.solution}!async function(){let e=await fetch("logic.json"),t=await e.json();a.set(l,Object.keys(t).sort().map(e=>t[e].flatMap((e,t)=>e?{num:t,name:e.name,desc:e.desc.trim(),clues:e.clues.map(e=>e.trim()),types:e.types||[],rules:e.rules||[],solution:e.solution2?e.solution2.map(t=>[...t].map((t,l)=>e.types[l].vals[+t])):e.solution}:[])),!0)}();var k=m(),z=a.first_child(k),j=a.child(z),P=a.child(j);a.sibling(a.child(P)).__click=function(){s.value=f.value="",_.value=[],y.value=[],x.value=[],w.value=void 0},a.reset(P);var S=a.sibling(P,2);a.remove_input_defaults(S);var C=a.sibling(S,2);a.remove_textarea_child(C),a.reset(j);var I=a.sibling(j,2),T=a.child(I);a.sibling(a.child(T)).__click=()=>{_.value.push("")},a.reset(T);var $=a.sibling(T,2);a.each($,21,()=>_.value,a.index,(e,t,l)=>{var s=r(),i=a.child(s),n=a.child(i),o=a.child(n);a.remove_textarea_child(o),a.set_attribute(o,"placeholder",`Clue ${l+1}`),a.sibling(o,2).__click=()=>_.value.splice(l,1),a.reset(n),a.reset(i),a.reset(s),a.bind_value(o,()=>_.value[l],e=>_.value[l]=e),a.append(e,s)}),a.reset($),a.reset(I),a.reset(z);var E=a.sibling(z,2),D=e=>{var t=d(),l=a.sibling(a.child(t),2),s=a.child(l),i=a.child(s),r=a.child(i),u=a.child(r);a.each(u,21,()=>y.value,a.index,(e,t)=>{var l=n(),s=a.child(l,!0);a.reset(l),a.template_effect(()=>a.set_text(s,a.get(t).type)),a.append(e,l)}),a.reset(u),a.reset(r);var v=a.sibling(r);a.each(v,21,()=>w.value,a.index,(e,t)=>{var l=c();a.each(l,21,()=>a.get(t),a.index,(e,t)=>{var l=o(),s=a.child(l,!0);a.reset(l),a.template_effect(()=>a.set_text(s,a.get(t))),a.append(e,l)}),a.reset(l),a.append(e,l)}),a.reset(v),a.reset(i),a.reset(s),a.reset(l),a.reset(t),a.append(e,t)};a.if(E,e=>{w.value&&e(D)});var L=a.sibling(E,4),R=a.sibling(a.child(L),2);a.each(R,17,()=>a.get(l),a.index,(e,t)=>{var l=g(),s=a.sibling(a.child(l));a.each(s,21,()=>a.get(t),a.index,(e,t)=>{let l;var s=h(),i=a.child(s),r=a.child(i,!0);a.reset(i);var n=a.sibling(i),o=a.child(n),c=a.sibling(o),d=a.child(c);a.reset(c),a.reset(n);var g=a.sibling(n);a.each(g,21,()=>a.get(t).types,a.index,(e,t)=>{var l=u(),s=a.child(l);a.reset(l),a.template_effect(e=>{a.set_attribute(l,"title",e),a.set_text(s,`${a.get(t).vals.length??""} ${a.get(t).type??""}`)},[()=>a.get(t).vals.join(", ")]),a.append(e,l)}),a.reset(g);var m=a.sibling(g),f=a.child(m);f.__click=[v,O,t];var _=a.sibling(f,2),y=e=>{var l=b();l.__click=[p,O,t],a.append(e,l)};a.if(_,e=>{a.get(t).solution&&e(y)}),a.reset(m),a.reset(s),a.template_effect((e,s)=>{a.set_text(r,a.get(t).num),a.set_attribute(n,"title",a.get(t).desc),a.set_text(o,`${a.get(t).name??""} `),a.set_attribute(c,"title",e),a.set_text(d,`${a.get(t).clues.length??""} clues`),l=a.set_class(f,1,"btn btn-sm btn-outline-secondary",null,l,s)},[()=>a.get(t).clues.join("\n\n"),()=>({"btn-outline-danger":!a.get(t).rules.length})]),a.append(e,s)}),a.reset(s),a.reset(l),a.append(e,l)}),a.reset(L),a.bind_value(S,()=>s.value,e=>s.value=e),a.bind_value(C,()=>f.value,e=>f.value=e),a.append(e,k),a.pop()},{target:s}),document.getElementById("appLoading")?.remove()}},i={};function r(e){var t=i[e];if(void 0!==t)return t.exports;var l=i[e]={exports:{}};return a[e](l,l.exports,r),l.exports}r.m=a,r.d=(e,t)=>{for(var l in t)r.o(t,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e=[],r.O=(t,l,s,a)=>{if(l){a=a||0;for(var i=e.length;i>0&&e[i-1][2]>a;i--)e[i]=e[i-1];e[i]=[l,s,a];return}for(var n=1/0,i=0;i<e.length;i++){for(var[l,s,a]=e[i],o=!0,c=0;c<l.length;c++)(!1&a||n>=a)&&Object.keys(r.O).every(e=>r.O[e](l[c]))?l.splice(c--,1):(o=!1,a<n&&(n=a));if(o){e.splice(i--,1);var d=s();void 0!==d&&(t=d)}}return t},r.rv=()=>"1.5.8",t={78:0},r.O.j=e=>0===t[e],l=(e,l)=>{var s,a,[i,n,o]=l,c=0;if(i.some(e=>0!==t[e])){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(o)var d=o(r)}for(e&&e(l);c<i.length;c++)a=i[c],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(d)},(s=self.webpackChunkvwww=self.webpackChunkvwww||[]).forEach(l.bind(null,0)),s.push=l.bind(null,s.push.bind(s)),r.ruid="bundler=rspack@1.5.8";var n=r.O(void 0,["11","1","4","9","2","28","14","32"],function(){return r(118)});n=r.O(n)})();